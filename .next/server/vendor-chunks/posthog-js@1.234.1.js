"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js@1.234.1";
exports.ids = ["vendor-chunks/posthog-js@1.234.1"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/dist/module.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/dist/module.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ v),\n/* harmony export */   Compression: () => (/* binding */ e),\n/* harmony export */   PostHog: () => (/* binding */ ra),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ Ms),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Os),\n/* harmony export */   SurveySchedule: () => (/* binding */ As),\n/* harmony export */   SurveyType: () => (/* binding */ $s),\n/* harmony export */   \"default\": () => (/* binding */ sa),\n/* harmony export */   knownUnsafeEditableEvent: () => (/* binding */ g),\n/* harmony export */   posthog: () => (/* binding */ sa),\n/* harmony export */   severityLevels: () => (/* binding */ f)\n/* harmony export */ });\nvar e,t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,r=Array.prototype,n=r.forEach,s=r.indexOf,o=null==i?void 0:i.navigator,a=null==i?void 0:i.document,l=null==i?void 0:i.location,u=null==i?void 0:i.fetch,c=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,d=null==i?void 0:i.AbortController,h=null==o?void 0:o.userAgent,p=null!=t?t:{},_={DEBUG:!1,LIB_VERSION:\"1.234.1\"},v=\"$copy_autocapture\",g=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];!function(e){e.GZipJS=\"gzip-js\",e.Base64=\"base64\"}(e||(e={}));var f=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function m(e,t){return-1!==e.indexOf(t)}var y=function(e){return e.trim()},b=function(e){return e.replace(/^\\$/,\"\")};var w=Array.isArray,S=Object.prototype,k=S.hasOwnProperty,E=S.toString,x=w||function(e){return\"[object Array]\"===E.call(e)},I=e=>\"function\"==typeof e,C=e=>e===Object(e)&&!x(e),P=e=>{if(C(e)){for(var t in e)if(k.call(e,t))return!1;return!0}return!1},F=e=>void 0===e,T=e=>\"[object String]\"==E.call(e),R=e=>T(e)&&0===e.trim().length,$=e=>null===e,O=e=>F(e)||$(e),M=e=>\"[object Number]\"==E.call(e),A=e=>\"[object Boolean]\"===E.call(e),L=e=>e instanceof FormData,D=e=>m(g,e),q=e=>{var i={_log:function(i){if(t&&(_.DEBUG||p.POSTHOG_DEBUG)&&!F(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[i]?t.console[i].__rrweb_original__:t.console[i]),n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];r(e,...s)}},info:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"error\",...t)},critical:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];console.error(e,...i)},uninitializedWarning:e=>{i.error(\"You must initialize PostHog before calling \".concat(e))},createLogger:t=>q(\"\".concat(e,\" \").concat(t))};return i},N=q(\"[PostHog.js]\"),B=N.createLogger,H=B(\"[ExternalScriptsLoader]\"),j=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return H.warn(\"\".concat(t,\" was requested but loading of external scripts is disabled.\")),i(\"Loading of external scripts is disabled\");var r=null==a?void 0:a.querySelectorAll(\"script\");if(r)for(var n=0;n<r.length;n++)if(r[n].src===t)return i();var s=()=>{if(!a)return i(\"document not found\");var r=a.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=t,r.onload=e=>i(void 0,e),r.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return i(\"prepare_external_dependency_script returned null\");var n,s=a.querySelectorAll(\"body > script\");s.length>0?null===(n=s[0].parentNode)||void 0===n||n.insertBefore(r,s[0]):a.body.appendChild(r)};null!=a&&a.body?s():null==a||a.addEventListener(\"DOMContentLoaded\",s)};function U(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U(Object(i),!0).forEach((function(t){W(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}p.__PosthogExtensions__=p.__PosthogExtensions__||{},p.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var r=\"/static/\".concat(t,\".js\")+\"?v=\".concat(e.version);if(\"remote-config\"===t&&(r=\"/array/\".concat(e.config.token,\"/config.js\")),\"toolbar\"===t){var n=3e5,s=Math.floor(Date.now()/n)*n;r=\"\".concat(r,\"&t=\").concat(s)}var o=e.requestRouter.endpointFor(\"assets\",r);j(e,o,i)},p.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var r=e.requestRouter.endpointFor(\"api\",t);j(e,r,i)};var G={};function J(e,t,i){if(x(e))if(n&&e.forEach===n)e.forEach(t,i);else if(\"length\"in e&&e.length===+e.length)for(var r=0,s=e.length;r<s;r++)if(r in e&&t.call(i,e[r],r)===G)return}function Y(e,t,i){if(!O(e)){if(x(e))return J(e,t,i);if(L(e)){for(var r of e.entries())if(t.call(i,r[1],r[0])===G)return}else for(var n in e)if(k.call(e,n)&&t.call(i,e[n],n)===G)return}}var K=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J(i,(function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])})),e},X=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J(i,(function(t){J(t,(function(t){e.push(t)}))})),e};function Q(e){for(var t=Object.keys(e),i=t.length,r=new Array(i);i--;)r[i]=[t[i],e[t[i]]];return r}var Z=function(e){try{return e()}catch(e){return}},ee=function(e){return function(){try{for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,i)}catch(e){N.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),N.critical(e)}}},te=function(e){var t={};return Y(e,(function(e,i){T(e)&&e.length>0&&(t[i]=e)})),t};function ie(e,t){return i=e,r=e=>T(e)&&!$(t)?e.slice(0,t):e,n=new Set,function e(t,i){return t!==Object(t)?r?r(t,i):t:n.has(t)?void 0:(n.add(t),x(t)?(s=[],J(t,(t=>{s.push(e(t))}))):(s={},Y(t,((t,i)=>{n.has(t)||(s[i]=e(t,i))}))),s);var s}(i);var i,r,n}var re=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function ne(e){var t=null==e?void 0:e.hostname;if(!T(t))return!1;var i=t.split(\".\").slice(-2).join(\".\");for(var r of re)if(i===r)return!1;return!0}function se(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function oe(e,t,i,r){var{capture:n=!1,passive:s=!0}=null!=r?r:{};null==e||e.addEventListener(t,i,{capture:n,passive:s})}var ae=\"$people_distinct_id\",le=\"__alias\",ue=\"__timers\",ce=\"$autocapture_disabled_server_side\",de=\"$heatmaps_enabled_server_side\",he=\"$exception_capture_enabled_server_side\",pe=\"$web_vitals_enabled_server_side\",_e=\"$dead_clicks_enabled_server_side\",ve=\"$web_vitals_allowed_metrics\",ge=\"$session_recording_enabled_server_side\",fe=\"$console_log_recording_enabled_server_side\",me=\"$session_recording_network_payload_capture\",ye=\"$session_recording_masking\",be=\"$session_recording_canvas_recording\",we=\"$replay_sample_rate\",Se=\"$replay_minimum_duration\",ke=\"$replay_script_config\",Ee=\"$sesid\",xe=\"$session_is_sampled\",Ie=\"$session_recording_url_trigger_activated_session\",Ce=\"$session_recording_event_trigger_activated_session\",Pe=\"$enabled_feature_flags\",Fe=\"$early_access_features\",Te=\"$feature_flag_details\",Re=\"$stored_person_properties\",$e=\"$stored_group_properties\",Oe=\"$surveys\",Me=\"$surveys_activated\",Ae=\"$flag_call_reported\",Le=\"$user_state\",De=\"$client_session_props\",qe=\"$capture_rate_limit\",Ne=\"$initial_campaign_params\",Be=\"$initial_referrer_info\",He=\"$initial_person_info\",je=\"$epp\",Ue=\"__POSTHOG_TOOLBAR__\",ze=\"$posthog_cookieless\",We=[ae,le,\"__cmpns\",ue,ge,de,Ee,Pe,Le,Fe,Te,$e,Re,Oe,Ae,De,qe,Ne,Be,je];function Ve(e){var t;return e instanceof Element&&(e.id===Ue||!(null===(t=e.closest)||void 0===t||!t.call(e,\".toolbar-global-fade-container\")))}function Ge(e){return!!e&&1===e.nodeType}function Je(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Ye(e){return!!e&&3===e.nodeType}function Ke(e){return!!e&&11===e.nodeType}function Xe(e){return e?y(e).split(/\\s+/):[]}function Qe(e){var i=null==t?void 0:t.location.href;return!!(i&&e&&e.some((e=>i.match(e))))}function Ze(e){var t=\"\";switch(typeof e.className){case\"string\":t=e.className;break;case\"object\":t=(e.className&&\"baseVal\"in e.className?e.className.baseVal:null)||e.getAttribute(\"class\")||\"\";break;default:t=\"\"}return Xe(t)}function et(e){return O(e)?null:y(e).split(/(\\s+)/).filter((e=>_t(e))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function tt(e){var t=\"\";return ot(e)&&!at(e)&&e.childNodes&&e.childNodes.length&&Y(e.childNodes,(function(e){var i;Ye(e)&&e.textContent&&(t+=null!==(i=et(e.textContent))&&void 0!==i?i:\"\")})),y(t)}function it(e){return F(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var rt=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function nt(e){var t=e.parentNode;return!(!t||!Ge(t))&&t}function st(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(!t||!e||Je(e,\"html\")||!Ge(e))return!1;if(null!=r&&r.url_allowlist&&!Qe(r.url_allowlist))return!1;if(null!=r&&r.url_ignorelist&&Qe(r.url_ignorelist))return!1;if(null!=r&&r.dom_event_allowlist){var o=r.dom_event_allowlist;if(o&&!o.some((e=>i.type===e)))return!1}for(var a=!1,l=[e],u=!0,c=e;c.parentNode&&!Je(c,\"body\");)if(Ke(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(u=nt(c)))break;if(n||rt.indexOf(u.tagName.toLowerCase())>-1)a=!0;else{var d=t.getComputedStyle(u);d&&\"pointer\"===d.getPropertyValue(\"cursor\")&&(a=!0)}l.push(u),c=u}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(F(i))return!0;var r=function(e){if(i.some((t=>e.tagName.toLowerCase()===t)))return{v:!0}};for(var n of e){var s=r(n);if(\"object\"==typeof s)return s.v}return!1}(l,r))return!1;if(!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(F(i))return!0;var r=function(e){if(i.some((t=>e.matches(t))))return{v:!0}};for(var n of e){var s=r(n);if(\"object\"==typeof s)return s.v}return!1}(l,r))return!1;var h=t.getComputedStyle(e);if(h&&\"pointer\"===h.getPropertyValue(\"cursor\")&&\"click\"===i.type)return!0;var p=e.tagName.toLowerCase();switch(p){case\"html\":return!1;case\"form\":return(s||[\"submit\"]).indexOf(i.type)>=0;case\"input\":case\"select\":case\"textarea\":return(s||[\"change\",\"click\"]).indexOf(i.type)>=0;default:return a?(s||[\"click\"]).indexOf(i.type)>=0:(s||[\"click\"]).indexOf(i.type)>=0&&(rt.indexOf(p)>-1||\"true\"===e.getAttribute(\"contenteditable\"))}}function ot(e){for(var t=e;t.parentNode&&!Je(t,\"body\");t=t.parentNode){var i=Ze(t);if(m(i,\"ph-sensitive\")||m(i,\"ph-no-capture\"))return!1}if(m(Ze(e),\"ph-include\"))return!0;var r=e.type||\"\";if(T(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var n=e.name||e.id||\"\";if(T(n)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(n.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function at(e){return!!(Je(e,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(e.type)||Je(e,\"select\")||Je(e,\"textarea\")||\"true\"===e.getAttribute(\"contenteditable\"))}var lt=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",ut=new RegExp(\"^(?:\".concat(lt,\")$\")),ct=new RegExp(lt),dt=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",ht=new RegExp(\"^(\".concat(dt,\")$\")),pt=new RegExp(\"(\".concat(dt,\")\"));function _t(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(O(e))return!1;if(T(e)){if(e=y(e),(t?ut:ct).test((e||\"\").replace(/[- ]/g,\"\")))return!1;if((t?ht:pt).test(e))return!1}return!0}function vt(e){var t=tt(e);return _t(t=\"\".concat(t,\" \").concat(gt(e)).trim())?t:\"\"}function gt(e){var t=\"\";return e&&e.childNodes&&e.childNodes.length&&Y(e.childNodes,(function(e){var i;if(e&&\"span\"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase()))try{var r=tt(e);t=\"\".concat(t,\" \").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t=\"\".concat(t,\" \").concat(gt(e)).trim())}catch(e){N.error(\"[AutoCapture]\",e)}})),t}function ft(e){return function(e){var t=e.map((e=>{var t,i,r=\"\";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var n of(e.attr_class.sort(),e.attr_class))r+=\".\".concat(n.replace(/\"/g,\"\"));var s=z(z(z(z({},e.text?{text:e.text}:{}),{},{\"nth-child\":null!==(t=e.nth_child)&&void 0!==t?t:0,\"nth-of-type\":null!==(i=e.nth_of_type)&&void 0!==i?i:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),o={};return Q(s).sort(((e,t)=>{var[i]=e,[r]=t;return i.localeCompare(r)})).forEach((e=>{var[t,i]=e;return o[mt(t.toString())]=mt(i.toString())})),r+=\":\",r+=Q(s).map((e=>{var[t,i]=e;return\"\".concat(t,'=\"').concat(i,'\"')})).join(\"\")}));return t.join(\";\")}(function(e){return e.map((e=>{var t,i,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(i=e.attr__href)||void 0===i?void 0:i.slice(0,2048),attr_class:yt(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Q(e).filter((e=>{var[t]=e;return 0===t.indexOf(\"attr__\")})).forEach((e=>{var[t,i]=e;return r.attributes[t]=i})),r}))}(e))}function mt(e){return e.replace(/\"|\\\\\"/g,'\\\\\"')}function yt(e){var t=e.attr__class;return t?x(t)?t:Xe(t):void 0}class bt{constructor(){this.clicks=[]}isRageClick(e,t,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var wt=[\"localhost\",\"127.0.0.1\"],St=e=>{var t=null==a?void 0:a.createElement(\"a\");return F(t)?null:(t.href=e,t)},kt=function(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\",n=[];return Y(e,(function(e,r){F(e)||F(r)||\"undefined\"===r||(t=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),i=encodeURIComponent(r),n[n.length]=i+\"=\"+t)})),n.join(r)},Et=function(e,t){for(var i,r=((e.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),n=0;n<r.length;n++){var s=r[n].split(\"=\");if(s[0]===t){i=s;break}}if(!x(i)||i.length<2)return\"\";var o=i[1];try{o=decodeURIComponent(o)}catch(e){N.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},xt=function(e,t,i){if(!e||!t||!t.length)return e;for(var r=e.split(\"#\"),n=r[0]||\"\",s=r[1],o=n.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),c=[],d=0;d<u.length;d++){var h=u[d].split(\"=\");x(h)&&(t.includes(h[0])?c.push(h[0]+\"=\"+i):c.push(u[d]))}var p=l;return null!=a&&(p+=\"?\"+c.join(\"&\")),null!=s&&(p+=\"#\"+s),p},It=function(e,t){var i=e.match(new RegExp(t+\"=([^&]*)\"));return i?i[1]:null},Ct=B(\"[AutoCapture]\");function Pt(e,t){return t.length>e?t.slice(0,e)+\"...\":t}function Ft(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Ge(t));return t}function Tt(e,t,i,r){var n=e.tagName.toLowerCase(),s={tag_name:n};rt.indexOf(n)>-1&&!i&&(\"a\"===n.toLowerCase()||\"button\"===n.toLowerCase()?s.$el_text=Pt(1024,vt(e)):s.$el_text=Pt(1024,tt(e)));var o=Ze(e);o.length>0&&(s.classes=o.filter((function(e){return\"\"!==e}))),Y(e.attributes,(function(i){var n;if((!at(e)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(i.name))&&((null==r||!r.includes(i.name))&&!t&&_t(i.value)&&(n=i.name,!T(n)||\"_ngcontent\"!==n.substring(0,10)&&\"_nghost\"!==n.substring(0,7)))){var o=i.value;\"class\"===i.name&&(o=Xe(o).join(\" \")),s[\"attr__\"+i.name]=Pt(1024,o)}}));for(var a=1,l=1,u=e;u=Ft(u);)a++,u.tagName===e.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function Rt(e,i){for(var r,n,{e:s,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=i,c=[e],d=e;d.parentNode&&!Je(d,\"body\");)Ke(d.parentNode)?(c.push(d.parentNode.host),d=d.parentNode.host):(c.push(d.parentNode),d=d.parentNode);var h,p=[],_={},v=!1,g=!1;if(Y(c,(e=>{var t=ot(e);\"a\"===e.tagName.toLowerCase()&&(v=e.getAttribute(\"href\"),v=t&&v&&_t(v)&&v),m(Ze(e),\"ph-no-capture\")&&(g=!0),p.push(Tt(e,o,a,l));var i=function(e){if(!ot(e))return{};var t={};return Y(e.attributes,(function(e){if(e.name&&0===e.name.indexOf(\"data-ph-capture-attribute\")){var i=e.name.replace(\"data-ph-capture-attribute-\",\"\"),r=e.value;i&&r&&_t(r)&&(t[i]=r)}})),t}(e);K(_,i)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===e.tagName.toLowerCase()||\"button\"===e.tagName.toLowerCase()?p[0].$el_text=vt(e):p[0].$el_text=tt(e)),v){var f,y;p[0].attr__href=v;var b=null===(f=St(v))||void 0===f?void 0:f.host,w=null==t||null===(y=t.location)||void 0===y?void 0:y.host;b&&w&&b!==w&&(h=v)}return{props:K({$event_type:s.type,$ce_version:1},u?{}:{$elements:p},{$elements_chain:ft(p)},null!==(r=p[0])&&void 0!==r&&r.$el_text?{$el_text:null===(n=p[0])||void 0===n?void 0:n.$el_text}:{},h&&\"click\"===s.type?{$external_click_url:h}:{},_)}}class $t{constructor(e){W(this,\"_initialized\",!1),W(this,\"_isDisabledServerSide\",null),W(this,\"rageclicks\",new bt),W(this,\"_elementsChainAsString\",!1),this.instance=e,this._elementSelectors=null}get config(){var e,t,i=C(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map((e=>new RegExp(e))),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map((e=>new RegExp(e))),i}_addDomEventHandlers(){if(this.isBrowserSupported()){if(t&&a){var e=e=>{e=e||(null==t?void 0:t.event);try{this._captureEvent(e)}catch(e){Ct.error(\"Failed to capture event\",e)}};if(oe(a,\"submit\",e,{capture:!0}),oe(a,\"change\",e,{capture:!0}),oe(a,\"click\",e,{capture:!0}),this.config.capture_copied_text){var i=e=>{e=e||(null==t?void 0:t.event),this._captureEvent(e,v)};oe(a,\"copy\",i,{capture:!0}),oe(a,\"cut\",i,{capture:!0})}}}else Ct.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ce]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t,i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((t=>{var r=null==a?void 0:a.querySelectorAll(t);null==r||r.forEach((r=>{e===r&&i.push(t)}))})),i}get isEnabled(){var e,t,i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[ce],r=this._isDisabledServerSide;if($(r)&&!A(i)&&!this.instance.config.advanced_disable_decide)return!1;var n=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!n}_captureEvent(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"$autocapture\";if(this.isEnabled){var r,n=it(e);if(Ye(n)&&(n=n.parentNode||null),\"$autocapture\"===i&&\"click\"===e.type&&e instanceof MouseEvent)this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,\"$rageclick\");var s=i===v;if(n&&st(n,e,this.config,s,s?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=Rt(n,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(a)return!1;var l=this.getElementSelectors(n);if(l&&l.length>0&&(o.$element_selectors=l),i===v){var u,c=et(null==t||null===(u=t.getSelection())||void 0===u?void 0:u.toString()),d=e.type||\"clipboard\";if(!c)return!1;o.$selected_content=c,o.$copy_type=d}return this.instance.capture(i,o),!0}}}isBrowserSupported(){return I(null==a?void 0:a.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return M(e)&&isFinite(e)&&Math.floor(e)===e});var Ot=\"0123456789abcdef\";class Mt{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(e,t,i,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||t<0||i<0||r<0||e>0xffffffffffff||t>4095||i>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var n=new Uint8Array(16);return n[0]=e/Math.pow(2,40),n[1]=e/Math.pow(2,32),n[2]=e/Math.pow(2,24),n[3]=e/Math.pow(2,16),n[4]=e/Math.pow(2,8),n[5]=e,n[6]=112|t>>>8,n[7]=t,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=r>>>24,n[13]=r>>>16,n[14]=r>>>8,n[15]=r,new Mt(n)}toString(){for(var e=\"\",t=0;t<this.bytes.length;t++)e=e+Ot.charAt(this.bytes[t]>>>4)+Ot.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+=\"-\");if(36!==e.length)throw new Error(\"Invalid UUIDv7 was generated\");return e}clone(){return new Mt(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class At{constructor(){W(this,\"timestamp\",0),W(this,\"counter\",0),W(this,\"random\",new qt)}generate(){var e=this.generateOrAbort();if(F(e)){this.timestamp=0;var t=this.generateOrAbort();if(F(t))throw new Error(\"Could not generate UUID after timestamp reset\");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Mt.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var Lt,Dt=e=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};t&&!F(t.crypto)&&crypto.getRandomValues&&(Dt=e=>crypto.getRandomValues(e));class qt{constructor(){W(this,\"buffer\",new Uint32Array(8)),W(this,\"cursor\",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(Dt(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var Nt=()=>Bt().toString(),Bt=()=>(Lt||(Lt=new At)).generate(),Ht=\"Thu, 01 Jan 1970 00:00:00 GMT\",jt=\"\";var Ut=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function zt(e,t){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(jt)return jt;if(!t)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(e))return\"\";for(var i=e.split(\".\"),r=Math.min(i.length,8),n=\"dmn_chk_\"+Nt(),s=new RegExp(\"(^|;)\\\\s*\"+n+\"=1\");!jt&&r--;){var o=i.slice(r).join(\".\"),l=n+\"=1;domain=.\"+o;t.cookie=l,s.test(t.cookie)&&(t.cookie=l+\";expires=\"+Ht,jt=o)}return jt}(e);if(!i){var r=(e=>{var t=e.match(Ut);return t?t[0]:\"\"})(e);r!==i&&N.info(\"Warning: cookie subdomain discovery mismatch\",r,i),i=r}return i?\"; domain=.\"+i:\"\"}return\"\"}var Wt,Vt={is_supported:()=>!!a,error:function(e){N.error(\"cookieStore error: \"+e)},get:function(e){if(a){try{for(var t=e+\"=\",i=a.cookie.split(\";\").filter((e=>e.length)),r=0;r<i.length;r++){for(var n=i[r];\" \"==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(Vt.get(e))||{}}catch(e){}return t},set:function(e,t,i,r,n){if(a)try{var s=\"\",o=\"\",l=zt(a.location.hostname,r);if(i){var u=new Date;u.setTime(u.getTime()+24*i*60*60*1e3),s=\"; expires=\"+u.toUTCString()}n&&(o=\"; secure\");var c=e+\"=\"+encodeURIComponent(JSON.stringify(t))+s+\"; SameSite=Lax; path=/\"+l+o;return c.length>3686.4&&N.warn(\"cookieStore warning: large cookie, len=\"+c.length),a.cookie=c,c}catch(e){return}},remove:function(e,t){try{Vt.set(e,\"\",-1,t)}catch(e){return}}},Gt=null,Jt={is_supported:function(){if(!$(Gt))return Gt;var e=!0;if(F(t))e=!1;else try{var i=\"__mplssupport__\";Jt.set(i,\"xyz\"),'\"xyz\"'!==Jt.get(i)&&(e=!1),Jt.remove(i)}catch(t){e=!1}return e||N.error(\"localStorage unsupported; falling back to cookie store\"),Gt=e,e},error:function(e){N.error(\"localStorage error: \"+e)},get:function(e){try{return null==t?void 0:t.localStorage.getItem(e)}catch(e){Jt.error(e)}return null},parse:function(e){try{return JSON.parse(Jt.get(e))||{}}catch(e){}return null},set:function(e,i){try{null==t||t.localStorage.setItem(e,JSON.stringify(i))}catch(e){Jt.error(e)}},remove:function(e){try{null==t||t.localStorage.removeItem(e)}catch(e){Jt.error(e)}}},Yt=[\"distinct_id\",Ee,xe,je,He],Kt=z(z({},Jt),{},{parse:function(e){try{var t={};try{t=Vt.parse(e)||{}}catch(e){}var i=K(t,JSON.parse(Jt.get(e)||\"{}\"));return Jt.set(e,i),i}catch(e){}return null},set:function(e,t,i,r,n,s){try{Jt.set(e,t,void 0,void 0,s);var o={};Yt.forEach((e=>{t[e]&&(o[e]=t[e])})),Object.keys(o).length&&Vt.set(e,o,i,r,n,s)}catch(e){Jt.error(e)}},remove:function(e,i){try{null==t||t.localStorage.removeItem(e),Vt.remove(e,i)}catch(e){Jt.error(e)}}}),Xt={},Qt={is_supported:function(){return!0},error:function(e){N.error(\"memoryStorage error: \"+e)},get:function(e){return Xt[e]||null},parse:function(e){return Xt[e]||null},set:function(e,t){Xt[e]=t},remove:function(e){delete Xt[e]}},Zt=null,ei={is_supported:function(){if(!$(Zt))return Zt;if(Zt=!0,F(t))Zt=!1;else try{var e=\"__support__\";ei.set(e,\"xyz\"),'\"xyz\"'!==ei.get(e)&&(Zt=!1),ei.remove(e)}catch(e){Zt=!1}return Zt},error:function(e){N.error(\"sessionStorage error: \",e)},get:function(e){try{return null==t?void 0:t.sessionStorage.getItem(e)}catch(e){ei.error(e)}return null},parse:function(e){try{return JSON.parse(ei.get(e))||null}catch(e){}return null},set:function(e,i){try{null==t||t.sessionStorage.setItem(e,JSON.stringify(i))}catch(e){ei.error(e)}},remove:function(e){try{null==t||t.sessionStorage.removeItem(e)}catch(e){ei.error(e)}}};!function(e){e[e.PENDING=-1]=\"PENDING\",e[e.DENIED=0]=\"DENIED\",e[e.GRANTED=1]=\"GRANTED\"}(Wt||(Wt={}));class ti{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?Wt.DENIED:this.storedConsent}isOptedOut(){return this.consent===Wt.DENIED||this.consent===Wt.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||\"__ph_opt_in_out_\")+e}get storedConsent(){var e=this.storage.get(this.storageKey);return\"1\"===e?Wt.GRANTED:\"0\"===e?Wt.DENIED:Wt.PENDING}get storage(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage=\"localStorage\"===e?Jt:Vt;var t=\"localStorage\"===e?Vt:Jt;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(\"1\"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!se([null==o?void 0:o.doNotTrack,null==o?void 0:o.msDoNotTrack,p.doNotTrack],(e=>m([!0,1,\"1\",\"yes\"],e)))}}var ii=B(\"[Dead Clicks]\"),ri=()=>!0,ni=e=>{var t,i=!(null===(t=e.instance.persistence)||void 0===t||!t.get_property(_e)),r=e.instance.config.capture_dead_clicks;return A(r)?r:i};class si{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[_e]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript((()=>{this.start()}))}loadScript(e){var t,i,r;null!==(t=p.__PosthogExtensions__)&&void 0!==t&&t.initDeadClicksAutocapture&&e(),null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"dead-clicks-autocapture\",(t=>{t?ii.error(\"failed to load script\",t):e()}))}start(){var e;if(a){if(!this._lazyLoadedDeadClicksAutocapture&&null!==(e=p.__PosthogExtensions__)&&void 0!==e&&e.initDeadClicksAutocapture){var t=C(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=p.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this._lazyLoadedDeadClicksAutocapture.start(a),ii.info(\"starting...\")}}else ii.error(\"`document` not found. Cannot start.\")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,ii.info(\"stopping...\"))}}var oi=B(\"[ExceptionAutocapture]\");class ai{constructor(e){var i;W(this,\"startCapturing\",(()=>{var e,i,r,n,s,o;if(t&&this.isEnabled){var a=null===(e=p.__PosthogExtensions__)||void 0===e||null===(i=e.errorWrappingFunctions)||void 0===i?void 0:i.wrapOnError,l=null===(r=p.__PosthogExtensions__)||void 0===r||null===(n=r.errorWrappingFunctions)||void 0===n?void 0:n.wrapUnhandledRejection,u=null===(s=p.__PosthogExtensions__)||void 0===s||null===(o=s.errorWrappingFunctions)||void 0===o?void 0:o.wrapConsoleError;if(a&&l&&u)try{this.unwrapOnError||(this.unwrapOnError=a(this.captureException.bind(this))),this.unwrapUnhandledRejection||(this.unwrapUnhandledRejection=l(this.captureException.bind(this))),this.unwrapConsoleError||(this.unwrapConsoleError=u(this.captureException.bind(this)))}catch(e){oi.error(\"failed to start\",e),this.stopCapturing()}else oi.error(\"failed to load error wrapping functions - cannot start\")}})),this.instance=e,this.remoteEnabled=!(null===(i=this.instance.persistence)||void 0===i||!i.props[he]),this.config=this.requiredConfig(),this.startIfEnabled()}requiredConfig(){var e=this.instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return C(e)?t=z(z({},t),e):(F(e)?this.remoteEnabled:e)&&(t=z(z({},t),{},{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.config.capture_console_errors||this.config.capture_unhandled_errors||this.config.capture_unhandled_rejections}get hasHandlers(){return!F(this.unwrapOnError)&&!F(this.unwrapUnhandledRejection)&&!F(this.unwrapConsoleError)}startIfEnabled(){this.isEnabled&&!this.hasHandlers&&(oi.info(\"enabled, starting...\"),this.loadScript(this.startCapturing))}loadScript(e){var t,i;this.hasHandlers&&e(),null===(t=p.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,\"exception-autocapture\",(t=>{if(t)return oi.error(\"failed to load script\",t);e()}))}stopCapturing(){var e,t,i;null===(e=this.unwrapOnError)||void 0===e||e.call(this),this.unwrapOnError=void 0,null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this),this.unwrapUnhandledRejection=void 0,null===(i=this.unwrapConsoleError)||void 0===i||i.call(this),this.unwrapConsoleError=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.config=this.requiredConfig(),this.instance.persistence&&this.instance.persistence.register({[he]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){var t=this.instance.requestRouter.endpointFor(\"ui\");e.$exception_personURL=\"\".concat(t,\"/project/\").concat(this.instance.config.token,\"/person/\").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}function li(e){return!F(Event)&&ui(e,Event)}function ui(e,t){try{return e instanceof t}catch(e){return!1}}function ci(e,t){return Object.prototype.toString.call(e)===\"[object \".concat(t,\"]\")}function di(e){return ci(e,\"DOMError\")}var hi=/\\(error: (.*)\\)/,pi=50,_i=\"?\";function vi(e,t,i,r){var n={platform:\"web:javascript\",filename:e,function:\"<anonymous>\"===t?_i:t,in_app:!0};return F(i)||(n.lineno=i),F(r)||(n.colno=r),n}var gi=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,fi=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,mi=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,yi=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,bi=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,wi=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=e.split(\"\\n\"),s=t;s<n.length;s++){var o=n[s];if(!(o.length>1024)){var a=hi.test(o)?o.replace(hi,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of r){var u=l(a);if(u){i.push(u);break}}if(i.length>=pi)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return t.reverse(),t.slice(0,pi).map((e=>z(z({},e),{},{filename:e.filename||Si(t).filename,function:e.function||_i})))}(i)}}(...[[30,e=>{var t=gi.exec(e);if(t){var[,i,r,n]=t;return vi(i,_i,+r,+n)}var s=fi.exec(e);if(s){if(s[2]&&0===s[2].indexOf(\"eval\")){var o=mi.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=Ii(s[1]||_i,s[2]);return vi(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,e=>{var t=yi.exec(e);if(t){if(t[3]&&t[3].indexOf(\" > eval\")>-1){var i=bi.exec(t[3]);i&&(t[1]=t[1]||\"eval\",t[3]=i[1],t[4]=i[2],t[5]=\"\")}var r=t[3],n=t[1]||_i;return[n,r]=Ii(n,r),vi(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]);function Si(e){return e[e.length-1]||{}}var ki,Ei,xi,Ii=(e,t)=>{var i=-1!==e.indexOf(\"safari-extension\"),r=-1!==e.indexOf(\"safari-web-extension\");return i||r?[-1!==e.indexOf(\"@\")?e.split(\"@\")[0]:_i,i?\"safari-extension:\".concat(t):\"safari-web-extension:\".concat(t)]:[e,t]};var Ci=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.stacktrace||e.stack||\"\",r=function(e){if(e&&Fi.test(e.message))return 1;return 0}(e);try{var n=wi,s=function(e,t){var i=function(e){var t=globalThis._posthogChunkIds;if(!t)return{};var i=Object.keys(t);return xi&&i.length===Ei||(Ei=i.length,xi=i.reduce(((i,r)=>{ki||(ki={});var n=ki[r];if(n)i[n[0]]=n[1];else for(var s=e(r),o=s.length-1;o>=0;o--){var a=s[o],l=null==a?void 0:a.filename,u=t[r];if(l&&u){i[l]=u,ki[r]=[l,u];break}}return i}),{})),xi}(t);return e.forEach((e=>{e.filename&&(e.chunk_id=i[e.filename])})),e}(n(i,r),n);return s.slice(0,s.length-t)}catch(e){}return[]}var Fi=/Minified React error #\\d+;/i;function Ti(e,t){var i,r,n=Pi(e),s=null===(i=null==t?void 0:t.handled)||void 0===i||i,o=null!==(r=null==t?void 0:t.synthetic)&&void 0!==r&&r;return{$exception_list:[{type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:e.name,value:null!=t&&t.overrideExceptionMessage?t.overrideExceptionMessage:function(e){var t=e.message;if(t.error&&\"string\"==typeof t.error.message)return t.error.message;return t}(e),stacktrace:{frames:n,type:\"raw\"},mechanism:{handled:s,synthetic:o}}],$exception_level:\"error\"}}function Ri(e,t){var i,r,n,s=null===(i=null==t?void 0:t.handled)||void 0===i||i,o=null===(r=null==t?void 0:t.synthetic)||void 0===r||r,a={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:null!==(n=null==t?void 0:t.defaultExceptionType)&&void 0!==n?n:\"Error\",value:null!=t&&t.overrideExceptionMessage?t.overrideExceptionMessage:e||(null==t?void 0:t.defaultExceptionMessage),mechanism:{handled:s,synthetic:o}};if(null!=t&&t.syntheticException){var l=Pi(t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:\"raw\"})}return{$exception_list:[a],$exception_level:\"error\"}}function $i(e){return T(e)&&!R(e)&&f.indexOf(e)>=0}function Oi(e,t){var i,r,n=null===(i=null==t?void 0:t.handled)||void 0===i||i,s=null===(r=null==t?void 0:t.synthetic)||void 0===r||r,o=null!=t&&t.overrideExceptionType?t.overrideExceptionType:li(e)?e.constructor.name:\"Error\",a=null!=t&&t.overrideExceptionMessage?t.overrideExceptionMessage:\"Non-Error \".concat(\"exception\",\" captured with keys: \",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,i=Object.keys(e);if(i.sort(),!i.length)return\"[object has no keys]\";for(var r=i.length;r>0;r--){var n=i.slice(0,r).join(\", \");if(!(n.length>t))return r===i.length||n.length<=t?n:\"\".concat(n.slice(0,t),\"...\")}return\"\"}(e)),l={type:o,value:a,mechanism:{handled:n,synthetic:s}};if(null!=t&&t.syntheticException){var u=Pi(null==t?void 0:t.syntheticException,1);u.length&&(l.stacktrace={frames:u,type:\"raw\"})}return{$exception_list:[l],$exception_level:$i(e.level)?e.level:\"error\"}}function Mi(e,t){var{error:i,event:r}=e,n={$exception_list:[]},s=i||r;if(di(s)||function(e){return ci(e,\"DOMException\")}(s)){var o=s;if(function(e){return\"stack\"in e}(s))n=Ti(s,t);else{var a=o.name||(di(o)?\"DOMError\":\"DOMException\"),l=o.message?\"\".concat(a,\": \").concat(o.message):a,u=di(o)?\"DOMError\":\"DOMException\";n=Ri(l,z(z({},t),{},{overrideExceptionType:u,defaultExceptionMessage:l}))}return\"code\"in o&&(n.$exception_DOMException_code=\"\".concat(o.code)),n}if(function(e){return ci(e,\"ErrorEvent\")}(s)&&s.error)return Ti(s.error,t);if(function(e){switch(Object.prototype.toString.call(e)){case\"[object Error]\":case\"[object Exception]\":case\"[object DOMException]\":case\"[object DOMError]\":return!0;default:return ui(e,Error)}}(s))return Ti(s,t);if(function(e){return ci(e,\"Object\")}(s)||li(s))return Oi(s,t);if(F(i)&&T(r)){var c=\"Error\",d=r,h=r.match(Ci);return h&&(c=h[1],d=h[2]),Ri(d,z(z({},t),{},{overrideExceptionType:c,defaultExceptionMessage:d}))}return Ri(s,t)}function Ai(e){var t,i;return(null===(t=JSON.stringify(e,(i=[],function(e,t){if(C(t)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(t)?\"[Circular]\":(i.push(t),t)}return t})))||void 0===t?void 0:t.length)||0}function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var i=Math.floor(e.data.length/2),r=e.data.slice(0,i),n=e.data.slice(i);return[Li({size:Ai(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Li({size:Ai(n),data:n,sessionId:e.sessionId,windowId:e.windowId})].flatMap((e=>e))}return[e]}var Di=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(Di||{}),qi=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(qi||{}),Ni=\"[SessionRecording]\",Bi=\"redacted\",Hi={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\"]},ji=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],Ui=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],zi=[\"/s/\",\"/e/\",\"/i/\"];function Wi(e,t,i,r){if(O(e))return e;var n=(null==t?void 0:t[\"content-length\"])||function(e){return new Blob([e]).size}(e);return T(n)&&(n=parseInt(n)),n>i?Ni+\" \".concat(r,\" body too large to record (\").concat(n,\" bytes)\"):e}function Vi(e,t){if(O(e))return e;var i=e;return _t(i,!1)||(i=Ni+\" \"+t+\" body \"+Bi),Y(Ui,(e=>{var r,n;null!==(r=i)&&void 0!==r&&r.length&&-1!==(null===(n=i)||void 0===n?void 0:n.indexOf(e))&&(i=Ni+\" \"+t+\" body \"+Bi+\" as might contain: \"+e)})),i}var Gi=(e,t)=>{var i,r,n,s={payloadSizeLimitBytes:Hi.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Hi.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...Hi.payloadHostDenyList]},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,u=(i=s,n=Math.min(1e6,null!==(r=i.payloadSizeLimitBytes)&&void 0!==r?r:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=Wi(e.requestBody,e.requestHeaders,n,\"Request\")),null!=e&&e.responseBody&&(e.responseBody=Wi(e.responseBody,e.responseHeaders,n,\"Response\")),e)),c=t=>{return u(((e,t)=>{var i,r=St(e.name),n=0===t.indexOf(\"http\")?null===(i=St(t))||void 0===i?void 0:i.pathname:t;\"/\"===n&&(n=\"\");var s=null==r?void 0:r.pathname.replace(n||\"\",\"\");if(!(r&&s&&zi.some((e=>0===s.indexOf(e)))))return e})((r=(i=t).requestHeaders,O(r)||Y(Object.keys(null!=r?r:{}),(e=>{ji.includes(e.toLowerCase())&&(r[e]=Bi)})),i),e.api_host));var i,r},d=I(e.session_recording.maskNetworkRequestFn);return d&&I(e.session_recording.maskCapturedNetworkRequestFn)&&N.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var i=e.session_recording.maskNetworkRequestFn({url:t.name});return z(z({},t),{},{name:null==i?void 0:i.url})}),s.maskRequestFn=I(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,r,n,s=c(t);return s&&null!==(i=null===(r=(n=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(n,s))&&void 0!==i?i:void 0}:e=>function(e){if(!F(e))return e.requestBody=Vi(e.requestBody,\"Request\"),e.responseBody=Vi(e.responseBody,\"Response\"),e}(c(e)),z(z(z({},Hi),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};function Ji(e,t,i,r,n){return t>i&&(N.warn(\"min cannot be greater than max.\"),t=i),M(e)?e>i?(r&&N.warn(r+\" cannot be  greater than max: \"+i+\". Using max value instead.\"),i):e<t?(r&&N.warn(r+\" cannot be less than min: \"+t+\". Using min value instead.\"),t):e:(r&&N.warn(r+\" must be a number. using max or fallback. max: \"+i+\", fallback: \"+n),Ji(n||i,t,i,r))}class Yi{constructor(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(this,\"bucketSize\",100),W(this,\"refillRate\",10),W(this,\"mutationBuckets\",{}),W(this,\"loggedTracker\",{}),W(this,\"refillBuckets\",(()=>{Object.keys(this.mutationBuckets).forEach((e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]}))})),W(this,\"getNodeOrRelevantParent\",(e=>{var t=this.rrweb.mirror.getNode(e);if(\"svg\"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest(\"svg\");if(i)return[this.rrweb.mirror.getId(i),i]}return[e,t]})),W(this,\"numberOfChanges\",(e=>{var t,i,r,n,s,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(r=null===(n=e.attributes)||void 0===n?void 0:n.length)&&void 0!==r?r:0)+(null!==(s=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==s?s:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)})),W(this,\"throttleMutations\",(e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((e=>{var t,i,r,[n,s]=this.getNodeOrRelevantParent(e.id);if(0===this.mutationBuckets[n])return!1;(this.mutationBuckets[n]=null!==(t=this.mutationBuckets[n])&&void 0!==t?t:this.bucketSize,this.mutationBuckets[n]=Math.max(this.mutationBuckets[n]-1,0),0===this.mutationBuckets[n])&&(this.loggedTracker[n]||(this.loggedTracker[n]=!0,null===(i=(r=this.options).onBlockedNode)||void 0===i||i.call(r,n,s)));return e})));var r=this.numberOfChanges(t);return 0!==r||i===r?e:void 0})),this.rrweb=e,this.options=r,this.refillRate=Ji(null!==(t=this.options.refillRate)&&void 0!==t?t:this.refillRate,0,100,\"mutation throttling refill rate\"),this.bucketSize=Ji(null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,0,100,\"mutation throttling bucket size\"),setInterval((()=>{this.refillBuckets()}),1e3)}}var Ki=Uint8Array,Xi=Uint16Array,Qi=Uint32Array,Zi=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),er=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tr=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ir=function(e,t){for(var i=new Xi(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];var n=new Qi(i[30]);for(r=1;r<30;++r)for(var s=i[r];s<i[r+1];++s)n[s]=s-i[r]<<5|r;return[i,n]},rr=ir(Zi,2),nr=rr[0],sr=rr[1];nr[28]=258,sr[258]=28;for(var or=ir(er,0)[1],ar=new Xi(32768),lr=0;lr<32768;++lr){var ur=(43690&lr)>>>1|(21845&lr)<<1;ur=(61680&(ur=(52428&ur)>>>2|(13107&ur)<<2))>>>4|(3855&ur)<<4,ar[lr]=((65280&ur)>>>8|(255&ur)<<8)>>>1}var cr=function(e,t,i){for(var r=e.length,n=0,s=new Xi(t);n<r;++n)++s[e[n]-1];var o,a=new Xi(t);for(n=0;n<t;++n)a[n]=a[n-1]+s[n-1]<<1;if(i){o=new Xi(1<<t);var l=15-t;for(n=0;n<r;++n)if(e[n])for(var u=n<<4|e[n],c=t-e[n],d=a[e[n]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)o[ar[d]>>>l]=u}else for(o=new Xi(r),n=0;n<r;++n)o[n]=ar[a[e[n]-1]++]>>>15-e[n];return o},dr=new Ki(288);for(lr=0;lr<144;++lr)dr[lr]=8;for(lr=144;lr<256;++lr)dr[lr]=9;for(lr=256;lr<280;++lr)dr[lr]=7;for(lr=280;lr<288;++lr)dr[lr]=8;var hr=new Ki(32);for(lr=0;lr<32;++lr)hr[lr]=5;var pr=cr(dr,9,0),_r=cr(hr,5,0),vr=function(e){return(e/8>>0)+(7&e&&1)},gr=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof Xi?Xi:e instanceof Qi?Qi:Ki)(i-t);return r.set(e.subarray(t,i)),r},fr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8},mr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},yr=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var n=i.length,s=i.slice();if(!n)return[new Ki(0),0];if(1==n){var o=new Ki(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],u=0,c=1,d=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=n-1;)a=i[i[u].f<i[d].f?u++:d++],l=i[u!=c&&i[u].f<i[d].f?u++:d++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<n;++r)s[r].s>h&&(h=s[r].s);var p=new Xi(h+1),_=br(i[c-1],p,0);if(_>t){r=0;var v=0,g=_-t,f=1<<g;for(s.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<n;++r){var m=s[r].s;if(!(p[m]>t))break;v+=f-(1<<_-p[m]),p[m]=t}for(v>>>=g;v>0;){var y=s[r].s;p[y]<t?v-=1<<t-p[y]++-1:++r}for(;r>=0&&v;--r){var b=s[r].s;p[b]==t&&(--p[b],++v)}_=t}return[new Ki(p),_]},br=function(e,t,i){return-1==e.s?Math.max(br(e.l,t,i+1),br(e.r,t,i+1)):t[e.s]=i},wr=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new Xi(++t),r=0,n=e[0],s=1,o=function(e){i[r++]=e},a=1;a<=t;++a)if(e[a]==n&&a!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=e[a]}return[i.subarray(0,r),t]},Sr=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},kr=function(e,t,i){var r=i.length,n=vr(t+2);e[n]=255&r,e[n+1]=r>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var s=0;s<r;++s)e[n+s+4]=i[s];return 8*(n+4+r)},Er=function(e,t,i,r,n,s,o,a,l,u,c){fr(t,c++,i),++n[256];for(var d=yr(n,15),h=d[0],p=d[1],_=yr(s,15),v=_[0],g=_[1],f=wr(h),m=f[0],y=f[1],b=wr(v),w=b[0],S=b[1],k=new Xi(19),E=0;E<m.length;++E)k[31&m[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=yr(k,7),I=x[0],C=x[1],P=19;P>4&&!I[tr[P-1]];--P);var F,T,R,$,O=u+5<<3,M=Sr(n,dr)+Sr(s,hr)+o,A=Sr(n,h)+Sr(s,v)+o+14+3*P+Sr(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(O<=M&&O<=A)return kr(t,c,e.subarray(l,l+u));if(fr(t,c,1+(A<M)),c+=2,A<M){F=cr(h,p,0),T=h,R=cr(v,g,0),$=v;var L=cr(I,C,0);fr(t,c,y-257),fr(t,c+5,S-1),fr(t,c+10,P-4),c+=14;for(E=0;E<P;++E)fr(t,c+3*E,I[tr[E]]);c+=3*P;for(var D=[m,w],q=0;q<2;++q){var N=D[q];for(E=0;E<N.length;++E){var B=31&N[E];fr(t,c,L[B]),c+=I[B],B>15&&(fr(t,c,N[E]>>>5&127),c+=N[E]>>>12)}}}else F=pr,T=dr,R=_r,$=hr;for(E=0;E<a;++E)if(r[E]>255){B=r[E]>>>18&31;mr(t,c,F[B+257]),c+=T[B+257],B>7&&(fr(t,c,r[E]>>>23&31),c+=Zi[B]);var H=31&r[E];mr(t,c,R[H]),c+=$[H],H>3&&(mr(t,c,r[E]>>>5&8191),c+=er[H])}else mr(t,c,F[r[E]]),c+=T[r[E]];return mr(t,c,F[256]),c+T[256]},xr=new Qi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ir=function(){for(var e=new Qi(256),t=0;t<256;++t){for(var i=t,r=9;--r;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),Cr=function(){var e=4294967295;return{p:function(t){for(var i=e,r=0;r<t.length;++r)i=Ir[255&i^t[r]]^i>>>8;e=i},d:function(){return 4294967295^e}}},Pr=function(e,t,i,r,n){return function(e,t,i,r,n,s){var o=e.length,a=new Ki(r+o+5*(1+Math.floor(o/7e3))+n),l=a.subarray(r,a.length-n),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var d=c+65535;d<o?u=kr(l,u,e.subarray(c,d)):(l[c]=s,u=kr(l,u,e.subarray(c,o)))}else{for(var h=xr[t-1],p=h>>>13,_=8191&h,v=(1<<i)-1,g=new Xi(32768),f=new Xi(v+1),m=Math.ceil(i/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&v},w=new Qi(25e3),S=new Xi(288),k=new Xi(32),E=0,x=0,I=(c=0,0),C=0,P=0;c<o;++c){var F=b(c),T=32767&c,R=f[F];if(g[T]=R,f[F]=T,C<=c){var $=o-c;if((E>7e3||I>24576)&&$>423){u=Er(e,l,0,w,S,k,x,I,P,c-P,u),I=E=x=0,P=c;for(var O=0;O<286;++O)S[O]=0;for(O=0;O<30;++O)k[O]=0}var M=2,A=0,L=_,D=T-R&32767;if($>2&&F==b(c-D))for(var q=Math.min(p,$)-1,N=Math.min(32767,c),B=Math.min(258,$);D<=N&&--L&&T!=R;){if(e[c+M]==e[c+M-D]){for(var H=0;H<B&&e[c+H]==e[c+H-D];++H);if(H>M){if(M=H,A=D,H>q)break;var j=Math.min(D,H-2),U=0;for(O=0;O<j;++O){var z=c-D+O+32768&32767,W=z-g[z]+32768&32767;W>U&&(U=W,R=z)}}}D+=(T=R)-(R=g[T])+32768&32767}if(A){w[I++]=268435456|sr[M]<<18|or[A];var V=31&sr[M],G=31&or[A];x+=Zi[V]+er[G],++S[257+V],++k[G],C=c+M,++E}else w[I++]=e[c],++S[e[c]]}}u=Er(e,l,s,w,S,k,x,I,P,c-P,u)}return gr(a,0,r+vr(u)+n)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,r,!n)},Fr=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},Tr=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Fr(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}},Rr=function(e){return 10+(e.filename&&e.filename.length+1||0)};function $r(e,t){void 0===t&&(t={});var i=Cr(),r=e.length;i.p(e);var n=Pr(e,t,Rr(t),8),s=n.length;return Tr(n,t),Fr(n,s-8,i.d()),Fr(n,s-4,r),n}function Or(e,t){var i=e.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new Ki(e.length+(e.length>>>1)),n=0,s=function(e){r[n++]=e},o=0;o<i;++o){if(n+5>r.length){var a=new Ki(n+8+(i-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return gr(r,0,n)}function Mr(e,t){return function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}(e)%100<Ji(100*t,0,100)}var Ar=\"[SessionRecording]\",Lr=B(Ar);function Dr(){var e,t;return null==p||null===(e=p.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}var qr=3e5,Nr=[qi.MouseMove,qi.MouseInteraction,qi.Scroll,qi.ViewportResize,qi.Input,qi.TouchMove,qi.MediaInteraction,qi.Drag],Br=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function Hr(e){return function(e,t){for(var i=\"\",r=0;r<e.length;){var n=e[r++];n<128||t?i+=String.fromCharCode(n):n<224?i+=String.fromCharCode((31&n)<<6|63&e[r++]):n<240?i+=String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n))}return i}($r(Or(JSON.stringify(e))),!0)}function jr(e){return e.type===Di.Custom&&\"sessionIdle\"===e.data.tag}function Ur(e,t){return t.some((t=>\"regex\"===t.matching&&new RegExp(t.url).test(e)))}class zr{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Ar+\" must be started with a valid sessionManager.\");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return\"trigger_pending\"===this.triggerStatus?6e4:null!==(e=null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:qr}get isSampled(){var e=this.instance.get_property(xe);return A(e)?e:null}get sessionDuration(){var e,t,i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get isRecordingEnabled(){var e=!!this.instance.get_property(ge),i=!this.instance.config.disable_session_recording;return t&&e&&i}get isConsoleLogCaptureEnabled(){var e=!!this.instance.get_property(fe),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}get canvasRecording(){var e,t,i,r,n,s,o=this.instance.config.session_recording.captureCanvas,a=this.instance.get_property(be),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,u=null!==(i=null!==(r=null==o?void 0:o.canvasFps)&&void 0!==r?r:null==a?void 0:a.fps)&&void 0!==i?i:4,c=null!==(n=null!==(s=null==o?void 0:o.canvasQuality)&&void 0!==s?s:null==a?void 0:a.quality)&&void 0!==n?n:.4;if(\"string\"==typeof c){var d=parseFloat(c);c=isNaN(d)?.4:d}return{enabled:l,fps:Ji(u,0,12,\"canvas recording fps\",4),quality:Ji(c,0,1,\"canvas recording quality\",.4)}}get networkPayloadCapture(){var e,t,i=this.instance.get_property(me),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},n=(null==r?void 0:r.recordHeaders)||(null==i?void 0:i.recordHeaders),s=(null==r?void 0:r.recordBody)||(null==i?void 0:i.recordBody),o=C(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(A(o)?o:null==i?void 0:i.capturePerformance);return n||s||a?{recordHeaders:n,recordBody:s,recordPerformance:a}:void 0}get masking(){var e,t,i,r,n,s,o=this.instance.get_property(ye),a={maskAllInputs:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.maskAllInputs,maskTextSelector:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.maskTextSelector,blockSelector:null===(i=this.instance.config.session_recording)||void 0===i?void 0:i.blockSelector},l=null!==(r=null==a?void 0:a.maskAllInputs)&&void 0!==r?r:null==o?void 0:o.maskAllInputs,u=null!==(n=null==a?void 0:a.maskTextSelector)&&void 0!==n?n:null==o?void 0:o.maskTextSelector,c=null!==(s=null==a?void 0:a.blockSelector)&&void 0!==s?s:null==o?void 0:o.blockSelector;return F(l)&&F(u)&&F(c)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:c}}get sampleRate(){var e=this.instance.get_property(we);return M(e)?e:null}get minimumDuration(){var e=this.instance.get_property(Se);return M(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?!1===this.isSampled?\"disabled\":this._urlBlocked?\"paused\":O(this._linkedFlag)||this._linkedFlagSeen?\"trigger_pending\"===this.triggerStatus?\"buffering\":A(this.isSampled)?this.isSampled?\"sampled\":\"disabled\":\"active\":\"buffering\":\"disabled\":\"buffering\"}get urlTriggerStatus(){var e;return 0===this._urlTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ie))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get eventTriggerStatus(){var e;return 0===this._eventTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ce))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get triggerStatus(){var e=\"trigger_activated\"===this.eventTriggerStatus||\"trigger_activated\"===this.urlTriggerStatus,t=\"trigger_pending\"===this.eventTriggerStatus||\"trigger_pending\"===this.urlTriggerStatus;return e?\"trigger_activated\":t?\"trigger_pending\":\"trigger_disabled\"}constructor(e){if(W(this,\"queuedRRWebEvents\",[]),W(this,\"isIdle\",\"unknown\"),W(this,\"_linkedFlagSeen\",!1),W(this,\"_lastActivityTimestamp\",Date.now()),W(this,\"_linkedFlag\",null),W(this,\"_removePageViewCaptureHook\",void 0),W(this,\"_onSessionIdListener\",void 0),W(this,\"_persistDecideOnSessionListener\",void 0),W(this,\"_samplingSessionListener\",void 0),W(this,\"_urlTriggers\",[]),W(this,\"_urlBlocklist\",[]),W(this,\"_urlBlocked\",!1),W(this,\"_eventTriggers\",[]),W(this,\"_removeEventTriggerCaptureHook\",void 0),W(this,\"_forceAllowLocalhostNetworkCapture\",!1),W(this,\"_onBeforeUnload\",(()=>{this._flushBuffer()})),W(this,\"_onOffline\",(()=>{this._tryAddCustomEvent(\"browser offline\",{})})),W(this,\"_onOnline\",(()=>{this._tryAddCustomEvent(\"browser online\",{})})),W(this,\"_onVisibilityChange\",(()=>{if(null!=a&&a.visibilityState){var e=\"window \"+a.visibilityState;this._tryAddCustomEvent(e,{})}})),this.instance=e,this._captureStarted=!1,this._endpoint=\"/s/\",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw Lr.error(\"started without valid sessionManager\"),new Error(Ar+\" started without valid sessionManager. This is a bug.\");if(this.instance.config.__preview_experimental_cookieless_mode)throw new Error(Ar+\" cannot be used with __preview_experimental_cookieless_mode.\");var{sessionId:t,windowId:i}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=i,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&Lr.warn(\"session_idle_threshold_ms (\".concat(this.sessionIdleThresholdMilliseconds,\") is greater than the session timeout (\").concat(this.sessionManager.sessionTimeoutMs,\"). Session will never be detected as idle\"))}startIfEnabledOrStop(e){this.isRecordingEnabled?(this._startCapture(e),oe(t,\"beforeunload\",this._onBeforeUnload),oe(t,\"offline\",this._onOffline),oe(t,\"online\",this._onOnline),oe(t,\"visibilitychange\",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),O(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{if(\"$pageview\"===e.event){var t=null!=e&&e.properties.$current_url?this._maskUrl(null==e?void 0:e.properties.$current_url):\"\";if(!t)return;this._tryAddCustomEvent(\"$pageview\",{href:t})}}catch(e){Lr.error(\"Could not add $pageview to rrweb session\",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId(((e,t,i)=>{var r,n,s,o;i&&(this._tryAddCustomEvent(\"$session_id_change\",{sessionId:e,windowId:t,changeReason:i}),null===(r=this.instance)||void 0===r||null===(n=r.persistence)||void 0===n||n.unregister(Ce),null===(s=this.instance)||void 0===s||null===(o=s.persistence)||void 0===o||o.unregister(Ie))})))):this.stopRecording()}stopRecording(){var e,i,r,n;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==t||t.removeEventListener(\"beforeunload\",this._onBeforeUnload),null==t||t.removeEventListener(\"offline\",this._onOffline),null==t||t.removeEventListener(\"online\",this._onOnline),null==t||t.removeEventListener(\"visibilitychange\",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(i=this._removeEventTriggerCaptureHook)||void 0===i||i.call(this),this._removeEventTriggerCaptureHook=void 0,null===(r=this._onSessionIdListener)||void 0===r||r.call(this),this._onSessionIdListener=void 0,null===(n=this._samplingSessionListener)||void 0===n||n.call(this),this._samplingSessionListener=void 0,Lr.info(\"stopped\"))}makeSamplingDecision(e){var t,i=this.sessionId!==e,r=this.sampleRate;if(M(r)){var n=this.isSampled,s=i||!A(n),o=s?Mr(e,r):n;s&&(o?this._reportStarted(\"sampled\"):Lr.warn(\"Sample rate (\".concat(r,\") has determined that this sessionId (\").concat(e,\") will not be sent to the server.\")),this._tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:r,isSampled:o})),null===(t=this.instance.persistence)||void 0===t||t.register({[xe]:o})}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register({[xe]:null})}}onRemoteConfig(e){var t,i,r,n,s,o;(this._tryAddCustomEvent(\"$remote_config_received\",e),this._persistRemoteConfig(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint)&&(this._endpoint=null===(o=e.sessionRecording)||void 0===o?void 0:o.endpoint);if(this._setupSampling(),!O(this._linkedFlag)&&!this._linkedFlagSeen){var a=T(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,l=T(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(((e,t)=>{var i=C(t)&&a in t,r=l?t[a]===l:i;r&&this._reportStarted(\"linked_flag_matched\",{linkedFlag:a,linkedVariant:l}),this._linkedFlagSeen=r}))}null!==(r=e.sessionRecording)&&void 0!==r&&r.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),null!==(n=e.sessionRecording)&&void 0!==n&&n.urlBlocklist&&(this._urlBlocklist=e.sessionRecording.urlBlocklist),null!==(s=e.sessionRecording)&&void 0!==s&&s.eventTriggers&&(this._eventTriggers=e.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){M(this.sampleRate)&&O(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((e=>{this.makeSamplingDecision(e)})))}_persistRemoteConfig(e){if(this.instance.persistence){var t,i=this.instance.persistence,r=()=>{var t,r,n,s,o,a,l,u,c,d=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,h=O(d)?null:parseFloat(d),p=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;i.register({[ge]:!!e.sessionRecording,[fe]:null===(n=e.sessionRecording)||void 0===n?void 0:n.consoleLogRecordingEnabled,[me]:z({capturePerformance:e.capturePerformance},null===(s=e.sessionRecording)||void 0===s?void 0:s.networkPayloadCapture),[ye]:null===(o=e.sessionRecording)||void 0===o?void 0:o.masking,[be]:{enabled:null===(a=e.sessionRecording)||void 0===a?void 0:a.recordCanvas,fps:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasFps,quality:null===(u=e.sessionRecording)||void 0===u?void 0:u.canvasQuality},[we]:h,[Se]:F(p)?null:p,[ke]:null===(c=e.sessionRecording)||void 0===c?void 0:c.scriptConfig})};r(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(r)}}log(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"log\";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!F(Object.assign)&&!F(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,i;if(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),Dr())this._onScriptLoaded();else null===(t=p.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,this.scriptName,(e=>{if(e)return Lr.error(\"could not load recorder\",e);this._onScriptLoaded()}));Lr.info(\"starting\"),\"active\"===this.status&&this._reportStarted(e||\"recording_initialized\")}}get scriptName(){var e,t,i;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t||null===(i=t.get_property(ke))||void 0===i?void 0:i.script)||\"recorder\"}isInteractiveEvent(e){var t;return 3===e.type&&-1!==Nr.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}_updateWindowAndSessionIds(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle)){var r=\"unknown\"===this.isIdle;this.isIdle=!1,r||(this._tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:e.type}),i=!0)}if(!this.isIdle){var{windowId:n,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),o=this.sessionId!==s,a=this.windowId!==n;this.windowId=n,this.sessionId=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):i&&this._scheduleFullSnapshot()}}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):Lr.warn(\"could not emit queued rrweb event.\",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(Br((()=>Dr().addCustomEvent(e,t))))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(Br((()=>Dr().takeFullSnapshot())))}_onScriptLoaded(){var e,t,i,r,n={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},s=this.instance.config.session_recording;for(var[o,a]of Object.entries(s||{}))o in n&&(\"maskInputOptions\"===o?n.maskInputOptions=z({password:!0},a):n[o]=a);(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:\"image/webp\",quality:this.canvasRecording.quality}),this.masking)&&(n.maskAllInputs=null===(t=this.masking.maskAllInputs)||void 0===t||t,n.maskTextSelector=null!==(i=this.masking.maskTextSelector)&&void 0!==i?i:void 0,n.blockSelector=null!==(r=this.masking.blockSelector)&&void 0!==r?r:void 0);var l=Dr();if(l){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new Yi(l,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var i=\"Too many mutations on node '\".concat(e,\"'. Rate limiting. This could be due to SVG animations or something similar\");Lr.info(i,{node:t}),this.log(Ar+\" \"+i,\"warn\")}});var u=this._gatherRRWebPlugins();this.stopRrweb=l(z({emit:e=>{this.onRRwebEmit(e)},plugins:u},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=A(this.isIdle)?this.isIdle:\"unknown\",this._tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:n,activePlugins:u.map((e=>null==e?void 0:e.name))}),this._tryAddCustomEvent(\"$posthog_config\",{config:this.instance.config})}else Lr.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!0!==this.isIdle){var e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval((()=>{this._tryTakeFullSnapshot()}),e))}}_gatherRRWebPlugins(){var e,t,i,r,n=[],s=null===(e=p.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;s&&this.isConsoleLogCaptureEnabled&&n.push(s());var o=null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.rrwebPlugins)||void 0===r?void 0:r.getRecordNetworkPlugin;this.networkPayloadCapture&&I(o)&&(!wt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(o(Gi(this.instance.config,this.networkPayloadCapture))):Lr.info(\"NetworkCapture not started because we are on localhost.\"));return n}onRRwebEmit(e){var t;if(this._processQueuedEvents(),e&&C(e)){if(e.type===Di.Meta){var i=this._maskUrl(e.data.href);if(this._lastHref=i,!i)return;e.data.href=i}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),!this._urlBlocked||function(e){return e.type===Di.Custom&&\"recording paused\"===e.data.tag}(e)){e.type===Di.FullSnapshot&&this._scheduleFullSnapshot(),e.type===Di.FullSnapshot&&\"trigger_pending\"===this.triggerStatus&&this.clearBuffer();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(r){var n=function(e){var t=e;if(t&&C(t)&&6===t.type&&C(t.data)&&\"rrweb/console@1\"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push(\"...[truncated]\"));for(var i=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?i.push(t.data.payload.payload[r].slice(0,2e3)+\"...[truncated]\"):i.push(t.data.payload.payload[r]);return t.data.payload.payload=i,e}return e}(r);if(this._updateWindowAndSessionIds(n),!0!==this.isIdle||jr(n)){if(jr(n)){var s=n.data.payload;if(s){var o=s.lastActivityTimestamp,a=s.threshold;n.timestamp=o+a}}var l=null===(t=this.instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(Ai(e)<1024)return e;try{if(e.type===Di.FullSnapshot)return z(z({},e),{},{data:Hr(e.data),cv:\"2024-10\"});if(e.type===Di.IncrementalSnapshot&&e.data.source===qi.Mutation)return z(z({},e),{},{cv:\"2024-10\",data:z(z({},e.data),{},{texts:Hr(e.data.texts),attributes:Hr(e.data.attributes),removes:Hr(e.data.removes),adds:Hr(e.data.adds)})});if(e.type===Di.IncrementalSnapshot&&e.data.source===qi.StyleSheetRule)return z(z({},e),{},{cv:\"2024-10\",data:z(z({},e.data),{},{adds:e.data.adds?Hr(e.data.adds):void 0,removes:e.data.removes?Hr(e.data.removes):void 0})})}catch(e){Lr.error(\"could not compress event - will use uncompressed event\",e)}return e}(n):n,u={$snapshot_bytes:Ai(l),$snapshot_data:l,$session_id:this.sessionId,$window_id:this.windowId};\"disabled\"!==this.status?this._captureSnapshotBuffered(u):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&t){var e=this._maskUrl(t.location.href);this._lastHref!==e&&(this._tryAddCustomEvent(\"$url_changed\",{href:e}),this._lastHref=e)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach((e=>{Date.now()-e.enqueuedAt<=2e3&&this._tryRRWebMethod(e)}))}}_maskUrl(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i,r={url:e};return null===(i=r=t.maskNetworkRequestFn(r))||void 0===i?void 0:i.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var e=this.minimumDuration,t=this.sessionDuration,i=M(t)&&t>=0,r=M(e)&&i&&t<e;if(\"buffering\"===this.status||\"paused\"===this.status||\"disabled\"===this.status||r)return this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3),this.buffer;this.buffer.data.length>0&&Li(this.buffer).forEach((e=>{this._captureSnapshot({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:\"web\",$lib_version:_.LIB_VERSION})}));return this.clearBuffer()}_captureSnapshotBuffered(e){var t,i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3))}_captureSnapshot(e){this.instance.capture(\"$snapshot\",e,{_url:this.instance.requestRouter.endpointFor(\"api\",this._endpoint),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(void 0!==t&&t.location.href){var e=t.location.href,i=this._urlBlocked,r=Ur(e,this._urlBlocklist);r&&!i?this._pauseRecording():!r&&i&&this._resumeRecording(),Ur(e,this._urlTriggers)&&this._activateTrigger(\"url\")}}_activateTrigger(e){var t,i;\"trigger_pending\"===this.triggerStatus&&(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[\"url\"===e?Ie:Ce]:this.sessionId}),this._flushBuffer(),this._reportStarted(e+\"_trigger_matched\"))}_pauseRecording(){this._urlBlocked||(this._urlBlocked=!0,clearInterval(this._fullSnapshotTimer),Lr.info(\"recording paused due to URL blocker\"),this._tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}_resumeRecording(){this._urlBlocked&&(this._urlBlocked=!1,this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),Lr.info(\"recording resumed\"))}_addEventTriggerListener(){0!==this._eventTriggers.length&&O(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{this._eventTriggers.includes(e.event)&&this._activateTrigger(\"event\")}catch(e){Lr.error(\"Could not activate event trigger\",e)}})))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._tryTakeFullSnapshot(),this._reportStarted(\"linked_flag_overridden\")}overrideSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.register({[xe]:!0}),this._tryTakeFullSnapshot(),this._reportStarted(\"sampling_overridden\")}overrideTrigger(e){this._activateTrigger(e)}_reportStarted(e,t){this.instance.register_for_session({$session_recording_start_reason:e}),Lr.info(e.replace(\"_\",\" \"),t),m([\"recording_initialized\",\"session_id_changed\"],e)||this._tryAddCustomEvent(e,t)}}var Wr=B(\"[SegmentIntegration]\");function Vr(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var r=i=>{var r=()=>i.anonymousId()||Nt();e.config.get_device_id=r,i.id()&&(e.register({distinct_id:i.id(),$device_id:r()}),e.persistence.set_property(Le,\"identified\")),t()},n=i.user();\"then\"in n&&I(n.then)?n.then((e=>r(e))):r(n)}(e,(()=>{i.register((e=>{Promise&&Promise.resolve||Wr.warn(\"This browser does not have Promise support, and can not use the segment integration\");var t=(t,i)=>{var r;if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(Wr.info(\"No userId set, resetting PostHog\"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(Wr.info(\"UserId set, identifying with PostHog\"),e.identify(t.event.userId));var n=e._calculate_event_properties(i,null!==(r=t.event.properties)&&void 0!==r?r:{},new Date);return t.event.properties=Object.assign({},n,t.event.properties),t};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,\"$pageview\"),identify:e=>t(e,\"$identify\"),screen:e=>t(e,\"$screen\")}})(e)).then((()=>{t()}))}))}var Gr=\"posthog-js\";function Jr(e){var{organization:t,projectId:i,prefix:r,severityAllowList:n=[\"error\"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s=>{var o,a,l,u,c;if(!(\"*\"===n||n.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var d=e.requestRouter.endpointFor(\"ui\",\"/project/\".concat(e.config.token,\"/person/\").concat(e.get_distinct_id()));s.tags[\"PostHog Person URL\"]=d,e.sessionRecordingStarted()&&(s.tags[\"PostHog Recording URL\"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null===(o=s.exception)||void 0===o?void 0:o.values)||[],p=h.map((e=>z(z({},e),{},{stacktrace:e.stacktrace?z(z({},e.stacktrace),{},{type:\"raw\",frames:(e.stacktrace.frames||[]).map((e=>z(z({},e),{},{platform:\"web:javascript\"})))}):void 0}))),_={$exception_message:(null===(a=h[0])||void 0===a?void 0:a.value)||s.message,$exception_type:null===(l=h[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:s.level,$exception_list:p,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:(null===(u=h[0])||void 0===u?void 0:u.value)||s.message,$sentry_exception_type:null===(c=h[0])||void 0===c?void 0:c.type,$sentry_tags:s.tags};return t&&i&&(_.$sentry_url=(r||\"https://sentry.io/organizations/\")+t+\"/issues/?project=\"+i+\"&query=\"+s.event_id),e.exceptions.sendExceptionEvent(_),s}}class Yr{constructor(e,t,i,r,n){this.name=Gr,this.setupOnce=function(s){s(Jr(e,{organization:t,projectId:i,prefix:r,severityAllowList:n}))}}}var Kr,Xr=null!=t&&t.location?It(t.location.hash,\"__posthog\")||It(location.hash,\"state\"):null,Qr=\"_postHogToolbarParams\",Zr=B(\"[Toolbar]\");!function(e){e[e.UNINITIALIZED=0]=\"UNINITIALIZED\",e[e.LOADING=1]=\"LOADING\",e[e.LOADED=2]=\"LOADED\"}(Kr||(Kr={}));class en{constructor(e){this.instance=e}setToolbarState(e){p.ph_toolbar_state=e}getToolbarState(){var e;return null!==(e=p.ph_toolbar_state)&&void 0!==e?e:Kr.UNINITIALIZED}maybeLoadToolbar(){var e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t||!a)return!1;r=null!==(e=r)&&void 0!==e?e:t.location,s=null!==(i=s)&&void 0!==i?i:t.history;try{if(!n){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(e){return!1}n=null==t?void 0:t.localStorage}var o,l=Xr||It(r.hash,\"__posthog\")||It(r.hash,\"state\"),u=l?Z((()=>JSON.parse(atob(decodeURIComponent(l)))))||Z((()=>JSON.parse(decodeURIComponent(l)))):null;return u&&\"ph_authorize\"===u.action?((o=u).source=\"url\",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:s?s.replaceState(s.state,\"\",r.pathname+r.search):r.hash=\"\")):((o=JSON.parse(n.getItem(Qr)||\"{}\")).source=\"localstorage\",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch(e){return!1}}_callLoadToolbar(e){var t=p.ph_load_toolbar||p.ph_load_editor;!O(t)&&I(t)?t(e,this.instance):Zr.warn(\"No toolbar load function found\")}loadToolbar(e){var i=!(null==a||!a.getElementById(Ue));if(!t||i)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,n=z(z({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(Qr,JSON.stringify(z(z({},n),{},{source:void 0}))),this.getToolbarState()===Kr.LOADED)this._callLoadToolbar(n);else if(this.getToolbarState()===Kr.UNINITIALIZED){var s,o;this.setToolbarState(Kr.LOADING),null===(s=p.__PosthogExtensions__)||void 0===s||null===(o=s.loadExternalDependency)||void 0===o||o.call(s,this.instance,\"toolbar\",(e=>{if(e)return Zr.error(\"[Toolbar] Failed to load\",e),void this.setToolbarState(Kr.UNINITIALIZED);this.setToolbarState(Kr.LOADED),this._callLoadToolbar(n)})),oe(t,\"turbolinks:load\",(()=>{this.setToolbarState(Kr.UNINITIALIZED),this.loadToolbar(n)}))}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}var tn=B(\"[TracingHeaders]\");class rn{constructor(e){W(this,\"_restoreXHRPatch\",void 0),W(this,\"_restoreFetchPatch\",void 0),W(this,\"_startCapturing\",(()=>{var e,t,i,r;F(this._restoreXHRPatch)&&(null===(e=p.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(this.instance.sessionManager));F(this._restoreFetchPatch)&&(null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.tracingHeadersPatchFns)||void 0===r||r._patchFetch(this.instance.sessionManager))})),this.instance=e}_loadScript(e){var t,i,r;null!==(t=p.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"tracing-headers\",(t=>{if(t)return tn.error(\"failed to load script\",t);e()}))}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var nn=B(\"[Web Vitals]\"),sn=9e5;class on{constructor(e){var t;W(this,\"_enabledServerSide\",!1),W(this,\"_initialized\",!1),W(this,\"buffer\",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),W(this,\"_flushToCapture\",(()=>{clearTimeout(this._delayedFlushTimer),0!==this.buffer.metrics.length&&(this.instance.capture(\"$web_vitals\",this.buffer.metrics.reduce(((e,t)=>z(z({},e),{},{[\"$web_vitals_\".concat(t.name,\"_event\")]:z({},t),[\"$web_vitals_\".concat(t.name,\"_value\")]:t.value})),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),W(this,\"_addToBuffer\",(e=>{var t,i=null===(t=this.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(F(i))nn.error(\"Could not read session ID. Dropping metrics!\");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this._currentURL();if(!F(r))if(O(null==e?void 0:e.name)||O(null==e?void 0:e.value))nn.error(\"Invalid metric received\",e);else if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)nn.error(\"Ignoring metric with value >= \"+this._maxAllowedValue,e);else this.buffer.url!==r&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),F(this.buffer.url)&&(this.buffer.url=r),this.buffer.firstMetricTimestamp=F(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(z(z({},e),{},{$current_url:r,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}})),W(this,\"_startCapturing\",(()=>{var e,t,i,r,n=p.__PosthogExtensions__;F(n)||F(n.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:r}=n.postHogWebVitalsCallbacks),e&&t&&i&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this._addToBuffer.bind(this)),this._initialized=!0):nn.error(\"web vitals callbacks not loaded - not starting\")})),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[pe]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=C(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return F(i)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[ve])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:i}get flushToCaptureTimeoutMs(){return(C(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var e=C(this.instance.config.capture_performance)&&M(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:sn;return 0<e&&e<=6e4?sn:e}get isEnabled(){var e=C(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return A(e)?e:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(nn.info(\"enabled, starting...\"),this.loadScript(this._startCapturing))}onRemoteConfig(e){var t=C(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=C(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[pe]:t}),this.instance.persistence.register({[ve]:i})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,i,r;null!==(t=p.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"web-vitals\",(t=>{t?nn.error(\"failed to load script\",t):e()}))}_currentURL(){var e=t?t.location.href:void 0;return e||nn.error(\"Could not determine current URL\"),e}}var an=B(\"[Heatmaps]\");function ln(e){return C(e)&&\"clientX\"in e&&\"clientY\"in e&&M(e.clientX)&&M(e.clientY)}class un{constructor(e){var t;W(this,\"rageclicks\",new bt),W(this,\"_enabledServerSide\",!1),W(this,\"_initialized\",!1),W(this,\"_flushInterval\",null),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[de])}get flushIntervalMilliseconds(){var e=5e3;return C(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return F(this.instance.config.capture_heatmaps)?F(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;an.info(\"starting...\"),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),null===(t=this.deadClicksCapture)||void 0===t||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[de]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.buffer;return this.buffer=void 0,e}_onDeadClick(e){this._onClick(e.originalEvent,\"deadclick\")}_setupListeners(){t&&a&&(oe(t,\"beforeunload\",this.flush.bind(this)),oe(a,\"click\",(e=>this._onClick(e||(null==t?void 0:t.event))),{capture:!0}),oe(a,\"mousemove\",(e=>this._onMouseMove(e||(null==t?void 0:t.event))),{capture:!0}),this.deadClicksCapture=new si(this.instance,ri,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(e,i){var r=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(e,i,r){for(var n=e;n&&Ge(n)&&!Je(n,\"body\");){if(n===r)return!1;if(m(i,null==t?void 0:t.getComputedStyle(n).position))return!0;n=nt(n)}return!1}(it(e),[\"fixed\",\"sticky\"],s);return{x:e.clientX+(o?0:n),y:e.clientY+(o?0:r),target_fixed:o,type:i}}_onClick(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"click\";if(!Ve(e.target)&&ln(e)){var r=this._getProperties(e,i);null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(z(z({},r),{},{type:\"rageclick\"})),this._capture(r)}}_onMouseMove(e){!Ve(e.target)&&ln(e)&&(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((()=>{this._capture(this._getProperties(e,\"mousemove\"))}),500))}_capture(e){if(t){var i=t.location.href;this.buffer=this.buffer||{},this.buffer[i]||(this.buffer[i]=[]),this.buffer[i].push(e)}}flush(){this.buffer&&!P(this.buffer)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class cn{constructor(e){this._instance=e}doPageView(e,i){var r,n=this._previousPageViewProperties(e,i);return this._currentPageview={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:i,timestamp:e},this._instance.scrollManager.resetContext(),n}doPageLeave(e){var t;return this._previousPageViewProperties(e,null===(t=this._currentPageview)||void 0===t?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null===(e=this._currentPageview)||void 0===e?void 0:e.pageViewId}}_previousPageViewProperties(e,t){var i=this._currentPageview;if(!i)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:i.pageViewId},n=this._instance.scrollManager.getContext();if(n&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:c}=n;if(!(F(s)||F(o)||F(a)||F(l)||F(u)||F(c))){s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var d=s<=1?1:Ji(o/s,0,1),h=s<=1?1:Ji(a/s,0,1),p=l<=1?1:Ji(u/l,0,1),_=l<=1?1:Ji(c/l,0,1);r=K(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:p,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:_})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}class dn{constructor(e){this.instance=e}sendExceptionEvent(e){this.instance.capture(\"$exception\",e,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}}var hn=\"Mobile\",pn=\"iOS\",_n=\"Android\",vn=\"Tablet\",gn=_n+\" \"+vn,fn=\"iPad\",mn=\"Apple\",yn=mn+\" Watch\",bn=\"Safari\",wn=\"BlackBerry\",Sn=\"Samsung\",kn=Sn+\"Browser\",En=Sn+\" Internet\",xn=\"Chrome\",In=xn+\" OS\",Cn=xn+\" \"+pn,Pn=\"Internet Explorer\",Fn=Pn+\" \"+hn,Tn=\"Opera\",Rn=Tn+\" Mini\",$n=\"Edge\",On=\"Microsoft \"+$n,Mn=\"Firefox\",An=Mn+\" \"+pn,Ln=\"Nintendo\",Dn=\"PlayStation\",qn=\"Xbox\",Nn=_n+\" \"+hn,Bn=hn+\" \"+bn,Hn=\"Windows\",jn=Hn+\" Phone\",Un=\"Nokia\",zn=\"Ouya\",Wn=\"Generic\",Vn=Wn+\" \"+hn.toLowerCase(),Gn=Wn+\" \"+vn.toLowerCase(),Jn=\"Konqueror\",Yn=\"(\\\\d+(\\\\.\\\\d+)?)\",Kn=new RegExp(\"Version/\"+Yn),Xn=new RegExp(qn,\"i\"),Qn=new RegExp(Dn+\" \\\\w+\",\"i\"),Zn=new RegExp(Ln+\" \\\\w+\",\"i\"),es=new RegExp(wn+\"|PlayBook|BB10\",\"i\"),ts={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var is,rs=(e,t)=>t&&m(t,mn)||function(e){return m(e,bn)&&!m(e,xn)&&!m(e,_n)}(e),ns=function(e,t){return t=t||\"\",m(e,\" OPR/\")&&m(e,\"Mini\")?Rn:m(e,\" OPR/\")?Tn:es.test(e)?wn:m(e,\"IE\"+hn)||m(e,\"WPDesktop\")?Fn:m(e,kn)?En:m(e,$n)||m(e,\"Edg/\")?On:m(e,\"FBIOS\")?\"Facebook \"+hn:m(e,\"UCWEB\")||m(e,\"UCBrowser\")?\"UC Browser\":m(e,\"CriOS\")?Cn:m(e,\"CrMo\")||m(e,xn)?xn:m(e,_n)&&m(e,bn)?Nn:m(e,\"FxiOS\")?An:m(e.toLowerCase(),Jn.toLowerCase())?Jn:rs(e,t)?m(e,hn)?Bn:bn:m(e,Mn)?Mn:m(e,\"MSIE\")||m(e,\"Trident/\")?Pn:m(e,\"Gecko\")?Mn:\"\"},ss={[Fn]:[new RegExp(\"rv:\"+Yn)],[On]:[new RegExp($n+\"?\\\\/\"+Yn)],[xn]:[new RegExp(\"(\"+xn+\"|CrMo)\\\\/\"+Yn)],[Cn]:[new RegExp(\"CriOS\\\\/\"+Yn)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Yn)],[bn]:[Kn],[Bn]:[Kn],[Tn]:[new RegExp(\"(Opera|OPR)\\\\/\"+Yn)],[Mn]:[new RegExp(Mn+\"\\\\/\"+Yn)],[An]:[new RegExp(\"FxiOS\\\\/\"+Yn)],[Jn]:[new RegExp(\"Konqueror[:/]?\"+Yn,\"i\")],[wn]:[new RegExp(wn+\" \"+Yn),Kn],[Nn]:[new RegExp(\"android\\\\s\"+Yn,\"i\")],[En]:[new RegExp(kn+\"\\\\/\"+Yn)],[Pn]:[new RegExp(\"(rv:|MSIE )\"+Yn)],Mozilla:[new RegExp(\"rv:\"+Yn)]},os=[[new RegExp(qn+\"; \"+qn+\" (.*?)[);]\",\"i\"),e=>[qn,e&&e[1]||\"\"]],[new RegExp(Ln,\"i\"),[Ln,\"\"]],[new RegExp(Dn,\"i\"),[Dn,\"\"]],[es,[wn,\"\"]],[new RegExp(Hn,\"i\"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[jn,\"\"];if(new RegExp(hn).test(t)&&!/IEMobile\\b/.test(t))return[Hn+\" \"+hn,\"\"];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var r=i[1],n=ts[r]||\"\";return/arm/i.test(t)&&(n=\"RT\"),[Hn,n]}return[Hn,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||\"0\"];return[pn,t.join(\".\")]}return[pn,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,e=>{var t=\"\";return e&&e.length>=3&&(t=F(e[2])?e[3]:e[2]),[\"watchOS\",t]}],[new RegExp(\"(\"+_n+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+_n+\")\",\"i\"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||\"0\"];return[_n,t.join(\".\")]}return[_n,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,e=>{var t=[\"Mac OS X\",\"\"];if(e&&e[1]){var i=[e[1],e[2],e[3]||\"0\"];t[1]=i.join(\".\")}return t}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[In,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],as=function(e){return Zn.test(e)?Ln:Qn.test(e)?Dn:Xn.test(e)?qn:new RegExp(zn,\"i\").test(e)?zn:new RegExp(\"(\"+jn+\"|WPDesktop)\",\"i\").test(e)?jn:/iPad/.test(e)?fn:/iPod/.test(e)?\"iPod Touch\":/iPhone/.test(e)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e)?yn:es.test(e)?wn:/(kobo)\\s(ereader|touch)/i.test(e)?\"Kobo\":new RegExp(Un,\"i\").test(e)?Un:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(e)?\"Kindle Fire\":/(Android|ZTE)/i.test(e)?!new RegExp(hn).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?_n:gn:_n:new RegExp(\"(pda|\"+hn+\")\",\"i\").test(e)?Vn:new RegExp(vn,\"i\").test(e)&&!new RegExp(vn+\" pc\",\"i\").test(e)?Gn:\"\"},ls=\"https?://(.*)\",us=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"irclid\",\"_kx\"],cs=X([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],us),ds=\"<masked>\",hs={campaignParams:function(){var{customTrackedParams:e,maskPersonalDataProperties:t,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a)return{};var r=t?X([],us,i||[]):[];return this._campaignParamsFromUrl(xt(a.URL,r,ds),e)},_campaignParamsFromUrl:function(e,t){var i=cs.concat(t||[]),r={};return Y(i,(function(t){var i=Et(e,t);r[t]=i||null})),r},_searchEngine:function(e){return e?0===e.search(ls+\"google.([^/?]*)\")?\"google\":0===e.search(ls+\"bing.com\")?\"bing\":0===e.search(ls+\"yahoo.com\")?\"yahoo\":0===e.search(ls+\"duckduckgo.com\")?\"duckduckgo\":null:null},_searchInfoFromReferrer:function(e){var t=hs._searchEngine(e),i=\"yahoo\"!=t?\"q\":\"p\",r={};if(!$(t)){r.$search_engine=t;var n=a?Et(a.referrer,i):\"\";n.length&&(r.ph_keyword=n)}return r},searchInfo:function(){var e=null==a?void 0:a.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:ns,browserVersion:function(e,t){var i=ns(e,t),r=ss[i];if(F(r))return null;for(var n=0;n<r.length;n++){var s=r[n],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return\"string\"==typeof e?e.split(\"-\")[0]:void 0},os:function(e){for(var t=0;t<os.length;t++){var[i,r]=os[t],n=i.exec(e),s=n&&(I(r)?r(n,e):r);if(s)return s}return[\"\",\"\"]},device:as,deviceType:function(e){var t=as(e);return t===fn||t===gn||\"Kobo\"===t||\"Kindle Fire\"===t||t===Gn?vn:t===Ln||t===qn||t===Dn||t===zn?\"Console\":t===yn?\"Wearable\":t?hn:\"Desktop\"},referrer:function(){return(null==a?void 0:a.referrer)||\"$direct\"},referringDomain:function(){var e;return null!=a&&a.referrer&&(null===(e=St(a.referrer))||void 0===e?void 0:e.host)||\"$direct\"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},personInfo:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e?X([],us,t||[]):[],r=null==l?void 0:l.href.substring(0,1e3);return{r:this.referrer().substring(0,1e3),u:r?xt(r,i,ds):void 0}},personPropsFromInfo:function(e){var t,{r:i,u:r}=e,n={$referrer:i,$referring_domain:null==i?void 0:\"$direct\"==i?\"$direct\":null===(t=St(i))||void 0===t?void 0:t.host};if(r){n.$current_url=r;var s=St(r);n.$host=null==s?void 0:s.host,n.$pathname=null==s?void 0:s.pathname;var o=this._campaignParamsFromUrl(r);K(n,o)}if(i){var a=this._searchInfoFromReferrer(i);K(n,a)}return n},initialPersonPropsFromInfo:function(e){var t=this.personPropsFromInfo(e),i={};return Y(t,(function(e,t){i[\"$initial_\".concat(b(t))]=e})),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}},timezoneOffset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}},properties:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h)return{};var r=e?X([],us,i||[]):[],[n,s]=hs.os(h);return K(te({$os:n,$os_version:s,$browser:hs.browser(h,navigator.vendor),$device:hs.device(h),$device_type:hs.deviceType(h),$timezone:hs.timezone(),$timezone_offset:hs.timezoneOffset()}),{$current_url:xt(null==l?void 0:l.href,r,ds),$host:null==l?void 0:l.host,$pathname:null==l?void 0:l.pathname,$raw_user_agent:h.length>1e3?h.substring(0,997)+\"...\":h,$browser_version:hs.browserVersion(h,navigator.vendor),$browser_language:hs.browserLanguage(),$browser_language_prefix:hs.browserLanguagePrefix(),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:_.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!h)return{};var[e,t]=hs.os(h);return K(te({$os:e,$os_version:t,$browser:hs.browser(h,navigator.vendor)}),{$browser_version:hs.browserVersion(h,navigator.vendor)})}},ps=B(\"[FeatureFlags]\"),_s=\"$active_feature_flags\",vs=\"$override_feature_flags\",gs=\"$feature_flag_payloads\",fs=\"$override_feature_flag_payloads\",ms=\"$feature_flag_request_id\",ys=e=>{var t={};for(var[i,r]of Q(e||{}))r&&(t[i]=r);return t},bs=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((e=>{var i;return[e,null!==(i=t[e].variant)&&void 0!==i?i:t[e].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((e=>t[e].enabled)).filter((e=>{var i;return null===(i=t[e].metadata)||void 0===i?void 0:i.payload})).map((e=>{var i;return[e,null===(i=t[e].metadata)||void 0===i?void 0:i.payload]})))):ps.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),e};!function(e){e.FeatureFlags=\"feature_flags\",e.Recordings=\"recordings\"}(is||(is={}));class ws{constructor(e){W(this,\"_override_warning\",!1),W(this,\"_hasLoadedFlags\",!1),W(this,\"_requestInFlight\",!1),W(this,\"_reloadingDisabled\",!1),W(this,\"_additionalReloadRequested\",!1),W(this,\"_decideCalled\",!1),W(this,\"_flagsLoadedFromRemote\",!1),this.instance=e,this.featureFlagEventHandlers=[]}decide(){if(this.instance.config.__preview_remote_config)this._decideCalled=!0;else{var e=!this._reloadDebouncer&&(this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load);this._callDecideEndpoint({disableFlags:e})}}get hasLoadedFlags(){return this._hasLoadedFlags}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this.instance.get_property(Te),t=this.instance.get_property(vs),i=this.instance.get_property(fs);if(!i&&!t)return e||{};var r=K({},e||{}),n=[...new Set([...Object.keys(i||{}),...Object.keys(t||{})])];for(var s of n){var o,a,l=r[s],u=null==t?void 0:t[s],c=F(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=F(u)?l.variant:\"string\"==typeof u?u:void 0,h=null==i?void 0:i[s],p=z(z({},l),{},{enabled:c,variant:c?null!=d?d:null==l?void 0:l.variant:void 0});if(c!==(null==l?void 0:l.enabled)&&(p.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(p.original_variant=null==l?void 0:l.variant),h)p.metadata=z(z({},null==l?void 0:l.metadata),{},{payload:h,original_payload:null==l||null===(a=l.metadata)||void 0===a?void 0:a.payload});r[s]=p}return this._override_warning||(ps.warn(\" Overriding feature flag details!\",{flagDetails:e,overriddenPayloads:i,finalDetails:r}),this._override_warning=!0),r}getFlagVariants(){var e=this.instance.get_property(Pe),t=this.instance.get_property(vs);if(!t)return e||{};for(var i=K({},e),r=Object.keys(t),n=0;n<r.length;n++)i[r[n]]=t[r[n]];return this._override_warning||(ps.warn(\" Overriding feature flags!\",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}getFlagPayloads(){var e=this.instance.get_property(gs),t=this.instance.get_property(fs);if(!t)return e||{};for(var i=K({},e||{}),r=Object.keys(t),n=0;n<r.length;n++)i[r[n]]=t[r[n]];return this._override_warning||(ps.warn(\" Overriding feature flag payloads!\",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this._override_warning=!0),i}reloadFeatureFlags(){this._reloadingDisabled||this.instance.config.advanced_disable_feature_flags||this._reloadDebouncer||(this._reloadDebouncer=setTimeout((()=>{this._callDecideEndpoint()}),5))}clearDebouncer(){clearTimeout(this._reloadDebouncer),this._reloadDebouncer=void 0}ensureFlagsLoaded(){this._hasLoadedFlags||this._requestInFlight||this._reloadDebouncer||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this._reloadingDisabled=e}_callDecideEndpoint(t){var i;if(this.clearDebouncer(),!this.instance.config.advanced_disable_decide)if(this._requestInFlight)this._additionalReloadRequested=!0;else{var r={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:z(z({},(null===(i=this.instance.persistence)||void 0===i?void 0:i.get_initial_props())||{}),this.instance.get_property(Re)||{}),group_properties:this.instance.get_property($e)};(null!=t&&t.disableFlags||this.instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var n=this.instance.config.__preview_flags_v2&&this.instance.config.__preview_remote_config;n&&(r.timezone=hs.timezone()),this._requestInFlight=!0,this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",n?\"/flags/?v=2\":\"/decide/?v=4\"),data:r,compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,i,n,s=!0;(200===e.statusCode&&(this._additionalReloadRequested||(this.$anon_distinct_id=void 0),s=!1),this._requestInFlight=!1,this._decideCalled)||(this._decideCalled=!0,this.instance._onRemoteConfig(null!==(n=e.json)&&void 0!==n?n:{}));r.disable_flags&&!this._additionalReloadRequested||(this._flagsLoadedFromRemote=!s,e.json&&null!==(t=e.json.quotaLimited)&&void 0!==t&&t.includes(is.FeatureFlags)?ps.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\"):(this.receivedFeatureFlags(null!==(i=e.json)&&void 0!==i?i:{},s),this._additionalReloadRequested&&(this._additionalReloadRequested=!1,this._callDecideEndpoint())))}})}}getFeatureFlag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],r=\"\".concat(i),n=this.instance.get_property(ms)||void 0,s=this.instance.get_property(Ae)||{};if((t.send_event||!(\"send_event\"in t))&&(!(e in s)||!s[e].includes(r))){var o,a,l,u,c,d,h,p,_,v,g;x(s[e])?s[e].push(r):s[e]=[r],null===(o=this.instance.persistence)||void 0===o||o.register({[Ae]:s});var f=this.getFeatureFlagDetails(e),m={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:n,$feature_flag_bootstrapped_response:(null===(a=this.instance.config.bootstrap)||void 0===a||null===(l=a.featureFlags)||void 0===l?void 0:l[e])||null,$feature_flag_bootstrapped_payload:(null===(u=this.instance.config.bootstrap)||void 0===u||null===(c=u.featureFlagPayloads)||void 0===c?void 0:c[e])||null,$used_bootstrap_value:!this._flagsLoadedFromRemote};F(null==f||null===(d=f.metadata)||void 0===d?void 0:d.version)||(m.$feature_flag_version=f.metadata.version);var y,b=null!==(h=null==f||null===(p=f.reason)||void 0===p?void 0:p.description)&&void 0!==h?h:null==f||null===(_=f.reason)||void 0===_?void 0:_.code;if(b&&(m.$feature_flag_reason=b),null!=f&&null!==(v=f.metadata)&&void 0!==v&&v.id&&(m.$feature_flag_id=f.metadata.id),F(null==f?void 0:f.original_variant)&&F(null==f?void 0:f.original_enabled)||(m.$feature_flag_original_response=F(f.original_variant)?f.original_enabled:f.original_variant),null!=f&&null!==(g=f.metadata)&&void 0!==g&&g.original_payload)m.$feature_flag_original_payload=null==f||null===(y=f.metadata)||void 0===y?void 0:y.original_payload;this.instance.capture(\"$feature_flag_called\",m)}return i}ps.warn('getFeatureFlag for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(t,i){var r=this.instance.config.token;this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=4\"),data:{distinct_id:this.instance.get_distinct_id(),token:r},compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,n=null===(r=e.json)||void 0===r?void 0:r.featureFlagPayloads;i((null==n?void 0:n[t])||void 0)}})}isFeatureEnabled(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);ps.warn('isFeatureEnabled for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(this.instance.persistence){this._hasLoadedFlags=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads(),n=this.getFlagsWithDetails();!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=bs(e),o=s.flags,a=s.featureFlags,l=s.featureFlagPayloads;if(a){var u=e.requestId;if(x(a)){ps.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var c={};if(a)for(var d=0;d<a.length;d++)c[a[d]]=!0;t&&t.register({[_s]:a,[Pe]:c})}else{var h=a,p=l,_=o;e.errorsWhileComputingFlags&&(h=z(z({},i),h),p=z(z({},r),p),_=z(z({},n),_)),t&&t.register(z({[_s]:Object.keys(ys(h)),[Pe]:h||{},[gs]:p||{},[Te]:_||{}},u?{[ms]:u}:{}))}}}(e,this.instance.persistence,i,r,n),this._fireFeatureFlagsCallbacks(t)}}override(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ps.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this.instance.__loaded||!this.instance.persistence)return ps.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===e)return this.instance.persistence.unregister(vs),this.instance.persistence.unregister(fs),void this._fireFeatureFlagsCallbacks();if(e&&\"object\"==typeof e&&(\"flags\"in e||\"payloads\"in e)){var t,i=e;if(this._override_warning=Boolean(null!==(t=i.suppressWarning)&&void 0!==t&&t),\"flags\"in i)if(!1===i.flags)this.instance.persistence.unregister(vs);else if(i.flags)if(x(i.flags)){for(var r={},n=0;n<i.flags.length;n++)r[i.flags[n]]=!0;this.instance.persistence.register({[vs]:r})}else this.instance.persistence.register({[vs]:i.flags});return\"payloads\"in i&&(!1===i.payloads?this.instance.persistence.unregister(fs):i.payloads&&this.instance.persistence.register({[fs]:i.payloads})),void this._fireFeatureFlagsCallbacks()}this._fireFeatureFlagsCallbacks()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._hasLoadedFlags){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i,r=(this.instance.get_property(Fe)||[]).find((t=>t.flagKey===e)),n={[\"$feature_enrollment/\".concat(e)]:t},s={$feature_flag:e,$feature_enrollment:t,$set:n};r&&(s.$early_access_feature_name=r.name),this.instance.capture(\"$feature_enrollment_update\",s),this.setPersonPropertiesForFlags(n,!1);var o=z(z({},this.getFlagVariants()),{},{[e]:t});null===(i=this.instance.persistence)||void 0===i||i.register({[_s]:Object.keys(ys(o)),[Pe]:o}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,r=this.instance.get_property(Fe),n=i?\"&\".concat(i.map((e=>\"stage=\".concat(e))).join(\"&\")):\"\";if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\".concat(this.instance.config.token).concat(n)),method:\"GET\",callback:t=>{var i;if(t.json){var r=t.json.earlyAccessFeatures;return null===(i=this.instance.persistence)||void 0===i||i.register({[Fe]:r}),e(r)}}})}_prepareFeatureFlagsForCallbacks(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((e=>t[e])),flagVariants:Object.keys(t).filter((e=>t[e])).reduce(((e,i)=>(e[i]=t[i],e)),{})}}_fireFeatureFlagsCallbacks(e){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach((r=>r(t,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Re)||{};this.instance.register({[Re]:z(z({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Re)}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property($e)||{};0!==Object.keys(i).length&&Object.keys(i).forEach((t=>{i[t]=z(z({},i[t]),e[t]),delete e[t]})),this.instance.register({[$e]:z(z({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this.instance.get_property($e)||{};this.instance.register({[$e]:z(z({},t),{},{[e]:{}})})}else this.instance.unregister($e)}}var Ss=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class ks{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(e=>{var t=\"\";return e.token&&(t=e.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),e.persistence_name?\"ph_\"+e.persistence_name:\"ph_\"+t+\"_posthog\"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&N.info(\"Persistence loaded\",e.persistence,z({},this.props)),this.update_config(e,e),this.save()}buildStorage(e){-1===Ss.indexOf(e.persistence.toLowerCase())&&(N.critical(\"Unknown persistence type \"+e.persistence+\"; falling back to localStorage+cookie\"),e.persistence=\"localStorage+cookie\");var t=e.persistence.toLowerCase();return\"localstorage\"===t&&Jt.is_supported()?Jt:\"localstorage+cookie\"===t&&Kt.is_supported()?Kt:\"sessionstorage\"===t&&ei.is_supported()?ei:\"memory\"===t?Qt:\"cookie\"===t?Vt:Kt.is_supported()?Kt:Vt}properties(){var e={};return Y(this.props,(function(t,i){if(i===Pe&&C(t))for(var r=Object.keys(t),n=0;n<r.length;n++)e[\"$feature/\".concat(r[n])]=t[r[n]];else a=i,l=!1,($(o=We)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Y(o,(function(e){if(l||(l=e===a))return G})),l))||(e[i]=t);var o,a,l})),e}load(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=K({},e))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(C(e)){F(t)&&(t=\"None\"),this.expire_days=F(i)?this.default_expiry:i;var r=!1;if(Y(e,((e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,r=!0)})),r)return this.save(),!0}return!1}register(e,t){if(C(e)){this.expire_days=F(t)?this.default_expiry:t;var i=!1;if(Y(e,((t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var e=hs.campaignParams({customTrackedParams:this.config.custom_campaign_params,maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});P(te(e))||this.register(e),this.campaign_params_saved=!0}}update_search_keyword(){this.register(hs.searchInfo())}update_referrer_info(){this.register_once(hs.referrerInfo(),void 0)}set_initial_person_info(){this.props[Ne]||this.props[Be]||this.register_once({[He]:hs.personInfo({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties})},void 0)}get_referrer_info(){return te({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var e={};Y([Be,Ne],(t=>{var i=this.props[t];i&&Y(i,(function(t,i){e[\"$initial_\"+b(i)]=t}))}));var t=this.props[He];if(t){var i=hs.initialPersonPropsFromInfo(t);K(e,i)}return e}safe_merge(e){return Y(this.props,(function(t,i){i in e||(e[i]=t)})),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.buildStorage(e),r=this.props;this.clear(),this.storage=i,this.props=r,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[ue]||{};i[e]=t,this.props[ue]=i,this.save()}remove_event_timer(e){var t=(this.props[ue]||{})[e];return F(t)||(delete this.props[ue][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}var Es,xs,Is,Cs,Ps,Fs,Ts,Rs,$s,Os,Ms,As,Ls={},Ds=[],qs=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ns=Array.isArray;function Bs(e,t){for(var i in t)e[i]=t[i];return e}function Hs(e){var t=e.parentNode;t&&t.removeChild(e)}function js(e,t,i,r,n){var s={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==n?++Is:n,__i:-1,__u:0};return null==n&&null!=xs.vnode&&xs.vnode(s),s}function Us(e){return e.children}function zs(e,t){this.props=e,this.context=t}function Ws(e,t){if(null==t)return e.__?Ws(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return\"function\"==typeof e.type?Ws(e):null}function Vs(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Vs(e)}}function Gs(e){(!e.__d&&(e.__d=!0)&&Cs.push(e)&&!Js.__r++||Ps!==xs.debounceRendering)&&((Ps=xs.debounceRendering)||Fs)(Js)}function Js(){var e,t,i,r,n,s,o,a,l;for(Cs.sort(Ts);e=Cs.shift();)e.__d&&(t=Cs.length,r=void 0,s=(n=(i=e).__v).__e,a=[],l=[],(o=i.__P)&&((r=Bs({},n)).__v=n.__v+1,xs.vnode&&xs.vnode(r),ro(o,r,n,i.__n,void 0!==o.ownerSVGElement,32&n.__u?[s]:null,a,null==s?Ws(n):s,!!(32&n.__u),l),r.__.__k[r.__i]=r,no(a,r,l),r.__e!=s&&Vs(r)),Cs.length>t&&Cs.sort(Ts));Js.__r=0}function Ys(e,t,i,r,n,s,o,a,l,u,c){var d,h,p,_,v,g=r&&r.__k||Ds,f=t.length;for(i.__d=l,Ks(i,t,g),l=i.__d,d=0;d<f;d++)null!=(p=i.__k[d])&&\"boolean\"!=typeof p&&\"function\"!=typeof p&&(h=-1===p.__i?Ls:g[p.__i]||Ls,p.__i=d,ro(e,p,h,n,s,o,a,l,u,c),_=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&oo(h.ref,null,p),c.push(p.ref,p.__c||_,p)),null==v&&null!=_&&(v=_),65536&p.__u||h.__k===p.__k?l=Xs(p,l,e):\"function\"==typeof p.type&&void 0!==p.__d?l=p.__d:_&&(l=_.nextSibling),p.__d=void 0,p.__u&=-196609);i.__d=l,i.__e=v}function Ks(e,t,i){var r,n,s,o,a,l=t.length,u=i.length,c=u,d=0;for(e.__k=[],r=0;r<l;r++)null!=(n=e.__k[r]=null==(n=t[r])||\"boolean\"==typeof n||\"function\"==typeof n?null:\"string\"==typeof n||\"number\"==typeof n||\"bigint\"==typeof n||n.constructor==String?js(null,n,null,null,n):Ns(n)?js(Us,{children:n},null,null,null):void 0===n.constructor&&n.__b>0?js(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)?(n.__=e,n.__b=e.__b+1,a=Qs(n,i,o=r+d,c),n.__i=a,s=null,-1!==a&&(c--,(s=i[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&d--,\"function\"!=typeof n.type&&(n.__u|=65536)):a!==o&&(a===o+1?d++:a>o?c>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==r+d&&(n.__u|=65536))):(s=i[r])&&null==s.key&&s.__e&&(s.__e==e.__d&&(e.__d=Ws(s)),ao(s,s,!1),i[r]=null,c--);if(c)for(r=0;r<u;r++)null!=(s=i[r])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Ws(s)),ao(s,s))}function Xs(e,t,i){var r,n;if(\"function\"==typeof e.type){for(r=e.__k,n=0;r&&n<r.length;n++)r[n]&&(r[n].__=e,t=Xs(r[n],t,i));return t}return e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Qs(e,t,i,r){var n=e.key,s=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&n==l.key&&s===l.type)return i;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&n==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&n==l.key&&s===l.type)return a;a++}}return-1}function Zs(e,t,i){\"-\"===t[0]?e.setProperty(t,null==i?\"\":i):e[t]=null==i?\"\":\"number\"!=typeof i||qs.test(t)?i:i+\"px\"}function eo(e,t,i,r,n){var s;e:if(\"style\"===t)if(\"string\"==typeof i)e.style.cssText=i;else{if(\"string\"==typeof r&&(e.style.cssText=r=\"\"),r)for(t in r)i&&t in i||Zs(e.style,t,\"\");if(i)for(t in i)r&&i[t]===r[t]||Zs(e.style,t,i[t])}else if(\"o\"===t[0]&&\"n\"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,\"$1\")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=i,i?r?i.u=r.u:(i.u=Date.now(),e.addEventListener(t,s?io:to,s)):e.removeEventListener(t,s?io:to,s);else{if(n)t=t.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==t&&\"height\"!==t&&\"href\"!==t&&\"list\"!==t&&\"form\"!==t&&\"tabIndex\"!==t&&\"download\"!==t&&\"rowSpan\"!==t&&\"colSpan\"!==t&&\"role\"!==t&&t in e)try{e[t]=null==i?\"\":i;break e}catch(e){}\"function\"==typeof i||(null==i||!1===i&&\"-\"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function to(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(xs.event?xs.event(e):e)}function io(e){return this.l[e.type+!0](xs.event?xs.event(e):e)}function ro(e,t,i,r,n,s,o,a,l,u){var c,d,h,p,_,v,g,f,m,y,b,w,S,k,E,x=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(l=!!(32&i.__u),s=[a=t.__e=i.__e]),(c=xs.__b)&&c(t);e:if(\"function\"==typeof x)try{if(f=t.props,m=(c=x.contextType)&&r[c.__c],y=c?m?m.props.value:c.__:r,i.__c?g=(d=t.__c=i.__c).__=d.__E:(\"prototype\"in x&&x.prototype.render?t.__c=d=new x(f,y):(t.__c=d=new zs(f,y),d.constructor=x,d.render=lo),m&&m.sub(d),d.props=f,d.state||(d.state={}),d.context=y,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Bs({},d.__s)),Bs(d.__s,x.getDerivedStateFromProps(f,d.__s))),p=d.props,_=d.state,d.__v=t,h)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&f!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(f,y),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(f,d.__s,y)||t.__v===i.__v)){for(t.__v!==i.__v&&(d.props=f,d.state=d.__s,d.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(f,d.__s,y),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,_,v)}))}if(d.context=y,d.props=f,d.__P=e,d.__e=!1,w=xs.__r,S=0,\"prototype\"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=Bs(Bs({},r),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(p,_)),Ys(e,Ns(E=null!=c&&c.type===Us&&null==c.key?c.props.children:c)?E:[E],t,i,r,n,s,o,a,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),g&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=s?(t.__e=a,t.__u|=l?160:32,s[s.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),xs.__e(e,t,i)}else null==s&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=so(i.__e,t,i,r,n,s,o,l,u);(c=xs.diffed)&&c(t)}function no(e,t,i){t.__d=void 0;for(var r=0;r<i.length;r++)oo(i[r],i[++r],i[++r]);xs.__c&&xs.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){xs.__e(e,t.__v)}}))}function so(e,t,i,r,n,s,o,a,l){var u,c,d,h,p,_,v,g=i.props,f=t.props,m=t.type;if(\"svg\"===m&&(n=!0),null!=s)for(u=0;u<s.length;u++)if((p=s[u])&&\"setAttribute\"in p==!!m&&(m?p.localName===m:3===p.nodeType)){e=p,s[u]=null;break}if(null==e){if(null===m)return document.createTextNode(f);e=n?document.createElementNS(\"http://www.w3.org/2000/svg\",m):document.createElement(m,f.is&&f),s=null,a=!1}if(null===m)g===f||a&&e.data===f||(e.data=f);else{if(s=s&&Es.call(e.childNodes),g=i.props||Ls,!a&&null!=s)for(g={},u=0;u<e.attributes.length;u++)g[(p=e.attributes[u]).name]=p.value;for(u in g)p=g[u],\"children\"==u||(\"dangerouslySetInnerHTML\"==u?d=p:\"key\"===u||u in f||eo(e,u,null,p,n));for(u in f)p=f[u],\"children\"==u?h=p:\"dangerouslySetInnerHTML\"==u?c=p:\"value\"==u?_=p:\"checked\"==u?v=p:\"key\"===u||a&&\"function\"!=typeof p||g[u]===p||eo(e,u,p,g[u],n);if(c)a||d&&(c.__html===d.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(d&&(e.innerHTML=\"\"),Ys(e,Ns(h)?h:[h],t,i,r,n&&\"foreignObject\"!==m,s,o,s?s[0]:i.__k&&Ws(i,0),a,l),null!=s)for(u=s.length;u--;)null!=s[u]&&Hs(s[u]);a||(u=\"value\",void 0!==_&&(_!==e[u]||\"progress\"===m&&!_||\"option\"===m&&_!==g[u])&&eo(e,u,_,g[u],!1),u=\"checked\",void 0!==v&&v!==e[u]&&eo(e,u,v,g[u],!1))}return e}function oo(e,t,i){try{\"function\"==typeof e?e(t):e.current=t}catch(e){xs.__e(e,i)}}function ao(e,t,i){var r,n;if(xs.unmount&&xs.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||oo(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){xs.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&ao(r[n],t,i||\"function\"!=typeof e.type);i||null==e.__e||Hs(e.__e),e.__=e.__e=e.__d=void 0}function lo(e,t,i){return this.constructor(e,i)}Es=Ds.slice,xs={__e:function(e,t,i,r){for(var n,s,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((s=n.constructor)&&null!=s.getDerivedStateFromError&&(n.setState(s.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,r||{}),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},Is=0,zs.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Bs({},this.state),\"function\"==typeof e&&(e=e(Bs({},i),this.props)),e&&Bs(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),Gs(this))},zs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Gs(this))},zs.prototype.render=Us,Cs=[],Fs=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ts=function(e,t){return e.__v.__b-t.__v.__b},Js.__r=0,Rs=0,function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}($s||($s={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(Os||(Os={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(Ms||(Ms={})),function(e){e.Once=\"once\",e.Recurring=\"recurring\",e.Always=\"always\"}(As||(As={}));!function(e,t){var i={__c:t=\"__cC\"+Rs++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some((function(e){e.__e=!0,Gs(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};i.Provider.__=i.Consumer.contextType=i}({isPreviewMode:!1,previewPageIndex:0,onPopupSurveyDismissed:()=>{},isPopup:!0,onPreviewSubmit:()=>{}});var uo=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};class co{constructor(){W(this,\"events\",{}),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){for(var i of this.events[e]||[])i(t);for(var r of this.events[\"*\"]||[])r(e,t)}}class ho{constructor(e){W(this,\"_debugEventEmitter\",new co),W(this,\"checkStep\",((e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t))),W(this,\"checkStepEvent\",((e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event))),this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!F(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)){var t;null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.on(e,t)}))}}register(e){var t,i;if(!F(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((e=>{var t,i;null===(t=this.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach((e=>{var t;null===(t=this.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||\"\")}))})),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var r,n=new Set;e.forEach((e=>{var t;null===(t=e.steps)||void 0===t||t.forEach((e=>{null!=e&&e.selector&&n.add(null==e?void 0:e.selector)}))})),null===(r=this.instance)||void 0===r||r.autocapture.setElementSelectors(n)}}on(e,t){var i;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach((e=>{this.checkAction(t,e)&&this._debugEventEmitter.emit(\"actionCaptured\",e.name)}))}_addActionHook(e){this.onAction(\"actionCaptured\",(t=>e(t)))}checkAction(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.checkStep(e,i))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStepUrl(e,t){if(null!=t&&t.url){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!ho.matchString(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||\"contains\"))return!1}return!0}static matchString(e,i,r){switch(r){case\"regex\":return!!t&&uo(e,i);case\"exact\":return i===e;case\"contains\":var n=ho.escapeStringRegexp(i).replace(/_/g,\".\").replace(/%/g,\".*\");return uo(e,n);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}checkStepElement(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.getElementsList(e).some((e=>!(null!=t&&t.href&&!ho.matchString(e.href||\"\",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||\"exact\"))&&((null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!ho.matchString(e.text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\")&&!ho.matchString(e.$el_text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\"))))))return!1;if(null!=t&&t.selector){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$element_selectors;if(!r)return!1;if(!r.includes(null==t?void 0:t.selector))return!1}return!0}getElementsList(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}class po{constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;F(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){var t=e.filter((e=>{var t,i,r,n;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(r=i.actions)||void 0===r||null===(n=r.values)||void 0===n?void 0:n.length)>0}));if(0!==t.length){if(null==this.actionMatcher){this.actionMatcher=new ho(this.instance),this.actionMatcher.init();this.actionMatcher._addActionHook((e=>{this.onAction(e)}))}t.forEach((e=>{var t,i,r,n,s,o,a,l,u,c;e.conditions&&null!==(t=e.conditions)&&void 0!==t&&t.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(r=i.actions)&&void 0!==r&&r.values&&(null===(n=e.conditions)||void 0===n||null===(s=n.actions)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)>0&&(null===(a=this.actionMatcher)||void 0===a||a.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c||c.forEach((t=>{if(t&&t.name){var i=this.actionToSurveys.get(t.name);i&&i.push(e.id),this.actionToSurveys.set(t.name,i||[e.id])}})))}))}}setupEventBasedSurveys(e){var t;if(0!==e.filter((e=>{var t,i,r,n;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r||null===(n=r.values)||void 0===n?void 0:n.length)>0})).length){null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.onEvent(e,t)})),e.forEach((e=>{var t,i,r;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(r=i.values)||void 0===r||r.forEach((t=>{if(t&&t.name){var i=this.eventToSurveys.get(t.name);i&&i.push(e.id),this.eventToSurveys.set(t.name,i||[e.id])}}))}))}}onEvent(e,t){var i,r,n=(null===(i=this.instance)||void 0===i||null===(r=i.persistence)||void 0===r?void 0:r.props[Me])||[];if(po.SURVEY_SHOWN_EVENT_NAME==e&&t&&n.length>0){var s,o=null==t||null===(s=t.properties)||void 0===s?void 0:s.$survey_id;if(o){var a=n.indexOf(o);a>=0&&(n.splice(a,1),this._updateActivatedSurveys(n))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(n.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,i,r=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[Me])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(r.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[Me]:[...new Set(e)]})}getSurveys(){var e,t,i=null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[Me];return i||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}W(po,\"SURVEY_SHOWN_EVENT_NAME\",\"survey shown\");var _o=B(\"[Surveys]\"),vo={icontains:(e,t)=>e.some((e=>t.toLowerCase().includes(e.toLowerCase()))),not_icontains:(e,t)=>e.every((e=>!t.toLowerCase().includes(e.toLowerCase()))),regex:(e,t)=>e.some((e=>uo(t,e))),not_regex:(e,t)=>e.every((e=>!uo(t,e))),exact:(e,t)=>e.some((e=>t===e)),is_not:(e,t)=>e.every((e=>t!==e))};function go(e){return null!=e?e:\"icontains\"}class fo{constructor(e){W(this,\"_isFetchingSurveys\",!1),W(this,\"_isInitializingSurveys\",!1),W(this,\"_surveyCallbacks\",[]),this.instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(O(t))return _o.warn(\"Decide not loaded yet. Not loading surveys.\");var i=x(t);this._hasSurveys=i?t.length>0:t,_o.info(\"decide response received, hasSurveys: \".concat(this._hasSurveys)),this._hasSurveys&&this.loadIfEnabled()}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");var e=(()=>{for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);null!=i&&i.startsWith(\"seenSurvey_\")&&e.push(i)}return e})();e.forEach((e=>localStorage.removeItem(e)))}loadIfEnabled(){if(!this._surveyManager)if(this._isInitializingSurveys)_o.info(\"Already initializing surveys, skipping...\");else if(this.instance.config.disable_surveys)_o.info(\"Disabled. Not loading surveys.\");else{var e=null==p?void 0:p.__PosthogExtensions__;if(e)if(this._hasSurveys){this._isInitializingSurveys=!0;try{var t=e.generateSurveys;if(t)this._surveyManager=t(this.instance),this._isInitializingSurveys=!1,this._surveyEventReceiver=new po(this.instance),_o.info(\"Surveys loaded successfully\"),this._notifySurveyCallbacks({isLoaded:!0});else{var i=e.loadExternalDependency;if(i)i(this.instance,\"surveys\",(t=>{if(t||!e.generateSurveys)return _o.error(\"Could not load surveys script\",t),void(this._isInitializingSurveys=!1);this._surveyManager=e.generateSurveys(this.instance),this._isInitializingSurveys=!1,this._surveyEventReceiver=new po(this.instance),_o.info(\"Surveys loaded successfully\"),this._notifySurveyCallbacks({isLoaded:!0})}));else{var r=\"PostHog loadExternalDependency extension not found. Cannot load remote config.\";_o.error(r),this._isInitializingSurveys=!1,this._notifySurveyCallbacks({isLoaded:!1,error:r})}}}catch(e){throw _o.error(\"Error initializing surveys\",e),this._isInitializingSurveys=!1,this._notifySurveyCallbacks({isLoaded:!1,error:\"Error initializing surveys\"}),e}}else _o.info(\"No surveys to load.\");else _o.error(\"PostHog Extensions not found.\")}}onSurveysLoaded(e){return this._surveyCallbacks.push(e),this._surveyManager&&this._notifySurveyCallbacks({isLoaded:!0}),()=>{this._surveyCallbacks=this._surveyCallbacks.filter((t=>t!==e))}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return _o.info(\"Disabled. Not loading surveys.\"),e([]);var i=this.instance.get_property(Oe);if(i&&!t)return e(i,{isLoaded:!0});if(this._isFetchingSurveys)return e([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this._isFetchingSurveys=!0,this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\".concat(this.instance.config.token)),method:\"GET\",timeout:this.instance.config.surveys_request_timeout_ms,callback:t=>{var i;this._isFetchingSurveys=!1;var r=t.statusCode;if(200!==r||!t.json){var n=\"Surveys API could not be loaded, status: \".concat(r);return _o.error(n),e([],{isLoaded:!1,error:n})}var s,o=t.json.surveys||[],a=o.filter((e=>{var t,i,r,n,s,o,a,l,u,c,d,h;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r?void 0:r.values)&&(null===(n=e.conditions)||void 0===n||null===(s=n.events)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u?void 0:u.values)&&(null===(c=e.conditions)||void 0===c||null===(d=c.actions)||void 0===d||null===(h=d.values)||void 0===h?void 0:h.length)>0}));a.length>0&&(null===(s=this._surveyEventReceiver)||void 0===s||s.register(a));return null===(i=this.instance.persistence)||void 0===i||i.register({[Oe]:o}),e(o,{isLoaded:!0})}})}catch(e){throw this._isFetchingSurveys=!1,e}}_notifySurveyCallbacks(e){for(var t of this._surveyCallbacks)try{e.isLoaded?this.getSurveys(t):t([],e)}catch(e){_o.error(\"Error in survey callback\",e)}}isSurveyFeatureFlagEnabled(e){return!e||this.instance.featureFlags.isFeatureEnabled(e)}getActiveMatchingSurveys(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((i=>{var r,n=i.filter((e=>!(!e.start_date||e.end_date))).filter((e=>{var i;if(!e.conditions)return!0;var r=function(e){var i,r,n;if(null===(i=e.conditions)||void 0===i||!i.url)return!0;var s=null==t||null===(r=t.location)||void 0===r?void 0:r.href;if(!s)return!1;var o=[e.conditions.url];return vo[go(null===(n=e.conditions)||void 0===n?void 0:n.urlMatchType)](o,s)}(e),n=null===(i=e.conditions)||void 0===i||!i.selector||(null==a?void 0:a.querySelector(e.conditions.selector)),s=function(e){var t,i,r;if(null===(t=e.conditions)||void 0===t||!t.deviceTypes||0===(null===(i=e.conditions)||void 0===i?void 0:i.deviceTypes.length))return!0;if(!h)return!1;var n=hs.deviceType(h);return vo[go(null===(r=e.conditions)||void 0===r?void 0:r.deviceTypesMatchType)](e.conditions.deviceTypes,n)}(e);return r&&n&&s})),s=null===(r=this._surveyEventReceiver)||void 0===r?void 0:r.getSurveys(),o=n.filter((e=>{var t,i,r,n,o,a,l,u,c;if(!(e.linked_flag_key||e.targeting_flag_key||e.internal_targeting_flag_key||null!==(t=e.feature_flag_keys)&&void 0!==t&&t.length))return!0;var d=this.isSurveyFeatureFlagEnabled(e.linked_flag_key),h=this.isSurveyFeatureFlagEnabled(e.targeting_flag_key),p=(null!==(i=null===(r=e.conditions)||void 0===r||null===(n=r.events)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0,_=(null!==(a=null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>0,v=!p&&!_||(null==s?void 0:s.includes(e.id)),g=this._canActivateRepeatedly(e)||this.isSurveyFeatureFlagEnabled(e.internal_targeting_flag_key),f=this.checkFlags(e);return d&&h&&g&&v&&f}));return e(o)}),i)}checkFlags(e){var t;return null===(t=e.feature_flag_keys)||void 0===t||!t.length||e.feature_flag_keys.every((e=>{var{key:t,value:i}=e;return!t||!i||this.instance.featureFlags.isFeatureEnabled(i)}))}_canActivateRepeatedly(e){var t;return O(null===(t=p.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(_o.warn(\"init was not called\"),!1):p.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){O(this._surveyManager)?_o.warn(\"init was not called\"):this.getSurveys((t=>{var i=t.filter((t=>t.id===e))[0];this._surveyManager.canRenderSurvey(i)}))}renderSurvey(e,t){O(this._surveyManager)?_o.warn(\"init was not called\"):this.getSurveys((i=>{var r=i.filter((t=>t.id===e))[0];this._surveyManager.renderSurvey(r,null==a?void 0:a.querySelector(t))}))}}var mo=B(\"[RateLimiter]\");class yo{constructor(e){var t,i;W(this,\"serverLimits\",{}),W(this,\"lastEventRateLimited\",!1),W(this,\"checkForLimiting\",(e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((e=>{mo.info(\"\".concat(e||\"events\",\" is quota limited.\")),this.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void mo.warn('could not rate limit - continuing. Error: \"'.concat(null==e?void 0:e.message,'\"'),{text:t})}})),this.instance=e,this.captureEventsPerSecond=(null===(t=e.config.rate_limiting)||void 0===t?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=e.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(new Date).getTime(),s=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(qe))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:n};s.tokens+=(n-s.last)/1e3*this.captureEventsPerSecond,s.last=n,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var o=s.tokens<1;return o||r||(s.tokens=Math.max(0,s.tokens-1)),!o||this.lastEventRateLimited||r||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \".concat(this.captureEventsPerSecond,\" events per second and \").concat(this.captureEventsBurstLimit,\" events burst limit.\")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(qe,s),{isRateLimited:o,remainingTokens:s.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||\"events\"]||!1;return!1!==t&&(new Date).getTime()<t}}var bo=B(\"[RemoteConfig]\");class wo{constructor(e){this.instance=e}get remoteConfig(){var e,t;return null===(e=p._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.config}_loadRemoteConfigJs(e){var t,i,r;null!==(t=p.__PosthogExtensions__)&&void 0!==t&&t.loadExternalDependency?null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"remote-config\",(()=>e(this.remoteConfig))):(bo.error(\"PostHog Extensions not found. Cannot load remote config.\"),e())}_loadRemoteConfigJSON(e){this.instance._send_request({method:\"GET\",url:this.instance.requestRouter.endpointFor(\"assets\",\"/array/\".concat(this.instance.config.token,\"/config\")),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return bo.info(\"Using preloaded remote config\",this.remoteConfig),void this.onRemoteConfig(this.remoteConfig);if(this.instance.config.advanced_disable_decide)return void bo.warn(\"Remote config is disabled. Falling back to local config.\");this._loadRemoteConfigJs((e=>{if(!e)return bo.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this._loadRemoteConfigJSON((e=>{this.onRemoteConfig(e)}));this.onRemoteConfig(e)}))}catch(e){bo.error(\"Error loading remote config\",e)}}onRemoteConfig(e){e?this.instance.config.__preview_remote_config?(this.instance._onRemoteConfig(e),!1!==e.hasFeatureFlags&&this.instance.featureFlags.ensureFlagsLoaded()):bo.info(\"__preview_remote_config is disabled. Logging config instead\",e):bo.error(\"Failed to fetch remote config from PostHog.\")}}var So=function(e){var t,i,r,n,s=\"\";for(t=i=0,r=(e=(e+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,n=0;n<r;n++){var o=e.charCodeAt(n),a=null;o<128?i++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),$(a)||(i>t&&(s+=e.substring(t,i)),s+=a,t=i=n+1)}return i>t&&(s+=e.substring(t,e.length)),s},ko=!!c||!!u,Eo=\"text/plain\",xo=(e,t)=>{var[i,r]=e.split(\"?\"),n=z({},t);null==r||r.split(\"&\").forEach((e=>{var[t]=e.split(\"=\");delete n[t]}));var s=kt(n);return s=s?(r?r+\"&\":\"\")+s:r,\"\".concat(i,\"?\").concat(s)},Io=(e,t)=>JSON.stringify(e,((e,t)=>\"bigint\"==typeof t?t.toString():t),t),Co=t=>{var{data:i,compression:r}=t;if(i){if(r===e.GZipJS){var n=$r(Or(Io(i)),{mtime:0}),s=new Blob([n],{type:Eo});return{contentType:Eo,body:s,estimatedSize:s.size}}if(r===e.Base64){var o=function(e){var t,i,r,n,s,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",c=[];if(!e)return e;e=So(e);do{t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,i=s>>12&63,r=s>>6&63,n=63&s,c[l++]=o.charAt(t)+o.charAt(i)+o.charAt(r)+o.charAt(n)}while(a<e.length);switch(u=c.join(\"\"),e.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(Io(i)),a=(e=>\"data=\"+encodeURIComponent(\"string\"==typeof e?e:Io(e)))(o);return{contentType:\"application/x-www-form-urlencoded\",body:a,estimatedSize:new Blob([a]).size}}var l=Io(i);return{contentType:\"application/json\",body:l,estimatedSize:new Blob([l]).size}}},Po=[];u&&Po.push({transport:\"fetch\",method:e=>{var t,i,{contentType:r,body:n,estimatedSize:s}=null!==(t=Co(e))&&void 0!==t?t:{},o=new Headers;Y(e.headers,(function(e,t){o.append(t,e)})),r&&o.append(\"Content-Type\",r);var a=e.url,l=null;if(d){var c=new d;l={signal:c.signal,timeout:setTimeout((()=>c.abort()),e.timeout)}}u(a,z({method:(null==e?void 0:e.method)||\"GET\",headers:o,keepalive:\"POST\"===e.method&&(s||0)<52428.8,body:n,signal:null===(i=l)||void 0===i?void 0:i.signal},e.fetchOptions)).then((t=>t.text().then((i=>{var r,n={statusCode:t.status,text:i};if(200===t.status)try{n.json=JSON.parse(i)}catch(e){N.error(e)}null===(r=e.callback)||void 0===r||r.call(e,n)})))).catch((t=>{var i;N.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})})).finally((()=>l?clearTimeout(l.timeout):null))}}),c&&Po.push({transport:\"XHR\",method:e=>{var t,i=new c;i.open(e.method||\"GET\",e.url,!0);var{contentType:r,body:n}=null!==(t=Co(e))&&void 0!==t?t:{};Y(e.headers,(function(e,t){i.setRequestHeader(t,e)})),r&&i.setRequestHeader(\"Content-Type\",r),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t,r={statusCode:i.status,text:i.responseText};if(200===i.status)try{r.json=JSON.parse(i.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},i.send(n)}}),null!=o&&o.sendBeacon&&Po.push({transport:\"sendBeacon\",method:e=>{var t=xo(e.url,{beacon:\"1\"});try{var i,{contentType:r,body:n}=null!==(i=Co(e))&&void 0!==i?i:{},s=\"string\"==typeof n?new Blob([n],{type:r}):n;o.sendBeacon(t,s)}catch(e){}}});var Fo=3e3;class To{constructor(e,t){W(this,\"isPaused\",!0),W(this,\"queue\",[]),this.flushTimeoutMs=Ji((null==t?void 0:t.flush_interval_ms)||Fo,250,5e3,\"flush interval\",Fo),this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var e=this.queue.length>0?this.formatQueue():{},t=Object.values(e),i=[...t.filter((e=>0===e.url.indexOf(\"/e\"))),...t.filter((e=>0!==e.url.indexOf(\"/e\")))];i.map((e=>{this.sendRequest(z(z({},e),{},{transport:\"sendBeacon\"}))}))}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((()=>{if(this.clearFlushTimeout(),this.queue.length>0){var t=this.formatQueue(),i=function(i){var r=t[i],n=(new Date).getTime();r.data&&x(r.data)&&Y(r.data,(e=>{e.offset=Math.abs(e.timestamp-n),delete e.timestamp})),e.sendRequest(r)};for(var r in t)i(r)}}),this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var e={};return Y(this.queue,(t=>{var i,r=t,n=(r?r.batchKey:null)||r.url;F(e[n])&&(e[n]=z(z({},r),{},{data:[]})),null===(i=e[n].data)||void 0===i||i.push(r.data)})),this.queue=[],e}}var Ro=[\"retriesPerformedSoFar\"];class $o{constructor(e){W(this,\"isPolling\",!1),W(this,\"pollIntervalMs\",3e3),W(this,\"queue\",[]),this.instance=e,this.queue=[],this.areWeOnline=!0,!F(t)&&\"onLine\"in t.navigator&&(this.areWeOnline=t.navigator.onLine,oe(t,\"online\",(()=>{this.areWeOnline=!0,this.flush()})),oe(t,\"offline\",(()=>{this.areWeOnline=!1})))}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=V(e,Ro);M(t)&&t>0&&(i.url=xo(i.url,{retry_count:t})),this.instance._send_request(z(z({},i),{},{callback:e=>{var r;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.enqueue(z({retriesPerformedSoFar:t},i)):null===(r=i.callback)||void 0===r||r.call(i,e)}}))}enqueue(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var i=function(e){var t=3e3*Math.pow(2,e),i=t/2,r=Math.min(18e5,t),n=(Math.random()-.5)*(r-i);return Math.ceil(r+n)}(t),r=Date.now()+i;this.queue.push({retryAt:r,requestOptions:e});var n=\"Enqueued failed request for retry in \".concat(i);navigator.onLine||(n+=\" (Browser is offline)\"),N.warn(n),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout((()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()}),this.pollIntervalMs)}flush(){var e=Date.now(),t=[],i=this.queue.filter((i=>i.retryAt<e||(t.push(i),!1)));if(this.queue=t,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(z(z({},e),{},{transport:\"sendBeacon\"}))}catch(e){N.error(e)}this.queue=[]}}class Oo{constructor(e){W(this,\"_updateScrollData\",(()=>{var e,t,i,r;this.context||(this.context={});var n=this.scrollElement(),s=this.scrollY(),o=n?Math.max(0,n.scrollHeight-n.clientHeight):0,a=s+((null==n?void 0:n.clientHeight)||0),l=(null==n?void 0:n.scrollHeight)||0;this.context.lastScrollY=Math.ceil(s),this.context.maxScrollY=Math.max(s,null!==(e=this.context.maxScrollY)&&void 0!==e?e:0),this.context.maxScrollHeight=Math.max(o,null!==(t=this.context.maxScrollHeight)&&void 0!==t?t:0),this.context.lastContentY=a,this.context.maxContentY=Math.max(a,null!==(i=this.context.maxContentY)&&void 0!==i?i:0),this.context.maxContentHeight=Math.max(l,null!==(r=this.context.maxContentHeight)&&void 0!==r?r:0)})),this.instance=e}getContext(){return this.context}resetContext(){var e=this.context;return setTimeout(this._updateScrollData,0),e}startMeasuringScrollPosition(){oe(t,\"scroll\",this._updateScrollData,{capture:!0}),oe(t,\"scrollend\",this._updateScrollData,{capture:!0}),oe(t,\"resize\",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var e=x(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var i of e){var r=null==t?void 0:t.document.querySelector(i);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var Mo=e=>hs.personInfo({maskPersonalDataProperties:null==e?void 0:e.config.mask_personal_data_properties,customPersonalDataProperties:null==e?void 0:e.config.custom_personal_data_properties});class Ao{constructor(e,t,i,r){W(this,\"_onSessionIdCallback\",(e=>{var t=this._getStored();if(!t||t.sessionId!==e){var i={sessionId:e,props:this._sessionSourceParamGenerator(this.instance)};this._persistence.register({[De]:i})}})),this.instance=e,this._sessionIdManager=t,this._persistence=i,this._sessionSourceParamGenerator=r||Mo,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStored(){return this._persistence.props[De]}getSetOnceProps(){var e,t=null===(e=this._getStored())||void 0===e?void 0:e.props;return t?\"r\"in t?hs.personPropsFromInfo(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return Y(te(this.getSetOnceProps()),((t,i)=>{\"$current_url\"===i&&(i=\"url\"),e[\"$session_entry_\".concat(b(i))]=t})),e}}var Lo=B(\"[SessionId]\");class Do{constructor(e,t,i){var r;if(W(this,\"_sessionIdChangedHandlers\",[]),!e.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(e.config.__preview_experimental_cookieless_mode)throw new Error(\"SessionIdManager cannot be used with __preview_experimental_cookieless_mode\");this.config=e.config,this.persistence=e.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=t||Nt,this._windowIdGenerator=i||Nt;var n=this.config.persistence_name||this.config.token,s=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ji(s,60,36e3,\"session_idle_timeout_seconds\",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.resetIdleTimer(),this._window_id_storage_key=\"ph_\"+n+\"_window_id\",this._primary_window_exists_storage_key=\"ph_\"+n+\"_primary_window_exists\",this._canUseSessionStorage()){var o=ei.parse(this._window_id_storage_key),a=ei.parse(this._primary_window_exists_storage_key);o&&!a?this._windowId=o:ei.remove(this._window_id_storage_key),ei.set(this._primary_window_exists_storage_key,!0)}if(null!==(r=this.config.bootstrap)&&void 0!==r&&r.sessionID)try{var l=(e=>{var t=e.replace(/-/g,\"\");if(32!==t.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==t[12])throw new Error(\"Not a UUIDv7\");return parseInt(t.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){Lo.error(\"Invalid sessionID in bootstrap\",e)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return F(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter((t=>t!==e))}}_canUseSessionStorage(){return\"memory\"!==this.config.persistence&&!this.persistence.disabled&&ei.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&ei.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?ei.parse(this._window_id_storage_key):null}_setSessionId(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[Ee]:[t,e,i]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Ee];return x(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){oe(t,\"beforeunload\",(()=>{this._canUseSessionStorage()&&ei.remove(this._primary_window_exists_storage_key)}),{capture:!1})}checkAndGetSessionAndWindowId(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.config.__preview_experimental_cookieless_mode)throw new Error(\"checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode\");var i=t||(new Date).getTime(),[r,n,s]=this._getSessionId(),o=this._getWindowId(),a=M(s)&&s>0&&Math.abs(i-s)>864e5,l=!1,u=!n,c=!e&&Math.abs(i-r)>this.sessionTimeoutMs;u||c||a?(n=this._sessionIdGenerator(),o=this._windowIdGenerator(),Lo.info(\"new session ID generated\",{sessionId:n,windowId:o,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}}),s=i,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===r||!e||a?i:r,h=0===s?(new Date).getTime():s;return this._setWindowId(o),this._setSessionId(n,d,h),e||this.resetIdleTimer(),l&&this._sessionIdChangedHandlers.forEach((e=>e(n,o,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0))),{sessionId:n,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}resetIdleTimer(){clearTimeout(this._enforceIdleTimeout),this._enforceIdleTimeout=setTimeout((()=>{this.resetSessionId()}),1.1*this.sessionTimeoutMs)}}var qo=[\"$set_once\",\"$set\"],No=B(\"[SiteApps]\");class Bo{constructor(e){this.instance=e,this.bufferedInvocations=[],this.apps={}}get isEnabled(){return!!this.instance.config.opt_in_site_apps}eventCollector(e,t){if(t){var i=this.globalsForEvent(t);this.bufferedInvocations.push(i),this.bufferedInvocations.length>1e3&&(this.bufferedInvocations=this.bufferedInvocations.slice(10))}}get siteAppLoaders(){var e,t;return null===(e=p._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.siteApps}init(){if(this.isEnabled){var e=this.instance._addCaptureHook(this.eventCollector.bind(this));this.stopBuffering=()=>{e(),this.bufferedInvocations=[],this.stopBuffering=void 0}}}globalsForEvent(e){var t,i,r,n,s,o,a;if(!e)throw new Error(\"Event payload is required\");var l={},u=this.instance.get_property(\"$groups\")||[],c=this.instance.get_property(\"$stored_group_properties\")||{};for(var[d,h]of Object.entries(c))l[d]={id:u[d],type:d,properties:h};var{$set_once:p,$set:_}=e;return{event:z(z({},V(e,qo)),{},{properties:z(z(z({},e.properties),_?{$set:z(z({},null!==(t=null===(i=e.properties)||void 0===i?void 0:i.$set)&&void 0!==t?t:{}),_)}:{}),p?{$set_once:z(z({},null!==(r=null===(n=e.properties)||void 0===n?void 0:n.$set_once)&&void 0!==r?r:{}),p)}:{}),elements_chain:null!==(s=null===(o=e.properties)||void 0===o?void 0:o.$elements_chain)&&void 0!==s?s:\"\",distinct_id:null===(a=e.properties)||void 0===a?void 0:a.distinct_id}),person:{properties:this.instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],i=()=>{var i;(!t.errored&&this.bufferedInvocations.length&&(No.info(\"Processing \".concat(this.bufferedInvocations.length,\" events for site app with id \").concat(e.id)),this.bufferedInvocations.forEach((e=>{var i;return null===(i=t.processEvent)||void 0===i?void 0:i.call(t,e)})),t.processedBuffer=!0),Object.values(this.apps).every((e=>e.processedBuffer||e.errored)))&&(null===(i=this.stopBuffering)||void 0===i||i.call(this))},r=!1,n=n=>{t.errored=!n,t.loaded=!0,No.info(\"Site app with id \".concat(e.id,\" \").concat(n?\"loaded\":\"errored\")),r&&i()};try{var{processEvent:s}=e.init({posthog:this.instance,callback:e=>{n(e)}});s&&(t.processEvent=s),r=!0}catch(t){No.error(\"Error while initializing PostHog app with config id \".concat(e.id),t),n(!1)}if(r&&t.loaded)try{i()}catch(i){No.error(\"Error while processing buffered events PostHog app with config id \".concat(e.id),i),t.errored=!0}}setupSiteApps(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}onCapturedEvent(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{var r;null===(r=i.processEvent)||void 0===r||r.call(i,t)}catch(t){No.error(\"Error while processing event \".concat(e.event,\" for site app \").concat(i.id),t)}}}onRemoteConfig(e){var t,i,r,n=this;if(null!==(t=this.siteAppLoaders)&&void 0!==t&&t.length)return this.isEnabled?(this.setupSiteApps(),void this.instance.on(\"eventCaptured\",(e=>this.onCapturedEvent(e)))):void No.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null===(i=this.stopBuffering)||void 0===i||i.call(this),null!==(r=e.siteApps)&&void 0!==r&&r.length)if(this.isEnabled){var s=function(e,t){var i,r;p[\"__$$ph_site_app_\".concat(e)]=n.instance,null===(i=p.__PosthogExtensions__)||void 0===i||null===(r=i.loadSiteApp)||void 0===r||r.call(i,n.instance,t,(t=>{if(t)return No.error(\"Error while initializing PostHog app with config id \".concat(e),t)}))};for(var{id:o,url:a}of e.siteApps)s(o,a)}else No.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var Ho,jo=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"bytespider\"],Uo=function(e,t){if(!e)return!1;var i=e.toLowerCase();return jo.concat(t||[]).some((e=>{var t=e.toLowerCase();return-1!==i.indexOf(t)}))},zo=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&Uo(i,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some((e=>Uo(null==e?void 0:e.brand,t))))return!0}catch(e){}return!!e.webdriver};function Wo(e,t,i){return Io({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}!function(e){e.US=\"us\",e.EU=\"eu\",e.CUSTOM=\"custom\"}(Ho||(Ho={}));var Vo=\"i.posthog.com\";class Go{constructor(e){W(this,\"_regionCache\",{}),this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===e?\"https://us.i.posthog.com\":e}get uiHost(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\\/$/,\"\");return t||(t=this.apiHost.replace(\".\".concat(Vo),\".posthog.com\")),\"https://app.posthog.com\"===t?\"https://us.posthog.com\":t}get region(){return this._regionCache[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ho.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ho.EU:this._regionCache[this.apiHost]=Ho.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(t&&(t=\"/\"===t[0]?t:\"/\".concat(t)),\"ui\"===e)return this.uiHost+t;if(this.region===Ho.CUSTOM)return this.apiHost+t;var i=Vo+t;switch(e){case\"assets\":return\"https://\".concat(this.region,\"-assets.\").concat(i);case\"api\":return\"https://\".concat(this.region,\".\").concat(i)}}}var Jo={icontains:(e,i)=>!!t&&i.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,i)=>!!t&&-1===i.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,i)=>!!t&&uo(i.href,e),not_regex:(e,i)=>!!t&&!uo(i.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Yo{constructor(e){var t=this;W(this,\"getWebExperimentsAndEvaluateDisplayLogic\",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.getWebExperiments((e=>{Yo.logInfo(\"retrieved web experiments from the server\"),t._flagToExperiments=new Map,e.forEach((e=>{if(e.feature_flag_key){var i;if(t._flagToExperiments)Yo.logInfo(\"setting flag key \",e.feature_flag_key,\" to web experiment \",e),null===(i=t._flagToExperiments)||void 0===i||i.set(e.feature_flag_key,e);var r=t.instance.getFeatureFlag(e.feature_flag_key);T(r)&&e.variants[r]&&t.applyTransforms(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var n in e.variants){var s=e.variants[n];Yo.matchesTestVariant(s)&&t.applyTransforms(e.name,n,s.transforms)}}))}),e)})),this.instance=e,this.instance.onFeatureFlags((e=>{this.onFeatureFlags(e)}))}onFeatureFlags(e){if(this._is_bot())Yo.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this.instance.config.disable_web_experiments){if(O(this._flagToExperiments))return this._flagToExperiments=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Yo.logInfo(\"applying feature flags\",e),e.forEach((e=>{var t;if(this._flagToExperiments&&null!==(t=this._flagToExperiments)&&void 0!==t&&t.has(e)){var i,r=this.instance.getFeatureFlag(e),n=null===(i=this._flagToExperiments)||void 0===i?void 0:i.get(e);r&&null!=n&&n.variants[r]&&this.applyTransforms(n.name,r,n.variants[r].transforms)}}))}}previewWebExperiment(){var e=Yo.getWindowLocation();if(null!=e&&e.search){var t=Et(null==e?void 0:e.search,\"__experiment_id\"),i=Et(null==e?void 0:e.search,\"__experiment_variant\");t&&i&&(Yo.logInfo(\"previewing web experiments \".concat(t,\" && \").concat(i)),this.getWebExperiments((e=>{this.showPreviewWebExperiment(parseInt(t),i,e)}),!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this.instance.config.disable_web_experiments&&!i)return e([]);var r=this.instance.get_property(\"$web_experiments\");if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var i=t.json.experiments||[];return e(i)}})}showPreviewWebExperiment(e,t,i){var r=i.filter((t=>t.id===e));r&&r.length>0&&(Yo.logInfo(\"Previewing web experiment [\".concat(r[0].name,\"] with variant [\").concat(t,\"]\")),this.applyTransforms(r[0].name,t,r[0].variants[t].transforms))}static matchesTestVariant(e){return!O(e.conditions)&&(Yo.matchUrlConditions(e)&&Yo.matchUTMConditions(e))}static matchUrlConditions(e){var t;if(O(e.conditions)||O(null===(t=e.conditions)||void 0===t?void 0:t.url))return!0;var i,r,n,s=Yo.getWindowLocation();return!!s&&(null===(i=e.conditions)||void 0===i||!i.url||Jo[null!==(r=null===(n=e.conditions)||void 0===n?void 0:n.urlMatchType)&&void 0!==r?r:\"icontains\"](e.conditions.url,s))}static getWindowLocation(){return null==t?void 0:t.location}static matchUTMConditions(e){var t;if(O(e.conditions)||O(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var i=hs.campaignParams();if(i.utm_source){var r,n,s,o,a,l,u,c,d,h,p,_,v,g,f,m,y=null===(r=e.conditions)||void 0===r||null===(n=r.utm)||void 0===n||!n.utm_campaign||(null===(s=e.conditions)||void 0===s||null===(o=s.utm)||void 0===o?void 0:o.utm_campaign)==i.utm_campaign,b=null===(a=e.conditions)||void 0===a||null===(l=a.utm)||void 0===l||!l.utm_source||(null===(u=e.conditions)||void 0===u||null===(c=u.utm)||void 0===c?void 0:c.utm_source)==i.utm_source,w=null===(d=e.conditions)||void 0===d||null===(h=d.utm)||void 0===h||!h.utm_medium||(null===(p=e.conditions)||void 0===p||null===(_=p.utm)||void 0===_?void 0:_.utm_medium)==i.utm_medium,S=null===(v=e.conditions)||void 0===v||null===(g=v.utm)||void 0===g||!g.utm_term||(null===(f=e.conditions)||void 0===f||null===(m=f.utm)||void 0===m?void 0:m.utm_term)==i.utm_term;return y&&w&&S&&b}return!1}static logInfo(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];N.info(\"[WebExperiments] \".concat(e),i)}applyTransforms(e,t,i){this._is_bot()?Yo.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==t?i.forEach((i=>{if(i.selector){var r;Yo.logInfo(\"applying transform of variant \".concat(t,\" for experiment \").concat(e,\" \"),i);var n=null===(r=document)||void 0===r?void 0:r.querySelectorAll(i.selector);null==n||n.forEach((e=>{var t=e;i.html&&(t.innerHTML=i.html),i.css&&t.setAttribute(\"style\",i.css)}))}})):Yo.logInfo(\"Control variants leave the page unmodified.\")}_is_bot(){return o&&this.instance?zo(o,this.instance.config.custom_blocked_useragents):void 0}}var Ko={},Xo=()=>{},Qo=\"posthog\",Zo=!ko&&-1===(null==h?void 0:h.indexOf(\"MSIE\"))&&-1===(null==h?void 0:h.indexOf(\"Mozilla\")),ea=()=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:ne(null==a?void 0:a.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:Xo,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:\"if_capture_pageview\",debug:l&&T(null==l?void 0:l.search)&&-1!==l.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null===(e=t.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t=\"Bad HTTP status: \"+e.statusCode+\" \"+e.text;N.error(t)},get_device_id:e=>e,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:Fo},_onCapture:Xo}},ta=e=>{var t={};F(e.process_person)||(t.person_profiles=e.process_person),F(e.xhr_headers)||(t.request_headers=e.xhr_headers),F(e.cookie_name)||(t.persistence_name=e.cookie_name),F(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),F(e.store_google)||(t.save_campaign_params=e.store_google),F(e.verbose)||(t.debug=e.verbose);var i=K({},t,e);return x(e.property_blacklist)&&(F(e.property_denylist)?i.property_denylist=e.property_blacklist:x(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:N.error(\"Invalid value for property_denylist config: \"+e.property_denylist)),i};class ia{constructor(){W(this,\"__forceAllowLocalhost\",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){N.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=e}}class ra{get decideEndpointWasHit(){var e,t;return null!==(e=null===(t=this.featureFlags)||void 0===t?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){W(this,\"webPerformance\",new ia),W(this,\"_personProcessingSetOncePropertiesSent\",!1),W(this,\"version\",_.LIB_VERSION),W(this,\"_internalEventEmitter\",new co),this.config=ea(),this.SentryIntegration=Yr,this.sentryIntegration=e=>function(e,t){var i=Jr(e,t);return{name:Gr,processEvent:e=>i(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this._cachedIdentify=null,this.featureFlags=new ws(this),this.toolbar=new en(this),this.scrollManager=new Oo(this),this.pageViewManager=new cn(this),this.surveys=new fo(this),this.experiments=new Yo(this),this.exceptions=new dn(this),this.rateLimiter=new yo(this),this.requestRouter=new Go(this),this.consent=new ti(this),this.people={set:(e,t,i)=>{var r=T(e)?{[e]:t}:e;this.setPersonProperties(r),null==i||i({})},set_once:(e,t,i)=>{var r=T(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==i||i({})}},this.on(\"eventCaptured\",(e=>N.info('send \"'.concat(null==e?void 0:e.event,'\"'),e)))}init(e,t,i){if(i&&i!==Qo){var r,n=null!==(r=Ko[i])&&void 0!==r?r:new ra;return n._init(e,t,i),Ko[i]=n,Ko[Qo][i]=n,n}return this._init(e,t,i)}_init(i){var r,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(F(i)||R(i))return N.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return N.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(K({},ea(),ta(s),{name:o,token:i})),this.config.on_xhr_error&&N.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=s.disable_compression?void 0:e.GZipJS,this.persistence=new ks(this.config),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new ks(z(z({},this.config),{},{persistence:\"sessionStorage\"}));var a=z({},this.persistence.props),l=z({},this.sessionPersistence.props);if(this._requestQueue=new To((e=>this._send_retriable_request(e)),this.config.request_queue_config),this._retryQueue=new $o(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new Do(this),this.sessionPropsManager=new Ao(this,this.sessionManager,this.persistence)),new rn(this).startIfEnabledOrStop(),this.siteApps=new Bo(this),null===(r=this.siteApps)||void 0===r||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new zr(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $t(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new un(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new on(this),this.exceptionObserver=new ai(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new si(this,ni),this.deadClicksAutocapture.startIfEnabled(),_.DEBUG=_.DEBUG||this.config.debug,_.DEBUG&&N.info(\"Starting in debug mode\",{this:this,config:s,thisC:z({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),void 0!==(null===(n=s.bootstrap)||void 0===n?void 0:n.distinctID)){var u,c,d=this.config.get_device_id(Nt()),h=null!==(u=s.bootstrap)&&void 0!==u&&u.isIdentifiedID?d:s.bootstrap.distinctID;this.persistence.set_property(Le,null!==(c=s.bootstrap)&&void 0!==c&&c.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var p,v,g=Object.keys((null===(p=s.bootstrap)||void 0===p?void 0:p.featureFlags)||{}).filter((e=>{var t,i;return!(null===(t=s.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])})).reduce(((e,t)=>{var i,r;return e[t]=(null===(i=s.bootstrap)||void 0===i||null===(r=i.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),f=Object.keys((null===(v=s.bootstrap)||void 0===v?void 0:v.featureFlagPayloads)||{}).filter((e=>g[e])).reduce(((e,t)=>{var i,r,n,o;null!==(i=s.bootstrap)&&void 0!==i&&null!==(r=i.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(n=s.bootstrap)||void 0===n||null===(o=n.featureFlagPayloads)||void 0===o?void 0:o[t]);return e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:f})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:ze,$device_id:null},\"\");else if(!this.get_distinct_id()){var m=this.config.get_device_id(Nt());this.register_once({distinct_id:m,$device_id:m},\"\"),this.persistence.set_property(Le,\"anonymous\")}return oe(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),s.segment?Vr(this,(()=>this._loaded())):this._loaded(),I(this.config._onCapture)&&this.config._onCapture!==Xo&&(N.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(e=>this.config._onCapture(e.event,e)))),this}_onRemoteConfig(t){var i,r,n,s,o,l,u,c;if(!a||!a.body)return N.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this._onRemoteConfig(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=m(t.supportedCompression,e.GZipJS)?e.GZipJS:m(t.supportedCompression,e.Base64)?e.Base64:void 0),null!==(i=t.analytics)&&void 0!==i&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:\"identified_only\"}),null===(r=this.siteApps)||void 0===r||r.onRemoteConfig(t),null===(n=this.sessionRecording)||void 0===n||n.onRemoteConfig(t),null===(s=this.autocapture)||void 0===s||s.onRemoteConfig(t),null===(o=this.heatmaps)||void 0===o||o.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null===(l=this.webVitalsAutocapture)||void 0===l||l.onRemoteConfig(t),null===(u=this.exceptionObserver)||void 0===u||u.onRemoteConfig(t),null===(c=this.deadClicksAutocapture)||void 0===c||c.onRemoteConfig(t)}_loaded(){try{this.config.loaded(this)}catch(e){N.critical(\"`loaded` function failed\",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((()=>{this.consent.isOptedIn()&&this._captureInitialPageview()}),1),new wo(this).load(),this.featureFlags.decide()}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||J(this.__request_queue,(e=>this._send_retriable_request(e))),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture(\"$pageleave\"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}_send_request(e){this.__loaded&&(Zo?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=xo(e.url,{ip:this.config.ip?1:0}),e.headers=z({},this.config.request_headers),e.compression=\"best-available\"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,r,n=z({},e);n.timeout=n.timeout||6e4,n.url=xo(n.url,{_:(new Date).getTime().toString(),ver:_.LIB_VERSION,compression:n.compression});var s=null!==(t=n.transport)&&void 0!==t?t:\"fetch\",o=null!==(i=null===(r=se(Po,(e=>e.transport===s)))||void 0===r?void 0:r.method)&&void 0!==i?i:Po[0].method;if(!o)throw new Error(\"No available transport method\");o(n)})(z(z({},e),{},{callback:t=>{var i,r,n;(this.rateLimiter.checkForLimiting(t),t.statusCode>=400)&&(null===(r=(n=this.config).on_request_error)||void 0===r||r.call(n,t));null===(i=e.callback)||void 0===i||i.call(e,t)}}))))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){var t,i=[],r=[],n=[];J(e,(e=>{e&&(t=e[0],x(t)?n.push(e):I(e)?e.call(this):x(e)&&\"alias\"===t?i.push(e):x(e)&&-1!==t.indexOf(\"capture\")&&I(this[t])?n.push(e):r.push(e))}));var s=function(e,t){J(e,(function(e){if(x(e[0])){var i=t;Y(e,(function(e){i=i[e[0]].apply(i,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};s(i,this),s(r,this),s(n,this)}_hasBootstrappedFeatureFlags(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!F(e)&&T(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var n=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==n||!n.isRateLimited){null!=t&&t.$current_url&&!T(null==t?void 0:t.$current_url)&&(N.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,o=(null==i?void 0:i.timestamp)||s,a=Nt(),l={uuid:a,event:e,properties:this._calculate_event_properties(e,t||{},o,a)};n&&(l.properties.$lib_rate_limit_remaining_tokens=n.remainingTokens),(null==i?void 0:i.$set)&&(l.$set=null==i?void 0:i.$set);var u=this._calculate_set_once_properties(null==i?void 0:i.$set_once);u&&(l.$set_once=u),(l=ie(l,null!=i&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,F(null==i?void 0:i.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=s);var c=z(z({},l.properties.$set),l.$set);if(P(c)||this.setPersonPropertiesForFlags(c),!O(this.config.before_send)){var d=this._runBeforeSend(l);if(!d)return;l=d}this._internalEventEmitter.emit(\"eventCaptured\",l);var h={method:\"POST\",url:null!==(r=null==i?void 0:i._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(h):this._requestQueue.enqueue(h),l}N.critical(\"This capture call is ignored due to client rate limiting.\")}}else N.error(\"No event name provided to posthog.capture\")}else N.uninitializedWarning(\"posthog.capture\")}_addCaptureHook(e){return this.on(\"eventCaptured\",(t=>e(t.event,t)))}_calculate_event_properties(e,t,i,r){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),s=z({},t);if(s.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(s.$cookieless_mode=!0),\"$snapshot\"===e){var o=z(z({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,(!T(s.distinct_id)&&!M(s.distinct_id)||R(s.distinct_id))&&N.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),s}var l,u=hs.properties({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=c,s.$window_id=d}this.sessionPropsManager&&K(s,this.sessionPropsManager.getSessionProps());try{var p,_;this.sessionRecording&&(s.$recording_status=this.sessionRecording.status,s.$sdk_debug_replay_internal_buffer_length=this.sessionRecording.buffer.data.length,s.$sdk_debug_replay_internal_buffer_size=this.sessionRecording.buffer.size),s.$sdk_debug_retry_queue_size=null===(p=this._retryQueue)||void 0===p||null===(_=p.queue)||void 0===_?void 0:_.length}catch(e){s.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===Ho.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),l=\"$pageview\"===e?this.pageViewManager.doPageView(i,r):\"$pageleave\"===e?this.pageViewManager.doPageLeave(i):this.pageViewManager.doEvent(),s=K(s,l),\"$pageview\"===e&&a&&(s.title=a.title),!F(n)){var v=i.getTime()-n;s.$duration=parseFloat((v/1e3).toFixed(3))}h&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?\"bot\":\"browser\"),(s=K({},u,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),x(this.config.property_denylist)?Y(this.config.property_denylist,(function(e){delete s[e]})):N.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(N.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=g(s,e));var f=this._hasPersonProcessing();return s.$process_person_profile=f,f&&this._requirePersonProcessing(\"_calculate_event_properties\"),s}_calculate_set_once_properties(e){var t;if(!this.persistence||!this._hasPersonProcessing())return e;if(this._personProcessingSetOncePropertiesSent)return e;var i=this.persistence.get_initial_props(),r=null===(t=this.sessionPropsManager)||void 0===t?void 0:t.getSetOnceProps(),n=K({},i,r||{},e||{}),s=this.config.sanitize_properties;return s&&(N.error(\"sanitize_properties is deprecated. Use before_send instead\"),n=s(n,\"$set_once\")),this._personProcessingSetOncePropertiesSent=!0,P(n)?void 0:n}register(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}register_once(e,t,i){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,i)}register_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}unregister(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}unregister_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;return this.featureFlags.getEarlyAccessFeatures(e,t,i)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){this.surveys.canRenderSurvey(e)}identify(e,t,i){if(!this.__loaded||!this.persistence)return N.uninitializedWarning(\"posthog.identify\");if(M(e)&&(e=e.toString(),N.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),e){if([\"distinct_id\",\"distinctid\"].includes(e.toLowerCase()))N.critical('The string \"'.concat(e,'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property(\"$device_id\")){var n=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:n},\"\")}e!==r&&e!==this.get_property(le)&&(this.unregister(le),this.register({distinct_id:e}));var s=\"anonymous\"===(this.persistence.get_property(Le)||\"anonymous\");e!==r&&s?(this.persistence.set_property(Le,\"identified\"),this.setPersonPropertiesForFlags(z(z({},i||{}),t||{}),!1),this.capture(\"$identify\",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:i||{}}),this.featureFlags.setAnonymousDistinctId(r),this._cachedIdentify=Wo(e,t,i)):(t||i)&&(this._cachedIdentify!==Wo(e,t,i)?(this.setPersonProperties(t,i),this._cachedIdentify=Wo(e,t,i)):N.info(\"A duplicate posthog.identify call was made with the same properties. It has been ignored.\")),e!==r&&(this.reloadFeatureFlags(),this.unregister(Ae))}}else N.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(e,t){(e||t)&&this._requirePersonProcessing(\"posthog.setPersonProperties\")&&(this.setPersonPropertiesForFlags(z(z({},t||{}),e||{})),this.capture(\"$set\",{$set:e||{},$set_once:t||{}}))}group(e,t,i){if(e&&t){if(this._requirePersonProcessing(\"posthog.group\")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:z(z({},r),{},{[e]:t})}),i&&(this.capture(\"$groupidentify\",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===t||i||this.reloadFeatureFlags()}}else N.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,i,r,n;if(N.info(\"reset\"),!this.__loaded)return N.uninitializedWarning(\"posthog.reset\");var s=this.get_property(\"$device_id\");if(this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),this.surveys.reset(),null===(r=this.persistence)||void 0===r||r.set_property(Le,\"anonymous\"),null===(n=this.sessionManager)||void 0===n||n.resetSessionId(),this._cachedIdentify=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:ze,$device_id:null},\"\");else{var o=this.config.get_device_id(Nt());this.register_once({distinct_id:o,$device_id:e?o:s},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:\"\"}get_session_replay_url(e){if(!this.sessionManager)return\"\";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\".concat(this.config.token,\"/replay/\").concat(t));if(null!=e&&e.withTimestamp&&i){var n,s=null!==(n=e.timestampLookBack)&&void 0!==n?n:10;if(!i)return r;var o=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-s,0);r+=\"?t=\".concat(o)}return r}alias(e,t){return e===this.get_property(ae)?(N.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this._requirePersonProcessing(\"posthog.alias\")?(F(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(le,e),this.capture(\"$create_alias\",{alias:e,distinct_id:t})):(N.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(e),-1)):void 0}set_config(e){var t,i,r,n,s=z({},this.config);C(e)&&(K(this.config,ta(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,s),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new ks(z(z({},this.config),{},{persistence:\"sessionStorage\"})),Jt.is_supported()&&\"true\"===Jt.get(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(_.DEBUG=!0,N.info(\"set_config\",JSON.stringify({config:e,oldConfig:s,newConfig:z({},this.config)},null,2))),null===(i=this.sessionRecording)||void 0===i||i.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(n=this.heatmaps)||void 0===n||n.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){var t=!0===e,i={sampling:t||!(null==e||!e.sampling),linked_flag:t||!(null==e||!e.linked_flag),url_trigger:t||!(null==e||!e.url_trigger),event_trigger:t||!(null==e||!e.event_trigger)};if(Object.values(i).some(Boolean)){var r,n,s,o,a;if(null===(r=this.sessionManager)||void 0===r||r.checkAndGetSessionAndWindowId(),i.sampling)null===(n=this.sessionRecording)||void 0===n||n.overrideSampling();if(i.linked_flag)null===(s=this.sessionRecording)||void 0===s||s.overrideLinkedFlag();if(i.url_trigger)null===(o=this.sessionRecording)||void 0===o||o.overrideTrigger(\"url\");if(i.event_trigger)null===(a=this.sessionRecording)||void 0===a||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}captureException(e,t){var i=new Error(\"PostHog syntheticException\");this.exceptions.sendExceptionEvent(z(z({},Mi((e=>e instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:i})),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}getSessionProperty(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:Qo;return t!==Qo&&(t=Qo+\".\"+t),t}_isIdentified(){var e,t;return\"identified\"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(Le))||\"identified\"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(Le))}_hasPersonProcessing(){var e,t,i,r;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&P(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[le])&&(null===(i=this.persistence)||void 0===i||null===(r=i.props)||void 0===r||!r[je]))}_shouldCapturePageleave(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return\"never\"===this.config.person_profiles?(N.error(e+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this._register_single(je,!0),!0)}_sync_opt_out_with_persistence(){var e,t,i,r,n=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||n&&!!s;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==o&&(null===(i=this.persistence)||void 0===i||i.set_disabled(o));(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==o&&(null===(r=this.sessionPersistence)||void 0===r||r.set_disabled(o))}opt_in_capturing(e){var t;(this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),F(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:\"$opt_in\",null==e?void 0:e.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return o?zo(o,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){a&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture(\"$pageview\",{title:a.title},{send_instantly:!0}))}debug(e){!1===e?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}_runBeforeSend(e){if(O(this.config.before_send))return e;var t=x(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of t){if(i=r(i),O(i)){var n=\"Event '\".concat(e.event,\"' was rejected in beforeSend function\");return D(e.event)?N.warn(\"\".concat(n,\". This can cause unexpected behavior.\")):N.info(n),null}i.properties&&!P(i.properties)||N.warn(\"Event '\".concat(e.event,\"' has no properties after beforeSend function, this is likely an error.\"))}return i}getPageViewId(){var e;return null===(e=this.pageViewManager._currentPageview)||void 0===e?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture(\"$ai_feedback\",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,i){this.capture(\"$ai_metric\",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(i)})}}!function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=ee(e.prototype[t[i]])}(ra,[\"identify\"]);var na,sa=(na=Ko[Qo]=new ra,function(){function e(){e.done||(e.done=!0,Zo=!1,Y(Ko,(function(e){e._dom_loaded()})))}null!=a&&a.addEventListener?\"complete\"===a.readyState?e():oe(a,\"DOMContentLoaded\",e,{capture:!1}):t&&N.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),na);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcG9zdGhvZy1qc0AxLjIzNC4xL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL2Rpc3QvbW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbWFBQW1hLElBQUksK0JBQStCLCtRQUErUSxhQUFhLHFDQUFxQyxTQUFTLEdBQUcsdURBQXVELGdCQUFnQix3QkFBd0Isa0JBQWtCLGdCQUFnQixlQUFlLDRCQUE0Qix3RkFBd0YsbUNBQW1DLDJEQUEyRCxTQUFTLHVDQUF1QyxTQUFTLFNBQVMsbU9BQW1PLE9BQU8saUJBQWlCLDREQUE0RCwySUFBMkksSUFBSSx3QkFBd0IsV0FBVyxpQkFBaUIsOENBQThDLElBQUksc0JBQXNCLG1CQUFtQixpQkFBaUIsOENBQThDLElBQUksc0JBQXNCLG9CQUFvQixrQkFBa0IsOENBQThDLElBQUksc0JBQXNCLHFCQUFxQixxQkFBcUIsOENBQThDLElBQUksc0JBQXNCLHNCQUFzQiwwQkFBMEIsaUVBQWlFLGdEQUFnRCxTQUFTLGlGQUFpRix1TEFBdUwsa0RBQWtELGlCQUFpQixXQUFXLCtCQUErQixXQUFXLHFDQUFxQyxnQ0FBZ0Msd1FBQXdRLDRDQUE0QyxpR0FBaUcsdUVBQXVFLGdCQUFnQixxQkFBcUIsaUNBQWlDLHNDQUFzQyw0QkFBNEIsdURBQXVELHNCQUFzQixTQUFTLGNBQWMsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLFlBQVkscUlBQXFJLGdFQUFnRSxHQUFHLFNBQVMsa0JBQWtCLHlDQUF5QyxrREFBa0QsV0FBVyxnQkFBZ0Isb0JBQW9CLHdCQUF3QixvQkFBb0IsWUFBWSxrQkFBa0IsUUFBUSxXQUFXLHdDQUF3QyxTQUFTLE1BQU0saUNBQWlDLHNDQUFzQyxRQUFRLFdBQVcseUZBQXlGLFNBQVMsbURBQW1ELDBEQUEwRCx5REFBeUQseUZBQXlGLHVDQUF1QywrQkFBK0IsOENBQThDLFNBQVMsK0NBQStDLDJDQUEyQyxVQUFVLFNBQVMsa0JB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RUFBRSx1QkFBdUIsaUJBQWlCLDZCQUE2QixFQUFFLDBCQUEwQixNQUFNLGtFQUFrRSxzQkFBc0IsOENBQThDLHlDQUF5QyxnQ0FBZ0Msd0JBQXdCLEVBQUUsUUFBUSxFQUFFLHFCQUFxQixPQUFPLGVBQWUsbUNBQW1DLGdCQUFnQixNQUFNLGlFQUFpRSxzQkFBc0IsTUFBTSx3RUFBd0UsV0FBVyxxREFBcUQsOEJBQThCLGdCQUFnQixRQUFRLG9MQUFvTCx1QkFBdUIsWUFBWSxrVEFBa1QsMEJBQTBCLDhIQUE4SCxzQkFBc0Isc0hBQXNILEdBQUcsRUFBRSw0QkFBNEIsOEtBQThLLGlDQUFpQywrSEFBK0gsOEhBQThILDRJQUE0SSxvQkFBb0IsTUFBTSwyUEFBMlAsa0JBQWtCLEVBQUUsNkRBQTZELG9CQUFvQixnRUFBZ0UseUJBQXlCLGdDQUFnQywwQkFBMEIsaUNBQWlDLDZCQUE2QiwyREFBMkQsVUFBVSw0REFBNEQsMEJBQTBCLCtGQUErRixjQUFjLEVBQUUsa0JBQWtCLEdBQUcsU0FBUyxpSUFBaUksU0FBUyx1T0FBdU8sU0FBUyxHQUFHLGtCQUFrQix1Q0FBdUMsdUZBQXVGLGdCQUFnQixnQkFBZ0Isd0VBQXdFLDhGQUE4Riw0SUFBNEksU0FBUyxnQkFBZ0IsTUFBTSx3RkFBd0YsMEJBQTBCLDZCQUE2QiwyQ0FBMkMsRUFBRSwwQkFBMEIsMkJBQTJCLG9FQUFvRSxHQUFHLGVBQWUsWUFBWSxXQUFXLDRDQUE0QyxrQkFBa0IsdUNBQXVDLGFBQWEsMkNBQTJDLGdCQUFnQixJQUFJLHFGQUFxRixXQUFXLHVHQUF1RyxPQUF5UDtBQUM3MitMIiwic291cmNlcyI6WyIvVXNlcnMvbXVpenprYXJhb2xlL0Rlc2t0b3AvZ2l0aHViL0xvY2FsIFJlcG9zaXRvcnkvdHdlZXQtcmVwbHkvbm9kZV9tb2R1bGVzLy5wbnBtL3Bvc3Rob2ctanNAMS4yMzQuMS9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZSx0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dCxyPUFycmF5LnByb3RvdHlwZSxuPXIuZm9yRWFjaCxzPXIuaW5kZXhPZixvPW51bGw9PWk/dm9pZCAwOmkubmF2aWdhdG9yLGE9bnVsbD09aT92b2lkIDA6aS5kb2N1bWVudCxsPW51bGw9PWk/dm9pZCAwOmkubG9jYXRpb24sdT1udWxsPT1pP3ZvaWQgMDppLmZldGNoLGM9bnVsbCE9aSYmaS5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBpLlhNTEh0dHBSZXF1ZXN0P2kuWE1MSHR0cFJlcXVlc3Q6dm9pZCAwLGQ9bnVsbD09aT92b2lkIDA6aS5BYm9ydENvbnRyb2xsZXIsaD1udWxsPT1vP3ZvaWQgMDpvLnVzZXJBZ2VudCxwPW51bGwhPXQ/dDp7fSxfPXtERUJVRzohMSxMSUJfVkVSU0lPTjpcIjEuMjM0LjFcIn0sdj1cIiRjb3B5X2F1dG9jYXB0dXJlXCIsZz1bXCIkc25hcHNob3RcIixcIiRwYWdldmlld1wiLFwiJHBhZ2VsZWF2ZVwiLFwiJHNldFwiLFwic3VydmV5IGRpc21pc3NlZFwiLFwic3VydmV5IHNlbnRcIixcInN1cnZleSBzaG93blwiLFwiJGlkZW50aWZ5XCIsXCIkZ3JvdXBpZGVudGlmeVwiLFwiJGNyZWF0ZV9hbGlhc1wiLFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIixcIiR3ZWJfZXhwZXJpbWVudF9hcHBsaWVkXCIsXCIkZmVhdHVyZV9lbnJvbGxtZW50X3VwZGF0ZVwiLFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIl07IWZ1bmN0aW9uKGUpe2UuR1ppcEpTPVwiZ3ppcC1qc1wiLGUuQmFzZTY0PVwiYmFzZTY0XCJ9KGV8fChlPXt9KSk7dmFyIGY9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdO2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0KX12YXIgeT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXlxcJC8sXCJcIil9O3ZhciB3PUFycmF5LmlzQXJyYXksUz1PYmplY3QucHJvdG90eXBlLGs9Uy5oYXNPd25Qcm9wZXJ0eSxFPVMudG9TdHJpbmcseD13fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1FLmNhbGwoZSl9LEk9ZT0+XCJmdW5jdGlvblwiPT10eXBlb2YgZSxDPWU9PmU9PT1PYmplY3QoZSkmJiF4KGUpLFA9ZT0+e2lmKEMoZSkpe2Zvcih2YXIgdCBpbiBlKWlmKGsuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSxGPWU9PnZvaWQgMD09PWUsVD1lPT5cIltvYmplY3QgU3RyaW5nXVwiPT1FLmNhbGwoZSksUj1lPT5UKGUpJiYwPT09ZS50cmltKCkubGVuZ3RoLCQ9ZT0+bnVsbD09PWUsTz1lPT5GKGUpfHwkKGUpLE09ZT0+XCJbb2JqZWN0IE51bWJlcl1cIj09RS5jYWxsKGUpLEE9ZT0+XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1FLmNhbGwoZSksTD1lPT5lIGluc3RhbmNlb2YgRm9ybURhdGEsRD1lPT5tKGcsZSkscT1lPT57dmFyIGk9e19sb2c6ZnVuY3Rpb24oaSl7aWYodCYmKF8uREVCVUd8fHAuUE9TVEhPR19ERUJVRykmJiFGKHQuY29uc29sZSkmJnQuY29uc29sZSl7Zm9yKHZhciByPShcIl9fcnJ3ZWJfb3JpZ2luYWxfX1wiaW4gdC5jb25zb2xlW2ldP3QuY29uc29sZVtpXS5fX3Jyd2ViX29yaWdpbmFsX186dC5jb25zb2xlW2ldKSxuPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylzW28tMV09YXJndW1lbnRzW29dO3IoZSwuLi5zKX19LGluZm86ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtpLl9sb2coXCJsb2dcIiwuLi50KX0sd2FybjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO2kuX2xvZyhcIndhcm5cIiwuLi50KX0sZXJyb3I6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtpLl9sb2coXCJlcnJvclwiLC4uLnQpfSxjcml0aWNhbDpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWlbcl09YXJndW1lbnRzW3JdO2NvbnNvbGUuZXJyb3IoZSwuLi5pKX0sdW5pbml0aWFsaXplZFdhcm5pbmc6ZT0+e2kuZXJyb3IoXCJZb3UgbXVzdCBpbml0aWFsaXplIFBvc3RIb2cgYmVmb3JlIGNhbGxpbmcgXCIuY29uY2F0KGUpKX0sY3JlYXRlTG9nZ2VyOnQ9PnEoXCJcIi5jb25jYXQoZSxcIiBcIikuY29uY2F0KHQpKX07cmV0dXJuIGl9LE49cShcIltQb3N0SG9nLmpzXVwiKSxCPU4uY3JlYXRlTG9nZ2VyLEg9QihcIltFeHRlcm5hbFNjcmlwdHNMb2FkZXJdXCIpLGo9KGUsdCxpKT0+e2lmKGUuY29uZmlnLmRpc2FibGVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9sb2FkaW5nKXJldHVybiBILndhcm4oXCJcIi5jb25jYXQodCxcIiB3YXMgcmVxdWVzdGVkIGJ1dCBsb2FkaW5nIG9mIGV4dGVybmFsIHNjcmlwdHMgaXMgZGlzYWJsZWQuXCIpKSxpKFwiTG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkXCIpO3ZhciByPW51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFwiKTtpZihyKWZvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKWlmKHJbbl0uc3JjPT09dClyZXR1cm4gaSgpO3ZhciBzPSgpPT57aWYoIWEpcmV0dXJuIGkoXCJkb2N1bWVudCBub3QgZm91bmRcIik7dmFyIHI9YS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2lmKHIudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLHIuY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIixyLnNyYz10LHIub25sb2FkPWU9Pmkodm9pZCAwLGUpLHIub25lcnJvcj1lPT5pKGUpLGUuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQmJihyPWUuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQocikpLCFyKXJldHVybiBpKFwicHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCByZXR1cm5lZCBudWxsXCIpO3ZhciBuLHM9YS5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keSA+IHNjcmlwdFwiKTtzLmxlbmd0aD4wP251bGw9PT0obj1zWzBdLnBhcmVudE5vZGUpfHx2b2lkIDA9PT1ufHxuLmluc2VydEJlZm9yZShyLHNbMF0pOmEuYm9keS5hcHBlbmRDaGlsZChyKX07bnVsbCE9YSYmYS5ib2R5P3MoKTpudWxsPT1hfHxhLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscyl9O2Z1bmN0aW9uIFUoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLHIpfXJldHVybiBpfWZ1bmN0aW9uIHooZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe1coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOlUoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gVyhlLHQsaSl7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1pLGV9ZnVuY3Rpb24gVihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIGkscixuPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgaSxyLG49e30scz1PYmplY3Qua2V5cyhlKTtmb3Iocj0wO3I8cy5sZW5ndGg7cisrKWk9c1tyXSx0LmluZGV4T2YoaSk+PTB8fChuW2ldPWVbaV0pO3JldHVybiBufShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKylpPXNbcl0sdC5pbmRleE9mKGkpPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxpKSYmKG5baV09ZVtpXSl9cmV0dXJuIG59cC5fX1Bvc3Rob2dFeHRlbnNpb25zX189cC5fX1Bvc3Rob2dFeHRlbnNpb25zX198fHt9LHAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k9KGUsdCxpKT0+e3ZhciByPVwiL3N0YXRpYy9cIi5jb25jYXQodCxcIi5qc1wiKStcIj92PVwiLmNvbmNhdChlLnZlcnNpb24pO2lmKFwicmVtb3RlLWNvbmZpZ1wiPT09dCYmKHI9XCIvYXJyYXkvXCIuY29uY2F0KGUuY29uZmlnLnRva2VuLFwiL2NvbmZpZy5qc1wiKSksXCJ0b29sYmFyXCI9PT10KXt2YXIgbj0zZTUscz1NYXRoLmZsb29yKERhdGUubm93KCkvbikqbjtyPVwiXCIuY29uY2F0KHIsXCImdD1cIikuY29uY2F0KHMpfXZhciBvPWUucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLHIpO2ooZSxvLGkpfSxwLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5sb2FkU2l0ZUFwcD0oZSx0LGkpPT57dmFyIHI9ZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsdCk7aihlLHIsaSl9O3ZhciBHPXt9O2Z1bmN0aW9uIEooZSx0LGkpe2lmKHgoZSkpaWYobiYmZS5mb3JFYWNoPT09billLmZvckVhY2godCxpKTtlbHNlIGlmKFwibGVuZ3RoXCJpbiBlJiZlLmxlbmd0aD09PStlLmxlbmd0aClmb3IodmFyIHI9MCxzPWUubGVuZ3RoO3I8cztyKyspaWYociBpbiBlJiZ0LmNhbGwoaSxlW3JdLHIpPT09RylyZXR1cm59ZnVuY3Rpb24gWShlLHQsaSl7aWYoIU8oZSkpe2lmKHgoZSkpcmV0dXJuIEooZSx0LGkpO2lmKEwoZSkpe2Zvcih2YXIgciBvZiBlLmVudHJpZXMoKSlpZih0LmNhbGwoaSxyWzFdLHJbMF0pPT09RylyZXR1cm59ZWxzZSBmb3IodmFyIG4gaW4gZSlpZihrLmNhbGwoZSxuKSYmdC5jYWxsKGksZVtuXSxuKT09PUcpcmV0dXJufX12YXIgSz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKWlbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIEooaSwoZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpdm9pZCAwIT09dFtpXSYmKGVbaV09dFtpXSl9KSksZX0sWD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKWlbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIEooaSwoZnVuY3Rpb24odCl7Sih0LChmdW5jdGlvbih0KXtlLnB1c2godCl9KSl9KSksZX07ZnVuY3Rpb24gUShlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksaT10Lmxlbmd0aCxyPW5ldyBBcnJheShpKTtpLS07KXJbaV09W3RbaV0sZVt0W2ldXV07cmV0dXJuIHJ9dmFyIFo9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlKCl9Y2F0Y2goZSl7cmV0dXJufX0sZWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybiBlLmFwcGx5KHRoaXMsaSl9Y2F0Y2goZSl7Ti5jcml0aWNhbChcIkltcGxlbWVudGF0aW9uIGVycm9yLiBQbGVhc2UgdHVybiBvbiBkZWJ1ZyBtb2RlIGFuZCBvcGVuIGEgdGlja2V0IG9uIGh0dHBzOi8vYXBwLnBvc3Rob2cuY29tL2hvbWUjcGFuZWw9c3VwcG9ydCUzQXN1cHBvcnQlM0EuXCIpLE4uY3JpdGljYWwoZSl9fX0sdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIFkoZSwoZnVuY3Rpb24oZSxpKXtUKGUpJiZlLmxlbmd0aD4wJiYodFtpXT1lKX0pKSx0fTtmdW5jdGlvbiBpZShlLHQpe3JldHVybiBpPWUscj1lPT5UKGUpJiYhJCh0KT9lLnNsaWNlKDAsdCk6ZSxuPW5ldyBTZXQsZnVuY3Rpb24gZSh0LGkpe3JldHVybiB0IT09T2JqZWN0KHQpP3I/cih0LGkpOnQ6bi5oYXModCk/dm9pZCAwOihuLmFkZCh0KSx4KHQpPyhzPVtdLEoodCwodD0+e3MucHVzaChlKHQpKX0pKSk6KHM9e30sWSh0LCgodCxpKT0+e24uaGFzKHQpfHwoc1tpXT1lKHQsaSkpfSkpKSxzKTt2YXIgc30oaSk7dmFyIGkscixufXZhciByZT1bXCJoZXJva3VhcHAuY29tXCIsXCJ2ZXJjZWwuYXBwXCIsXCJuZXRsaWZ5LmFwcFwiXTtmdW5jdGlvbiBuZShlKXt2YXIgdD1udWxsPT1lP3ZvaWQgMDplLmhvc3RuYW1lO2lmKCFUKHQpKXJldHVybiExO3ZhciBpPXQuc3BsaXQoXCIuXCIpLnNsaWNlKC0yKS5qb2luKFwiLlwiKTtmb3IodmFyIHIgb2YgcmUpaWYoaT09PXIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gc2UoZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylpZih0KGVbaV0pKXJldHVybiBlW2ldfWZ1bmN0aW9uIG9lKGUsdCxpLHIpe3ZhcntjYXB0dXJlOm49ITEscGFzc2l2ZTpzPSEwfT1udWxsIT1yP3I6e307bnVsbD09ZXx8ZS5hZGRFdmVudExpc3RlbmVyKHQsaSx7Y2FwdHVyZTpuLHBhc3NpdmU6c30pfXZhciBhZT1cIiRwZW9wbGVfZGlzdGluY3RfaWRcIixsZT1cIl9fYWxpYXNcIix1ZT1cIl9fdGltZXJzXCIsY2U9XCIkYXV0b2NhcHR1cmVfZGlzYWJsZWRfc2VydmVyX3NpZGVcIixkZT1cIiRoZWF0bWFwc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsaGU9XCIkZXhjZXB0aW9uX2NhcHR1cmVfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLHBlPVwiJHdlYl92aXRhbHNfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLF9lPVwiJGRlYWRfY2xpY2tzX2VuYWJsZWRfc2VydmVyX3NpZGVcIix2ZT1cIiR3ZWJfdml0YWxzX2FsbG93ZWRfbWV0cmljc1wiLGdlPVwiJHNlc3Npb25fcmVjb3JkaW5nX2VuYWJsZWRfc2VydmVyX3NpZGVcIixmZT1cIiRjb25zb2xlX2xvZ19yZWNvcmRpbmdfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLG1lPVwiJHNlc3Npb25fcmVjb3JkaW5nX25ldHdvcmtfcGF5bG9hZF9jYXB0dXJlXCIseWU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfbWFza2luZ1wiLGJlPVwiJHNlc3Npb25fcmVjb3JkaW5nX2NhbnZhc19yZWNvcmRpbmdcIix3ZT1cIiRyZXBsYXlfc2FtcGxlX3JhdGVcIixTZT1cIiRyZXBsYXlfbWluaW11bV9kdXJhdGlvblwiLGtlPVwiJHJlcGxheV9zY3JpcHRfY29uZmlnXCIsRWU9XCIkc2VzaWRcIix4ZT1cIiRzZXNzaW9uX2lzX3NhbXBsZWRcIixJZT1cIiRzZXNzaW9uX3JlY29yZGluZ191cmxfdHJpZ2dlcl9hY3RpdmF0ZWRfc2Vzc2lvblwiLENlPVwiJHNlc3Npb25fcmVjb3JkaW5nX2V2ZW50X3RyaWdnZXJfYWN0aXZhdGVkX3Nlc3Npb25cIixQZT1cIiRlbmFibGVkX2ZlYXR1cmVfZmxhZ3NcIixGZT1cIiRlYXJseV9hY2Nlc3NfZmVhdHVyZXNcIixUZT1cIiRmZWF0dXJlX2ZsYWdfZGV0YWlsc1wiLFJlPVwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiLCRlPVwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIsT2U9XCIkc3VydmV5c1wiLE1lPVwiJHN1cnZleXNfYWN0aXZhdGVkXCIsQWU9XCIkZmxhZ19jYWxsX3JlcG9ydGVkXCIsTGU9XCIkdXNlcl9zdGF0ZVwiLERlPVwiJGNsaWVudF9zZXNzaW9uX3Byb3BzXCIscWU9XCIkY2FwdHVyZV9yYXRlX2xpbWl0XCIsTmU9XCIkaW5pdGlhbF9jYW1wYWlnbl9wYXJhbXNcIixCZT1cIiRpbml0aWFsX3JlZmVycmVyX2luZm9cIixIZT1cIiRpbml0aWFsX3BlcnNvbl9pbmZvXCIsamU9XCIkZXBwXCIsVWU9XCJfX1BPU1RIT0dfVE9PTEJBUl9fXCIsemU9XCIkcG9zdGhvZ19jb29raWVsZXNzXCIsV2U9W2FlLGxlLFwiX19jbXBuc1wiLHVlLGdlLGRlLEVlLFBlLExlLEZlLFRlLCRlLFJlLE9lLEFlLERlLHFlLE5lLEJlLGplXTtmdW5jdGlvbiBWZShlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIEVsZW1lbnQmJihlLmlkPT09VWV8fCEobnVsbD09PSh0PWUuY2xvc2VzdCl8fHZvaWQgMD09PXR8fCF0LmNhbGwoZSxcIi50b29sYmFyLWdsb2JhbC1mYWRlLWNvbnRhaW5lclwiKSkpfWZ1bmN0aW9uIEdlKGUpe3JldHVybiEhZSYmMT09PWUubm9kZVR5cGV9ZnVuY3Rpb24gSmUoZSx0KXtyZXR1cm4hIWUmJiEhZS50YWdOYW1lJiZlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBZZShlKXtyZXR1cm4hIWUmJjM9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIEtlKGUpe3JldHVybiEhZSYmMTE9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIFhlKGUpe3JldHVybiBlP3koZSkuc3BsaXQoL1xccysvKTpbXX1mdW5jdGlvbiBRZShlKXt2YXIgaT1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLmhyZWY7cmV0dXJuISEoaSYmZSYmZS5zb21lKChlPT5pLm1hdGNoKGUpKSkpfWZ1bmN0aW9uIFplKGUpe3ZhciB0PVwiXCI7c3dpdGNoKHR5cGVvZiBlLmNsYXNzTmFtZSl7Y2FzZVwic3RyaW5nXCI6dD1lLmNsYXNzTmFtZTticmVhaztjYXNlXCJvYmplY3RcIjp0PShlLmNsYXNzTmFtZSYmXCJiYXNlVmFsXCJpbiBlLmNsYXNzTmFtZT9lLmNsYXNzTmFtZS5iYXNlVmFsOm51bGwpfHxlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiO2JyZWFrO2RlZmF1bHQ6dD1cIlwifXJldHVybiBYZSh0KX1mdW5jdGlvbiBldChlKXtyZXR1cm4gTyhlKT9udWxsOnkoZSkuc3BsaXQoLyhcXHMrKS8pLmZpbHRlcigoZT0+X3QoZSkpKS5qb2luKFwiXCIpLnJlcGxhY2UoL1tcXHJcXG5dL2csXCIgXCIpLnJlcGxhY2UoL1sgXSsvZyxcIiBcIikuc3Vic3RyaW5nKDAsMjU1KX1mdW5jdGlvbiB0dChlKXt2YXIgdD1cIlwiO3JldHVybiBvdChlKSYmIWF0KGUpJiZlLmNoaWxkTm9kZXMmJmUuY2hpbGROb2Rlcy5sZW5ndGgmJlkoZS5jaGlsZE5vZGVzLChmdW5jdGlvbihlKXt2YXIgaTtZZShlKSYmZS50ZXh0Q29udGVudCYmKHQrPW51bGwhPT0oaT1ldChlLnRleHRDb250ZW50KSkmJnZvaWQgMCE9PWk/aTpcIlwiKX0pKSx5KHQpfWZ1bmN0aW9uIGl0KGUpe3JldHVybiBGKGUudGFyZ2V0KT9lLnNyY0VsZW1lbnR8fG51bGw6bnVsbCE9PSh0PWUudGFyZ2V0KSYmdm9pZCAwIT09dCYmdC5zaGFkb3dSb290P2UuY29tcG9zZWRQYXRoKClbMF18fG51bGw6ZS50YXJnZXR8fG51bGw7dmFyIHR9dmFyIHJ0PVtcImFcIixcImJ1dHRvblwiLFwiZm9ybVwiLFwiaW5wdXRcIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIixcImxhYmVsXCJdO2Z1bmN0aW9uIG50KGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4hKCF0fHwhR2UodCkpJiZ0fWZ1bmN0aW9uIHN0KGUsaSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMCxuPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwLHM9YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDA7aWYoIXR8fCFlfHxKZShlLFwiaHRtbFwiKXx8IUdlKGUpKXJldHVybiExO2lmKG51bGwhPXImJnIudXJsX2FsbG93bGlzdCYmIVFlKHIudXJsX2FsbG93bGlzdCkpcmV0dXJuITE7aWYobnVsbCE9ciYmci51cmxfaWdub3JlbGlzdCYmUWUoci51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9ciYmci5kb21fZXZlbnRfYWxsb3dsaXN0KXt2YXIgbz1yLmRvbV9ldmVudF9hbGxvd2xpc3Q7aWYobyYmIW8uc29tZSgoZT0+aS50eXBlPT09ZSkpKXJldHVybiExfWZvcih2YXIgYT0hMSxsPVtlXSx1PSEwLGM9ZTtjLnBhcmVudE5vZGUmJiFKZShjLFwiYm9keVwiKTspaWYoS2UoYy5wYXJlbnROb2RlKSlsLnB1c2goYy5wYXJlbnROb2RlLmhvc3QpLGM9Yy5wYXJlbnROb2RlLmhvc3Q7ZWxzZXtpZighKHU9bnQoYykpKWJyZWFrO2lmKG58fHJ0LmluZGV4T2YodS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKWE9ITA7ZWxzZXt2YXIgZD10LmdldENvbXB1dGVkU3R5bGUodSk7ZCYmXCJwb2ludGVyXCI9PT1kLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihhPSEwKX1sLnB1c2godSksYz11fWlmKCFmdW5jdGlvbihlLHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuZWxlbWVudF9hbGxvd2xpc3Q7aWYoRihpKSlyZXR1cm4hMDt2YXIgcj1mdW5jdGlvbihlKXtpZihpLnNvbWUoKHQ9PmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09dCkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBuIG9mIGUpe3ZhciBzPXIobik7aWYoXCJvYmplY3RcIj09dHlwZW9mIHMpcmV0dXJuIHMudn1yZXR1cm4hMX0obCxyKSlyZXR1cm4hMTtpZighZnVuY3Rpb24oZSx0KXt2YXIgaT1udWxsPT10P3ZvaWQgMDp0LmNzc19zZWxlY3Rvcl9hbGxvd2xpc3Q7aWYoRihpKSlyZXR1cm4hMDt2YXIgcj1mdW5jdGlvbihlKXtpZihpLnNvbWUoKHQ9PmUubWF0Y2hlcyh0KSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBuIG9mIGUpe3ZhciBzPXIobik7aWYoXCJvYmplY3RcIj09dHlwZW9mIHMpcmV0dXJuIHMudn1yZXR1cm4hMX0obCxyKSlyZXR1cm4hMTt2YXIgaD10LmdldENvbXB1dGVkU3R5bGUoZSk7aWYoaCYmXCJwb2ludGVyXCI9PT1oLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJlwiY2xpY2tcIj09PWkudHlwZSlyZXR1cm4hMDt2YXIgcD1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2gocCl7Y2FzZVwiaHRtbFwiOnJldHVybiExO2Nhc2VcImZvcm1cIjpyZXR1cm4oc3x8W1wic3VibWl0XCJdKS5pbmRleE9mKGkudHlwZSk+PTA7Y2FzZVwiaW5wdXRcIjpjYXNlXCJzZWxlY3RcIjpjYXNlXCJ0ZXh0YXJlYVwiOnJldHVybihzfHxbXCJjaGFuZ2VcIixcImNsaWNrXCJdKS5pbmRleE9mKGkudHlwZSk+PTA7ZGVmYXVsdDpyZXR1cm4gYT8oc3x8W1wiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MDooc3x8W1wiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MCYmKHJ0LmluZGV4T2YocCk+LTF8fFwidHJ1ZVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfX1mdW5jdGlvbiBvdChlKXtmb3IodmFyIHQ9ZTt0LnBhcmVudE5vZGUmJiFKZSh0LFwiYm9keVwiKTt0PXQucGFyZW50Tm9kZSl7dmFyIGk9WmUodCk7aWYobShpLFwicGgtc2Vuc2l0aXZlXCIpfHxtKGksXCJwaC1uby1jYXB0dXJlXCIpKXJldHVybiExfWlmKG0oWmUoZSksXCJwaC1pbmNsdWRlXCIpKXJldHVybiEwO3ZhciByPWUudHlwZXx8XCJcIjtpZihUKHIpKXN3aXRjaChyLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhpZGRlblwiOmNhc2VcInBhc3N3b3JkXCI6cmV0dXJuITF9dmFyIG49ZS5uYW1lfHxlLmlkfHxcIlwiO2lmKFQobikpe2lmKC9eY2N8Y2FyZG51bXxjY251bXxjcmVkaXRjYXJkfGNzY3xjdmN8Y3Z2fGV4cHxwYXNzfHB3ZHxyb3V0aW5nfHNlY2NvZGV8c2VjdXJpdHljb2RlfHNlY3VyaXR5bnVtfHNvY2lhbHNlY3xzb2NzZWN8c3NuL2kudGVzdChuLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLFwiXCIpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBhdChlKXtyZXR1cm4hIShKZShlLFwiaW5wdXRcIikmJiFbXCJidXR0b25cIixcImNoZWNrYm94XCIsXCJzdWJtaXRcIixcInJlc2V0XCJdLmluY2x1ZGVzKGUudHlwZSl8fEplKGUsXCJzZWxlY3RcIil8fEplKGUsXCJ0ZXh0YXJlYVwiKXx8XCJ0cnVlXCI9PT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9dmFyIGx0PVwiKDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pXCIsdXQ9bmV3IFJlZ0V4cChcIl4oPzpcIi5jb25jYXQobHQsXCIpJFwiKSksY3Q9bmV3IFJlZ0V4cChsdCksZHQ9XCJcXFxcZHszfS0/XFxcXGR7Mn0tP1xcXFxkezR9XCIsaHQ9bmV3IFJlZ0V4cChcIl4oXCIuY29uY2F0KGR0LFwiKSRcIikpLHB0PW5ldyBSZWdFeHAoXCIoXCIuY29uY2F0KGR0LFwiKVwiKSk7ZnVuY3Rpb24gX3QoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZihPKGUpKXJldHVybiExO2lmKFQoZSkpe2lmKGU9eShlKSwodD91dDpjdCkudGVzdCgoZXx8XCJcIikucmVwbGFjZSgvWy0gXS9nLFwiXCIpKSlyZXR1cm4hMTtpZigodD9odDpwdCkudGVzdChlKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB2dChlKXt2YXIgdD10dChlKTtyZXR1cm4gX3QodD1cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoZ3QoZSkpLnRyaW0oKSk/dDpcIlwifWZ1bmN0aW9uIGd0KGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUmJmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aCYmWShlLmNoaWxkTm9kZXMsKGZ1bmN0aW9uKGUpe3ZhciBpO2lmKGUmJlwic3BhblwiPT09KG51bGw9PT0oaT1lLnRhZ05hbWUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnRvTG93ZXJDYXNlKCkpKXRyeXt2YXIgcj10dChlKTt0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChyKS50cmltKCksZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoJiYodD1cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoZ3QoZSkpLnRyaW0oKSl9Y2F0Y2goZSl7Ti5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIixlKX19KSksdH1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXAoKGU9Pnt2YXIgdCxpLHI9XCJcIjtpZihlLnRhZ19uYW1lJiYocis9ZS50YWdfbmFtZSksZS5hdHRyX2NsYXNzKWZvcih2YXIgbiBvZihlLmF0dHJfY2xhc3Muc29ydCgpLGUuYXR0cl9jbGFzcykpcis9XCIuXCIuY29uY2F0KG4ucmVwbGFjZSgvXCIvZyxcIlwiKSk7dmFyIHM9eih6KHooeih7fSxlLnRleHQ/e3RleHQ6ZS50ZXh0fTp7fSkse30se1wibnRoLWNoaWxkXCI6bnVsbCE9PSh0PWUubnRoX2NoaWxkKSYmdm9pZCAwIT09dD90OjAsXCJudGgtb2YtdHlwZVwiOm51bGwhPT0oaT1lLm50aF9vZl90eXBlKSYmdm9pZCAwIT09aT9pOjB9LGUuaHJlZj97aHJlZjplLmhyZWZ9Ont9KSxlLmF0dHJfaWQ/e2F0dHJfaWQ6ZS5hdHRyX2lkfTp7fSksZS5hdHRyaWJ1dGVzKSxvPXt9O3JldHVybiBRKHMpLnNvcnQoKChlLHQpPT57dmFyW2ldPWUsW3JdPXQ7cmV0dXJuIGkubG9jYWxlQ29tcGFyZShyKX0pKS5mb3JFYWNoKChlPT57dmFyW3QsaV09ZTtyZXR1cm4gb1ttdCh0LnRvU3RyaW5nKCkpXT1tdChpLnRvU3RyaW5nKCkpfSkpLHIrPVwiOlwiLHIrPVEocykubWFwKChlPT57dmFyW3QsaV09ZTtyZXR1cm5cIlwiLmNvbmNhdCh0LCc9XCInKS5jb25jYXQoaSwnXCInKX0pKS5qb2luKFwiXCIpfSkpO3JldHVybiB0LmpvaW4oXCI7XCIpfShmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdCxpLHI9e3RleHQ6bnVsbD09PSh0PWUuJGVsX3RleHQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNsaWNlKDAsNDAwKSx0YWdfbmFtZTplLnRhZ19uYW1lLGhyZWY6bnVsbD09PShpPWUuYXR0cl9faHJlZil8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2xpY2UoMCwyMDQ4KSxhdHRyX2NsYXNzOnl0KGUpLGF0dHJfaWQ6ZS5hdHRyX19pZCxudGhfY2hpbGQ6ZS5udGhfY2hpbGQsbnRoX29mX3R5cGU6ZS5udGhfb2ZfdHlwZSxhdHRyaWJ1dGVzOnt9fTtyZXR1cm4gUShlKS5maWx0ZXIoKGU9Pnt2YXJbdF09ZTtyZXR1cm4gMD09PXQuaW5kZXhPZihcImF0dHJfX1wiKX0pKS5mb3JFYWNoKChlPT57dmFyW3QsaV09ZTtyZXR1cm4gci5hdHRyaWJ1dGVzW3RdPWl9KSkscn0pKX0oZSkpfWZ1bmN0aW9uIG10KGUpe3JldHVybiBlLnJlcGxhY2UoL1wifFxcXFxcIi9nLCdcXFxcXCInKX1mdW5jdGlvbiB5dChlKXt2YXIgdD1lLmF0dHJfX2NsYXNzO3JldHVybiB0P3godCk/dDpYZSh0KTp2b2lkIDB9Y2xhc3MgYnR7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrcz1bXX1pc1JhZ2VDbGljayhlLHQsaSl7dmFyIHI9dGhpcy5jbGlja3NbdGhpcy5jbGlja3MubGVuZ3RoLTFdO2lmKHImJk1hdGguYWJzKGUtci54KStNYXRoLmFicyh0LXIueSk8MzAmJmktci50aW1lc3RhbXA8MWUzKXtpZih0aGlzLmNsaWNrcy5wdXNoKHt4OmUseTp0LHRpbWVzdGFtcDppfSksMz09PXRoaXMuY2xpY2tzLmxlbmd0aClyZXR1cm4hMH1lbHNlIHRoaXMuY2xpY2tzPVt7eDplLHk6dCx0aW1lc3RhbXA6aX1dO3JldHVybiExfX12YXIgd3Q9W1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0sU3Q9ZT0+e3ZhciB0PW51bGw9PWE/dm9pZCAwOmEuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIEYodCk/bnVsbDoodC5ocmVmPWUsdCl9LGt0PWZ1bmN0aW9uKGUpe3ZhciB0LGkscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCImXCIsbj1bXTtyZXR1cm4gWShlLChmdW5jdGlvbihlLHIpe0YoZSl8fEYocil8fFwidW5kZWZpbmVkXCI9PT1yfHwodD1lbmNvZGVVUklDb21wb25lbnQoKGU9PmUgaW5zdGFuY2VvZiBGaWxlKShlKT9lLm5hbWU6ZS50b1N0cmluZygpKSxpPWVuY29kZVVSSUNvbXBvbmVudChyKSxuW24ubGVuZ3RoXT1pK1wiPVwiK3QpfSkpLG4uam9pbihyKX0sRXQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscj0oKGUuc3BsaXQoXCIjXCIpWzBdfHxcIlwiKS5zcGxpdCgvXFw/KC4qKS8pWzFdfHxcIlwiKS5yZXBsYWNlKC9eXFw/Ky9nLFwiXCIpLnNwbGl0KFwiJlwiKSxuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBzPXJbbl0uc3BsaXQoXCI9XCIpO2lmKHNbMF09PT10KXtpPXM7YnJlYWt9fWlmKCF4KGkpfHxpLmxlbmd0aDwyKXJldHVyblwiXCI7dmFyIG89aVsxXTt0cnl7bz1kZWNvZGVVUklDb21wb25lbnQobyl9Y2F0Y2goZSl7Ti5lcnJvcihcIlNraXBwaW5nIGRlY29kaW5nIGZvciBtYWxmb3JtZWQgcXVlcnkgcGFyYW06IFwiK28pfXJldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKX0seHQ9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlfHwhdHx8IXQubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgcj1lLnNwbGl0KFwiI1wiKSxuPXJbMF18fFwiXCIscz1yWzFdLG89bi5zcGxpdChcIj9cIiksYT1vWzFdLGw9b1swXSx1PShhfHxcIlwiKS5zcGxpdChcIiZcIiksYz1bXSxkPTA7ZDx1Lmxlbmd0aDtkKyspe3ZhciBoPXVbZF0uc3BsaXQoXCI9XCIpO3goaCkmJih0LmluY2x1ZGVzKGhbMF0pP2MucHVzaChoWzBdK1wiPVwiK2kpOmMucHVzaCh1W2RdKSl9dmFyIHA9bDtyZXR1cm4gbnVsbCE9YSYmKHArPVwiP1wiK2Muam9pbihcIiZcIikpLG51bGwhPXMmJihwKz1cIiNcIitzKSxwfSxJdD1mdW5jdGlvbihlLHQpe3ZhciBpPWUubWF0Y2gobmV3IFJlZ0V4cCh0K1wiPShbXiZdKilcIikpO3JldHVybiBpP2lbMV06bnVsbH0sQ3Q9QihcIltBdXRvQ2FwdHVyZV1cIik7ZnVuY3Rpb24gUHQoZSx0KXtyZXR1cm4gdC5sZW5ndGg+ZT90LnNsaWNlKDAsZSkrXCIuLi5cIjp0fWZ1bmN0aW9uIEZ0KGUpe2lmKGUucHJldmlvdXNFbGVtZW50U2libGluZylyZXR1cm4gZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO3ZhciB0PWU7ZG97dD10LnByZXZpb3VzU2libGluZ313aGlsZSh0JiYhR2UodCkpO3JldHVybiB0fWZ1bmN0aW9uIFR0KGUsdCxpLHIpe3ZhciBuPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLHM9e3RhZ19uYW1lOm59O3J0LmluZGV4T2Yobik+LTEmJiFpJiYoXCJhXCI9PT1uLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1uLnRvTG93ZXJDYXNlKCk/cy4kZWxfdGV4dD1QdCgxMDI0LHZ0KGUpKTpzLiRlbF90ZXh0PVB0KDEwMjQsdHQoZSkpKTt2YXIgbz1aZShlKTtvLmxlbmd0aD4wJiYocy5jbGFzc2VzPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiIT09ZX0pKSksWShlLmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKGkpe3ZhciBuO2lmKCghYXQoZSl8fC0xIT09W1wibmFtZVwiLFwiaWRcIixcImNsYXNzXCIsXCJhcmlhLWxhYmVsXCJdLmluZGV4T2YoaS5uYW1lKSkmJigobnVsbD09cnx8IXIuaW5jbHVkZXMoaS5uYW1lKSkmJiF0JiZfdChpLnZhbHVlKSYmKG49aS5uYW1lLCFUKG4pfHxcIl9uZ2NvbnRlbnRcIiE9PW4uc3Vic3RyaW5nKDAsMTApJiZcIl9uZ2hvc3RcIiE9PW4uc3Vic3RyaW5nKDAsNykpKSl7dmFyIG89aS52YWx1ZTtcImNsYXNzXCI9PT1pLm5hbWUmJihvPVhlKG8pLmpvaW4oXCIgXCIpKSxzW1wiYXR0cl9fXCIraS5uYW1lXT1QdCgxMDI0LG8pfX0pKTtmb3IodmFyIGE9MSxsPTEsdT1lO3U9RnQodSk7KWErKyx1LnRhZ05hbWU9PT1lLnRhZ05hbWUmJmwrKztyZXR1cm4gcy5udGhfY2hpbGQ9YSxzLm50aF9vZl90eXBlPWwsc31mdW5jdGlvbiBSdChlLGkpe2Zvcih2YXIgcixuLHtlOnMsbWFza0FsbEVsZW1lbnRBdHRyaWJ1dGVzOm8sbWFza0FsbFRleHQ6YSxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDpsLGVsZW1lbnRzQ2hhaW5Bc1N0cmluZzp1fT1pLGM9W2VdLGQ9ZTtkLnBhcmVudE5vZGUmJiFKZShkLFwiYm9keVwiKTspS2UoZC5wYXJlbnROb2RlKT8oYy5wdXNoKGQucGFyZW50Tm9kZS5ob3N0KSxkPWQucGFyZW50Tm9kZS5ob3N0KTooYy5wdXNoKGQucGFyZW50Tm9kZSksZD1kLnBhcmVudE5vZGUpO3ZhciBoLHA9W10sXz17fSx2PSExLGc9ITE7aWYoWShjLChlPT57dmFyIHQ9b3QoZSk7XCJhXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHY9ZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLHY9dCYmdiYmX3QodikmJnYpLG0oWmUoZSksXCJwaC1uby1jYXB0dXJlXCIpJiYoZz0hMCkscC5wdXNoKFR0KGUsbyxhLGwpKTt2YXIgaT1mdW5jdGlvbihlKXtpZighb3QoZSkpcmV0dXJue307dmFyIHQ9e307cmV0dXJuIFkoZS5hdHRyaWJ1dGVzLChmdW5jdGlvbihlKXtpZihlLm5hbWUmJjA9PT1lLm5hbWUuaW5kZXhPZihcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGVcIikpe3ZhciBpPWUubmFtZS5yZXBsYWNlKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZS1cIixcIlwiKSxyPWUudmFsdWU7aSYmciYmX3QocikmJih0W2ldPXIpfX0pKSx0fShlKTtLKF8saSl9KSksZylyZXR1cm57cHJvcHM6e30sZXhwbGljaXROb0NhcHR1cmU6Z307aWYoYXx8KFwiYVwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9wWzBdLiRlbF90ZXh0PXZ0KGUpOnBbMF0uJGVsX3RleHQ9dHQoZSkpLHYpe3ZhciBmLHk7cFswXS5hdHRyX19ocmVmPXY7dmFyIGI9bnVsbD09PShmPVN0KHYpKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5ob3N0LHc9bnVsbD09dHx8bnVsbD09PSh5PXQubG9jYXRpb24pfHx2b2lkIDA9PT15P3ZvaWQgMDp5Lmhvc3Q7YiYmdyYmYiE9PXcmJihoPXYpfXJldHVybntwcm9wczpLKHskZXZlbnRfdHlwZTpzLnR5cGUsJGNlX3ZlcnNpb246MX0sdT97fTp7JGVsZW1lbnRzOnB9LHskZWxlbWVudHNfY2hhaW46ZnQocCl9LG51bGwhPT0ocj1wWzBdKSYmdm9pZCAwIT09ciYmci4kZWxfdGV4dD97JGVsX3RleHQ6bnVsbD09PShuPXBbMF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLiRlbF90ZXh0fTp7fSxoJiZcImNsaWNrXCI9PT1zLnR5cGU/eyRleHRlcm5hbF9jbGlja191cmw6aH06e30sXyl9fWNsYXNzICR0e2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxXKHRoaXMsXCJfaXNEaXNhYmxlZFNlcnZlclNpZGVcIixudWxsKSxXKHRoaXMsXCJyYWdlY2xpY2tzXCIsbmV3IGJ0KSxXKHRoaXMsXCJfZWxlbWVudHNDaGFpbkFzU3RyaW5nXCIsITEpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbGVtZW50U2VsZWN0b3JzPW51bGx9Z2V0IGNvbmZpZygpe3ZhciBlLHQsaT1DKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gaS51cmxfYWxsb3dsaXN0PW51bGw9PT0oZT1pLnVybF9hbGxvd2xpc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1hcCgoZT0+bmV3IFJlZ0V4cChlKSkpLGkudXJsX2lnbm9yZWxpc3Q9bnVsbD09PSh0PWkudXJsX2lnbm9yZWxpc3QpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm1hcCgoZT0+bmV3IFJlZ0V4cChlKSkpLGl9X2FkZERvbUV2ZW50SGFuZGxlcnMoKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZhKXt2YXIgZT1lPT57ZT1lfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuX2NhcHR1cmVFdmVudChlKX1jYXRjaChlKXtDdC5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsZSl9fTtpZihvZShhLFwic3VibWl0XCIsZSx7Y2FwdHVyZTohMH0pLG9lKGEsXCJjaGFuZ2VcIixlLHtjYXB0dXJlOiEwfSksb2UoYSxcImNsaWNrXCIsZSx7Y2FwdHVyZTohMH0pLHRoaXMuY29uZmlnLmNhcHR1cmVfY29waWVkX3RleHQpe3ZhciBpPWU9PntlPWV8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSx0aGlzLl9jYXB0dXJlRXZlbnQoZSx2KX07b2UoYSxcImNvcHlcIixpLHtjYXB0dXJlOiEwfSksb2UoYSxcImN1dFwiLGkse2NhcHR1cmU6ITB9KX19fWVsc2UgQ3QuaW5mbyhcIkRpc2FibGluZyBBdXRvbWF0aWMgRXZlbnQgQ29sbGVjdGlvbiBiZWNhdXNlIHRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkXCIpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLl9pbml0aWFsaXplZCYmKHRoaXMuX2FkZERvbUV2ZW50SGFuZGxlcnMoKSx0aGlzLl9pbml0aWFsaXplZD0hMCl9b25SZW1vdGVDb25maWcoZSl7ZS5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLl9lbGVtZW50c0NoYWluQXNTdHJpbmc9ZS5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tjZV06ISFlLmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLl9pc0Rpc2FibGVkU2VydmVyU2lkZT0hIWUuYXV0b2NhcHR1cmVfb3B0X291dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c2V0RWxlbWVudFNlbGVjdG9ycyhlKXt0aGlzLl9lbGVtZW50U2VsZWN0b3JzPWV9Z2V0RWxlbWVudFNlbGVjdG9ycyhlKXt2YXIgdCxpPVtdO3JldHVybiBudWxsPT09KHQ9dGhpcy5fZWxlbWVudFNlbGVjdG9ycyl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgodD0+e3ZhciByPW51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvckFsbCh0KTtudWxsPT1yfHxyLmZvckVhY2goKHI9PntlPT09ciYmaS5wdXNoKHQpfSkpfSkpLGl9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvcHNbY2VdLHI9dGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGU7aWYoJChyKSYmIUEoaSkmJiF0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2RlY2lkZSlyZXR1cm4hMTt2YXIgbj1udWxsIT09KHQ9dGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGUpJiZ2b2lkIDAhPT10P3Q6ISFpO3JldHVybiEhdGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUmJiFufV9jYXB0dXJlRXZlbnQoZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiJGF1dG9jYXB0dXJlXCI7aWYodGhpcy5pc0VuYWJsZWQpe3ZhciByLG49aXQoZSk7aWYoWWUobikmJihuPW4ucGFyZW50Tm9kZXx8bnVsbCksXCIkYXV0b2NhcHR1cmVcIj09PWkmJlwiY2xpY2tcIj09PWUudHlwZSYmZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpdGhpcy5pbnN0YW5jZS5jb25maWcucmFnZWNsaWNrJiZudWxsIT09KHI9dGhpcy5yYWdlY2xpY2tzKSYmdm9pZCAwIT09ciYmci5pc1JhZ2VDbGljayhlLmNsaWVudFgsZS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmdGhpcy5fY2FwdHVyZUV2ZW50KGUsXCIkcmFnZWNsaWNrXCIpO3ZhciBzPWk9PT12O2lmKG4mJnN0KG4sZSx0aGlzLmNvbmZpZyxzLHM/W1wiY29weVwiLFwiY3V0XCJdOnZvaWQgMCkpe3Zhcntwcm9wczpvLGV4cGxpY2l0Tm9DYXB0dXJlOmF9PVJ0KG4se2U6ZSxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzLG1hc2tBbGxUZXh0OnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX3RleHQsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6dGhpcy5jb25maWcuZWxlbWVudF9hdHRyaWJ1dGVfaWdub3JlbGlzdCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dGhpcy5fZWxlbWVudHNDaGFpbkFzU3RyaW5nfSk7aWYoYSlyZXR1cm4hMTt2YXIgbD10aGlzLmdldEVsZW1lbnRTZWxlY3RvcnMobik7aWYobCYmbC5sZW5ndGg+MCYmKG8uJGVsZW1lbnRfc2VsZWN0b3JzPWwpLGk9PT12KXt2YXIgdSxjPWV0KG51bGw9PXR8fG51bGw9PT0odT10LmdldFNlbGVjdGlvbigpKXx8dm9pZCAwPT09dT92b2lkIDA6dS50b1N0cmluZygpKSxkPWUudHlwZXx8XCJjbGlwYm9hcmRcIjtpZighYylyZXR1cm4hMTtvLiRzZWxlY3RlZF9jb250ZW50PWMsby4kY29weV90eXBlPWR9cmV0dXJuIHRoaXMuaW5zdGFuY2UuY2FwdHVyZShpLG8pLCEwfX19aXNCcm93c2VyU3VwcG9ydGVkKCl7cmV0dXJuIEkobnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yQWxsKX19TWF0aC50cnVuY3x8KE1hdGgudHJ1bmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MD9NYXRoLmNlaWwoZSk6TWF0aC5mbG9vcihlKX0pLE51bWJlci5pc0ludGVnZXJ8fChOdW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKGUpe3JldHVybiBNKGUpJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9KTt2YXIgT3Q9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5ieXRlcz1lLDE2IT09ZS5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCAxMjgtYml0IGxlbmd0aFwiKX1zdGF0aWMgZnJvbUZpZWxkc1Y3KGUsdCxpLHIpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHwhTnVtYmVyLmlzSW50ZWdlcih0KXx8IU51bWJlci5pc0ludGVnZXIoaSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHIpfHxlPDB8fHQ8MHx8aTwwfHxyPDB8fGU+MHhmZmZmZmZmZmZmZmZ8fHQ+NDA5NXx8aT4xMDczNzQxODIzfHxyPjQyOTQ5NjcyOTUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJpbnZhbGlkIGZpZWxkIHZhbHVlXCIpO3ZhciBuPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gblswXT1lL01hdGgucG93KDIsNDApLG5bMV09ZS9NYXRoLnBvdygyLDMyKSxuWzJdPWUvTWF0aC5wb3coMiwyNCksblszXT1lL01hdGgucG93KDIsMTYpLG5bNF09ZS9NYXRoLnBvdygyLDgpLG5bNV09ZSxuWzZdPTExMnx0Pj4+OCxuWzddPXQsbls4XT0xMjh8aT4+PjI0LG5bOV09aT4+PjE2LG5bMTBdPWk+Pj44LG5bMTFdPWksblsxMl09cj4+PjI0LG5bMTNdPXI+Pj4xNixuWzE0XT1yPj4+OCxuWzE1XT1yLG5ldyBNdChuKX10b1N0cmluZygpe2Zvcih2YXIgZT1cIlwiLHQ9MDt0PHRoaXMuYnl0ZXMubGVuZ3RoO3QrKyllPWUrT3QuY2hhckF0KHRoaXMuYnl0ZXNbdF0+Pj40KStPdC5jaGFyQXQoMTUmdGhpcy5ieXRlc1t0XSksMyE9PXQmJjUhPT10JiY3IT09dCYmOSE9PXR8fChlKz1cIi1cIik7aWYoMzYhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVVSUR2NyB3YXMgZ2VuZXJhdGVkXCIpO3JldHVybiBlfWNsb25lKCl7cmV0dXJuIG5ldyBNdCh0aGlzLmJ5dGVzLnNsaWNlKDApKX1lcXVhbHMoZSl7cmV0dXJuIDA9PT10aGlzLmNvbXBhcmVUbyhlKX1jb21wYXJlVG8oZSl7Zm9yKHZhciB0PTA7dDwxNjt0Kyspe3ZhciBpPXRoaXMuYnl0ZXNbdF0tZS5ieXRlc1t0XTtpZigwIT09aSlyZXR1cm4gTWF0aC5zaWduKGkpfXJldHVybiAwfX1jbGFzcyBBdHtjb25zdHJ1Y3Rvcigpe1codGhpcyxcInRpbWVzdGFtcFwiLDApLFcodGhpcyxcImNvdW50ZXJcIiwwKSxXKHRoaXMsXCJyYW5kb21cIixuZXcgcXQpfWdlbmVyYXRlKCl7dmFyIGU9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihGKGUpKXt0aGlzLnRpbWVzdGFtcD0wO3ZhciB0PXRoaXMuZ2VuZXJhdGVPckFib3J0KCk7aWYoRih0KSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2VuZXJhdGUgVVVJRCBhZnRlciB0aW1lc3RhbXAgcmVzZXRcIik7cmV0dXJuIHR9cmV0dXJuIGV9Z2VuZXJhdGVPckFib3J0KCl7dmFyIGU9RGF0ZS5ub3coKTtpZihlPnRoaXMudGltZXN0YW1wKXRoaXMudGltZXN0YW1wPWUsdGhpcy5yZXNldENvdW50ZXIoKTtlbHNle2lmKCEoZSsxZTQ+dGhpcy50aW1lc3RhbXApKXJldHVybjt0aGlzLmNvdW50ZXIrKyx0aGlzLmNvdW50ZXI+NDM5ODA0NjUxMTEwMyYmKHRoaXMudGltZXN0YW1wKyssdGhpcy5yZXNldENvdW50ZXIoKSl9cmV0dXJuIE10LmZyb21GaWVsZHNWNyh0aGlzLnRpbWVzdGFtcCxNYXRoLnRydW5jKHRoaXMuY291bnRlci9NYXRoLnBvdygyLDMwKSksdGhpcy5jb3VudGVyJk1hdGgucG93KDIsMzApLTEsdGhpcy5yYW5kb20ubmV4dFVpbnQzMigpKX1yZXNldENvdW50ZXIoKXt0aGlzLmNvdW50ZXI9MTAyNCp0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkrKDEwMjMmdGhpcy5yYW5kb20ubmV4dFVpbnQzMigpKX19dmFyIEx0LER0PWU9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVVVJRFY3X0RFTllfV0VBS19STkcmJlVVSURWN19ERU5ZX1dFQUtfUk5HKXRocm93IG5ldyBFcnJvcihcIm5vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyBSTkcgYXZhaWxhYmxlXCIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09NjU1MzYqTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKStNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpO3JldHVybiBlfTt0JiYhRih0LmNyeXB0bykmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJihEdD1lPT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGUpKTtjbGFzcyBxdHtjb25zdHJ1Y3Rvcigpe1codGhpcyxcImJ1ZmZlclwiLG5ldyBVaW50MzJBcnJheSg4KSksVyh0aGlzLFwiY3Vyc29yXCIsMS8wKX1uZXh0VWludDMyKCl7cmV0dXJuIHRoaXMuY3Vyc29yPj10aGlzLmJ1ZmZlci5sZW5ndGgmJihEdCh0aGlzLmJ1ZmZlciksdGhpcy5jdXJzb3I9MCksdGhpcy5idWZmZXJbdGhpcy5jdXJzb3IrK119fXZhciBOdD0oKT0+QnQoKS50b1N0cmluZygpLEJ0PSgpPT4oTHR8fChMdD1uZXcgQXQpKS5nZW5lcmF0ZSgpLEh0PVwiVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVRcIixqdD1cIlwiO3ZhciBVdD0vW2EtejAtOV1bYS16MC05LV0rXFwuW2Etel17Mix9JC9pO2Z1bmN0aW9uIHp0KGUsdCl7aWYodCl7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmE7aWYoanQpcmV0dXJuIGp0O2lmKCF0KXJldHVyblwiXCI7aWYoW1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0uaW5jbHVkZXMoZSkpcmV0dXJuXCJcIjtmb3IodmFyIGk9ZS5zcGxpdChcIi5cIikscj1NYXRoLm1pbihpLmxlbmd0aCw4KSxuPVwiZG1uX2Noa19cIitOdCgpLHM9bmV3IFJlZ0V4cChcIihefDspXFxcXHMqXCIrbitcIj0xXCIpOyFqdCYmci0tOyl7dmFyIG89aS5zbGljZShyKS5qb2luKFwiLlwiKSxsPW4rXCI9MTtkb21haW49LlwiK287dC5jb29raWU9bCxzLnRlc3QodC5jb29raWUpJiYodC5jb29raWU9bCtcIjtleHBpcmVzPVwiK0h0LGp0PW8pfXJldHVybiBqdH0oZSk7aWYoIWkpe3ZhciByPShlPT57dmFyIHQ9ZS5tYXRjaChVdCk7cmV0dXJuIHQ/dFswXTpcIlwifSkoZSk7ciE9PWkmJk4uaW5mbyhcIldhcm5pbmc6IGNvb2tpZSBzdWJkb21haW4gZGlzY292ZXJ5IG1pc21hdGNoXCIscixpKSxpPXJ9cmV0dXJuIGk/XCI7IGRvbWFpbj0uXCIraTpcIlwifXJldHVyblwiXCJ9dmFyIFd0LFZ0PXtpc19zdXBwb3J0ZWQ6KCk9PiEhYSxlcnJvcjpmdW5jdGlvbihlKXtOLmVycm9yKFwiY29va2llU3RvcmUgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7aWYoYSl7dHJ5e2Zvcih2YXIgdD1lK1wiPVwiLGk9YS5jb29raWUuc3BsaXQoXCI7XCIpLmZpbHRlcigoZT0+ZS5sZW5ndGgpKSxyPTA7cjxpLmxlbmd0aDtyKyspe2Zvcih2YXIgbj1pW3JdO1wiIFwiPT1uLmNoYXJBdCgwKTspbj1uLnN1YnN0cmluZygxLG4ubGVuZ3RoKTtpZigwPT09bi5pbmRleE9mKHQpKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQobi5zdWJzdHJpbmcodC5sZW5ndGgsbi5sZW5ndGgpKX19Y2F0Y2goZSl7fXJldHVybiBudWxsfX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9SlNPTi5wYXJzZShWdC5nZXQoZSkpfHx7fX1jYXRjaChlKXt9cmV0dXJuIHR9LHNldDpmdW5jdGlvbihlLHQsaSxyLG4pe2lmKGEpdHJ5e3ZhciBzPVwiXCIsbz1cIlwiLGw9enQoYS5sb2NhdGlvbi5ob3N0bmFtZSxyKTtpZihpKXt2YXIgdT1uZXcgRGF0ZTt1LnNldFRpbWUodS5nZXRUaW1lKCkrMjQqaSo2MCo2MCoxZTMpLHM9XCI7IGV4cGlyZXM9XCIrdS50b1VUQ1N0cmluZygpfW4mJihvPVwiOyBzZWN1cmVcIik7dmFyIGM9ZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpK3MrXCI7IFNhbWVTaXRlPUxheDsgcGF0aD0vXCIrbCtvO3JldHVybiBjLmxlbmd0aD4zNjg2LjQmJk4ud2FybihcImNvb2tpZVN0b3JlIHdhcm5pbmc6IGxhcmdlIGNvb2tpZSwgbGVuPVwiK2MubGVuZ3RoKSxhLmNvb2tpZT1jLGN9Y2F0Y2goZSl7cmV0dXJufX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dHJ5e1Z0LnNldChlLFwiXCIsLTEsdCl9Y2F0Y2goZSl7cmV0dXJufX19LEd0PW51bGwsSnQ9e2lzX3N1cHBvcnRlZDpmdW5jdGlvbigpe2lmKCEkKEd0KSlyZXR1cm4gR3Q7dmFyIGU9ITA7aWYoRih0KSllPSExO2Vsc2UgdHJ5e3ZhciBpPVwiX19tcGxzc3VwcG9ydF9fXCI7SnQuc2V0KGksXCJ4eXpcIiksJ1wieHl6XCInIT09SnQuZ2V0KGkpJiYoZT0hMSksSnQucmVtb3ZlKGkpfWNhdGNoKHQpe2U9ITF9cmV0dXJuIGV8fE4uZXJyb3IoXCJsb2NhbFN0b3JhZ2UgdW5zdXBwb3J0ZWQ7IGZhbGxpbmcgYmFjayB0byBjb29raWUgc3RvcmVcIiksR3Q9ZSxlfSxlcnJvcjpmdW5jdGlvbihlKXtOLmVycm9yKFwibG9jYWxTdG9yYWdlIGVycm9yOiBcIitlKX0sZ2V0OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX1jYXRjaChlKXtKdC5lcnJvcihlKX1yZXR1cm4gbnVsbH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKEp0LmdldChlKSl8fHt9fWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeShpKSl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fSxyZW1vdmU6ZnVuY3Rpb24oZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fX0sWXQ9W1wiZGlzdGluY3RfaWRcIixFZSx4ZSxqZSxIZV0sS3Q9eih6KHt9LEp0KSx7fSx7cGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PXt9O3RyeXt0PVZ0LnBhcnNlKGUpfHx7fX1jYXRjaChlKXt9dmFyIGk9Syh0LEpTT04ucGFyc2UoSnQuZ2V0KGUpfHxcInt9XCIpKTtyZXR1cm4gSnQuc2V0KGUsaSksaX1jYXRjaChlKXt9cmV0dXJuIG51bGx9LHNldDpmdW5jdGlvbihlLHQsaSxyLG4scyl7dHJ5e0p0LnNldChlLHQsdm9pZCAwLHZvaWQgMCxzKTt2YXIgbz17fTtZdC5mb3JFYWNoKChlPT57dFtlXSYmKG9bZV09dFtlXSl9KSksT2JqZWN0LmtleXMobykubGVuZ3RoJiZWdC5zZXQoZSxvLGkscixuLHMpfWNhdGNoKGUpe0p0LmVycm9yKGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSksVnQucmVtb3ZlKGUsaSl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fX0pLFh0PXt9LFF0PXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oZSl7Ti5lcnJvcihcIm1lbW9yeVN0b3JhZ2UgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFh0W2VdfHxudWxsfSxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gWHRbZV18fG51bGx9LHNldDpmdW5jdGlvbihlLHQpe1h0W2VdPXR9LHJlbW92ZTpmdW5jdGlvbihlKXtkZWxldGUgWHRbZV19fSxadD1udWxsLGVpPXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtpZighJChadCkpcmV0dXJuIFp0O2lmKFp0PSEwLEYodCkpWnQ9ITE7ZWxzZSB0cnl7dmFyIGU9XCJfX3N1cHBvcnRfX1wiO2VpLnNldChlLFwieHl6XCIpLCdcInh5elwiJyE9PWVpLmdldChlKSYmKFp0PSExKSxlaS5yZW1vdmUoZSl9Y2F0Y2goZSl7WnQ9ITF9cmV0dXJuIFp0fSxlcnJvcjpmdW5jdGlvbihlKXtOLmVycm9yKFwic2Vzc2lvblN0b3JhZ2UgZXJyb3I6IFwiLGUpfSxnZXQ6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZSl9Y2F0Y2goZSl7ZWkuZXJyb3IoZSl9cmV0dXJuIG51bGx9LHBhcnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlaS5nZXQoZSkpfHxudWxsfWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShlLEpTT04uc3RyaW5naWZ5KGkpKX1jYXRjaChlKXtlaS5lcnJvcihlKX19LHJlbW92ZTpmdW5jdGlvbihlKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGUpfWNhdGNoKGUpe2VpLmVycm9yKGUpfX19OyFmdW5jdGlvbihlKXtlW2UuUEVORElORz0tMV09XCJQRU5ESU5HXCIsZVtlLkRFTklFRD0wXT1cIkRFTklFRFwiLGVbZS5HUkFOVEVEPTFdPVwiR1JBTlRFRFwifShXdHx8KFd0PXt9KSk7Y2xhc3MgdGl7Y29uc3RydWN0b3IoZSl7dGhpcy5pbnN0YW5jZT1lfWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5jb25maWd9Z2V0IGNvbnNlbnQoKXtyZXR1cm4gdGhpcy5nZXREbnQoKT9XdC5ERU5JRUQ6dGhpcy5zdG9yZWRDb25zZW50fWlzT3B0ZWRPdXQoKXtyZXR1cm4gdGhpcy5jb25zZW50PT09V3QuREVOSUVEfHx0aGlzLmNvbnNlbnQ9PT1XdC5QRU5ESU5HJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0fWlzT3B0ZWRJbigpe3JldHVybiF0aGlzLmlzT3B0ZWRPdXQoKX1vcHRJbk91dChlKXt0aGlzLnN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZUtleSxlPzE6MCx0aGlzLmNvbmZpZy5jb29raWVfZXhwaXJhdGlvbix0aGlzLmNvbmZpZy5jcm9zc19zdWJkb21haW5fY29va2llLHRoaXMuY29uZmlnLnNlY3VyZV9jb29raWUpfXJlc2V0KCl7dGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXksdGhpcy5jb25maWcuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSl9Z2V0IHN0b3JhZ2VLZXkoKXt2YXJ7dG9rZW46ZSxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4OnR9PXRoaXMuaW5zdGFuY2UuY29uZmlnO3JldHVybih0fHxcIl9fcGhfb3B0X2luX291dF9cIikrZX1nZXQgc3RvcmVkQ29uc2VudCgpe3ZhciBlPXRoaXMuc3RvcmFnZS5nZXQodGhpcy5zdG9yYWdlS2V5KTtyZXR1cm5cIjFcIj09PWU/V3QuR1JBTlRFRDpcIjBcIj09PWU/V3QuREVOSUVEOld0LlBFTkRJTkd9Z2V0IHN0b3JhZ2UoKXtpZighdGhpcy5fc3RvcmFnZSl7dmFyIGU9dGhpcy5jb25maWcub3B0X291dF9jYXB0dXJpbmdfcGVyc2lzdGVuY2VfdHlwZTt0aGlzLl9zdG9yYWdlPVwibG9jYWxTdG9yYWdlXCI9PT1lP0p0OlZ0O3ZhciB0PVwibG9jYWxTdG9yYWdlXCI9PT1lP1Z0Okp0O3QuZ2V0KHRoaXMuc3RvcmFnZUtleSkmJih0aGlzLl9zdG9yYWdlLmdldCh0aGlzLnN0b3JhZ2VLZXkpfHx0aGlzLm9wdEluT3V0KFwiMVwiPT09dC5nZXQodGhpcy5zdG9yYWdlS2V5KSksdC5yZW1vdmUodGhpcy5zdG9yYWdlS2V5LHRoaXMuY29uZmlnLmNyb3NzX3N1YmRvbWFpbl9jb29raWUpKX1yZXR1cm4gdGhpcy5fc3RvcmFnZX1nZXREbnQoKXtyZXR1cm4hIXRoaXMuY29uZmlnLnJlc3BlY3RfZG50JiYhIXNlKFtudWxsPT1vP3ZvaWQgMDpvLmRvTm90VHJhY2ssbnVsbD09bz92b2lkIDA6by5tc0RvTm90VHJhY2sscC5kb05vdFRyYWNrXSwoZT0+bShbITAsMSxcIjFcIixcInllc1wiXSxlKSkpfX12YXIgaWk9QihcIltEZWFkIENsaWNrc11cIikscmk9KCk9PiEwLG5pPWU9Pnt2YXIgdCxpPSEobnVsbD09PSh0PWUuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHwhdC5nZXRfcHJvcGVydHkoX2UpKSxyPWUuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M7cmV0dXJuIEEocik/cjppfTtjbGFzcyBzaXtnZXQgbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSgpe3JldHVybiB0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlfWNvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5pc0VuYWJsZWQ9dCx0aGlzLm9uQ2FwdHVyZT1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1vblJlbW90ZUNvbmZpZyhlKXt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbX2VdOm51bGw9PWU/dm9pZCAwOmUuY2FwdHVyZURlYWRDbGlja3N9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCh0aGlzKSYmdGhpcy5sb2FkU2NyaXB0KCgoKT0+e3RoaXMuc3RhcnQoKX0pKX1sb2FkU2NyaXB0KGUpe3ZhciB0LGkscjtudWxsIT09KHQ9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJmUoKSxudWxsPT09KGk9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09cnx8ci5jYWxsKGksdGhpcy5pbnN0YW5jZSxcImRlYWQtY2xpY2tzLWF1dG9jYXB0dXJlXCIsKHQ9Pnt0P2lpLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk6ZSgpfSkpfXN0YXJ0KCl7dmFyIGU7aWYoYSl7aWYoIXRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJm51bGwhPT0oZT1wLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PWUmJmUuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSl7dmFyIHQ9Qyh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzOnt9O3QuX19vbkNhcHR1cmU9dGhpcy5vbkNhcHR1cmUsdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZT1wLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKHRoaXMuaW5zdGFuY2UsdCksdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydChhKSxpaS5pbmZvKFwic3RhcnRpbmcuLi5cIil9fWVsc2UgaWkuZXJyb3IoXCJgZG9jdW1lbnRgIG5vdCBmb3VuZC4gQ2Fubm90IHN0YXJ0LlwiKX1zdG9wKCl7dGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSYmKHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RvcCgpLHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmU9dm9pZCAwLGlpLmluZm8oXCJzdG9wcGluZy4uLlwiKSl9fXZhciBvaT1CKFwiW0V4Y2VwdGlvbkF1dG9jYXB0dXJlXVwiKTtjbGFzcyBhaXtjb25zdHJ1Y3RvcihlKXt2YXIgaTtXKHRoaXMsXCJzdGFydENhcHR1cmluZ1wiLCgoKT0+e3ZhciBlLGkscixuLHMsbztpZih0JiZ0aGlzLmlzRW5hYmxlZCl7dmFyIGE9bnVsbD09PShlPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09ZXx8bnVsbD09PShpPWUuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl8fHZvaWQgMD09PWk/dm9pZCAwOmkud3JhcE9uRXJyb3IsbD1udWxsPT09KHI9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci5lcnJvcldyYXBwaW5nRnVuY3Rpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi53cmFwVW5oYW5kbGVkUmVqZWN0aW9uLHU9bnVsbD09PShzPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ud3JhcENvbnNvbGVFcnJvcjtpZihhJiZsJiZ1KXRyeXt0aGlzLnVud3JhcE9uRXJyb3J8fCh0aGlzLnVud3JhcE9uRXJyb3I9YSh0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpLHRoaXMudW53cmFwVW5oYW5kbGVkUmVqZWN0aW9ufHwodGhpcy51bndyYXBVbmhhbmRsZWRSZWplY3Rpb249bCh0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpLHRoaXMudW53cmFwQ29uc29sZUVycm9yfHwodGhpcy51bndyYXBDb25zb2xlRXJyb3I9dSh0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpfWNhdGNoKGUpe29pLmVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0XCIsZSksdGhpcy5zdG9wQ2FwdHVyaW5nKCl9ZWxzZSBvaS5lcnJvcihcImZhaWxlZCB0byBsb2FkIGVycm9yIHdyYXBwaW5nIGZ1bmN0aW9ucyAtIGNhbm5vdCBzdGFydFwiKX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMucmVtb3RlRW5hYmxlZD0hKG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8IWkucHJvcHNbaGVdKSx0aGlzLmNvbmZpZz10aGlzLnJlcXVpcmVkQ29uZmlnKCksdGhpcy5zdGFydElmRW5hYmxlZCgpfXJlcXVpcmVkQ29uZmlnKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9leGNlcHRpb25zLHQ9e2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMSxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiExLGNhcHR1cmVfY29uc29sZV9lcnJvcnM6ITF9O3JldHVybiBDKGUpP3Q9eih6KHt9LHQpLGUpOihGKGUpP3RoaXMucmVtb3RlRW5hYmxlZDplKSYmKHQ9eih6KHt9LHQpLHt9LHtjYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnM6ITAsY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uczohMH0pKSx0fWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5jb25maWcuY2FwdHVyZV9jb25zb2xlX2Vycm9yc3x8dGhpcy5jb25maWcuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzfHx0aGlzLmNvbmZpZy5jYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zfWdldCBoYXNIYW5kbGVycygpe3JldHVybiFGKHRoaXMudW53cmFwT25FcnJvcikmJiFGKHRoaXMudW53cmFwVW5oYW5kbGVkUmVqZWN0aW9uKSYmIUYodGhpcy51bndyYXBDb25zb2xlRXJyb3IpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLmhhc0hhbmRsZXJzJiYob2kuaW5mbyhcImVuYWJsZWQsIHN0YXJ0aW5nLi4uXCIpLHRoaXMubG9hZFNjcmlwdCh0aGlzLnN0YXJ0Q2FwdHVyaW5nKSl9bG9hZFNjcmlwdChlKXt2YXIgdCxpO3RoaXMuaGFzSGFuZGxlcnMmJmUoKSxudWxsPT09KHQ9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09aXx8aS5jYWxsKHQsdGhpcy5pbnN0YW5jZSxcImV4Y2VwdGlvbi1hdXRvY2FwdHVyZVwiLCh0PT57aWYodClyZXR1cm4gb2kuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTtlKCl9KSl9c3RvcENhcHR1cmluZygpe3ZhciBlLHQsaTtudWxsPT09KGU9dGhpcy51bndyYXBPbkVycm9yKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpLHRoaXMudW53cmFwT25FcnJvcj12b2lkIDAsbnVsbD09PSh0PXRoaXMudW53cmFwVW5oYW5kbGVkUmVqZWN0aW9uKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMudW53cmFwVW5oYW5kbGVkUmVqZWN0aW9uPXZvaWQgMCxudWxsPT09KGk9dGhpcy51bndyYXBDb25zb2xlRXJyb3IpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksdGhpcy51bndyYXBDb25zb2xlRXJyb3I9dm9pZCAwfW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0PWUuYXV0b2NhcHR1cmVFeGNlcHRpb25zO3RoaXMucmVtb3RlRW5hYmxlZD0hIXR8fCExLHRoaXMuY29uZmlnPXRoaXMucmVxdWlyZWRDb25maWcoKSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbaGVdOnRoaXMucmVtb3RlRW5hYmxlZH0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1jYXB0dXJlRXhjZXB0aW9uKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIpO2UuJGV4Y2VwdGlvbl9wZXJzb25VUkw9XCJcIi5jb25jYXQodCxcIi9wcm9qZWN0L1wiKS5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sXCIvcGVyc29uL1wiKS5jb25jYXQodGhpcy5pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSksdGhpcy5pbnN0YW5jZS5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChlKX19ZnVuY3Rpb24gbGkoZSl7cmV0dXJuIUYoRXZlbnQpJiZ1aShlLEV2ZW50KX1mdW5jdGlvbiB1aShlLHQpe3RyeXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIGNpKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09PVwiW29iamVjdCBcIi5jb25jYXQodCxcIl1cIil9ZnVuY3Rpb24gZGkoZSl7cmV0dXJuIGNpKGUsXCJET01FcnJvclwiKX12YXIgaGk9L1xcKGVycm9yOiAoLiopXFwpLyxwaT01MCxfaT1cIj9cIjtmdW5jdGlvbiB2aShlLHQsaSxyKXt2YXIgbj17cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwiLGZpbGVuYW1lOmUsZnVuY3Rpb246XCI8YW5vbnltb3VzPlwiPT09dD9faTp0LGluX2FwcDohMH07cmV0dXJuIEYoaSl8fChuLmxpbmVubz1pKSxGKHIpfHwobi5jb2xubz1yKSxufXZhciBnaT0vXlxccyphdCAoXFxTKz8pKD86OihcXGQrKSkoPzo6KFxcZCspKVxccyokL2ksZmk9L15cXHMqYXQgKD86KC4rP1xcKSg/OiBcXFsuK1xcXSk/fC4qPykgP1xcKCg/OmFkZHJlc3MgYXQgKT8pPyg/OmFzeW5jICk/KCg/Ojxhbm9ueW1vdXM+fFstYS16XSs6fC4qYnVuZGxlfFxcLyk/Lio/KSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xcKT9cXHMqJC9pLG1pPS9cXCgoXFxTKikoPzo6KFxcZCspKSg/OjooXFxkKykpXFwpLyx5aT0vXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApPygoPzpbLWEtel0rKT86XFwvLio/fFxcW25hdGl2ZSBjb2RlXFxdfFteQF0qKD86YnVuZGxlfFxcZCtcXC5qcyl8XFwvW1xcd1xcLS4gLz1dKykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXHMqJC9pLGJpPS8oXFxTKykgbGluZSAoXFxkKykoPzogPiBldmFsIGxpbmUgXFxkKykqID4gZXZhbC9pLHdpPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dmFyIHI9dC5zb3J0KCgoZSx0KT0+ZVswXS10WzBdKSkubWFwKChlPT5lWzFdKSk7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPVtdLG49ZS5zcGxpdChcIlxcblwiKSxzPXQ7czxuLmxlbmd0aDtzKyspe3ZhciBvPW5bc107aWYoIShvLmxlbmd0aD4xMDI0KSl7dmFyIGE9aGkudGVzdChvKT9vLnJlcGxhY2UoaGksXCIkMVwiKTpvO2lmKCFhLm1hdGNoKC9cXFMqRXJyb3I6IC8pKXtmb3IodmFyIGwgb2Ygcil7dmFyIHU9bChhKTtpZih1KXtpLnB1c2godSk7YnJlYWt9fWlmKGkubGVuZ3RoPj1waSlicmVha319fXJldHVybiBmdW5jdGlvbihlKXtpZighZS5sZW5ndGgpcmV0dXJuW107dmFyIHQ9QXJyYXkuZnJvbShlKTtyZXR1cm4gdC5yZXZlcnNlKCksdC5zbGljZSgwLHBpKS5tYXAoKGU9Pnooeih7fSxlKSx7fSx7ZmlsZW5hbWU6ZS5maWxlbmFtZXx8U2kodCkuZmlsZW5hbWUsZnVuY3Rpb246ZS5mdW5jdGlvbnx8X2l9KSkpfShpKX19KC4uLltbMzAsZT0+e3ZhciB0PWdpLmV4ZWMoZSk7aWYodCl7dmFyWyxpLHIsbl09dDtyZXR1cm4gdmkoaSxfaSwrciwrbil9dmFyIHM9ZmkuZXhlYyhlKTtpZihzKXtpZihzWzJdJiYwPT09c1syXS5pbmRleE9mKFwiZXZhbFwiKSl7dmFyIG89bWkuZXhlYyhzWzJdKTtvJiYoc1syXT1vWzFdLHNbM109b1syXSxzWzRdPW9bM10pfXZhclthLGxdPUlpKHNbMV18fF9pLHNbMl0pO3JldHVybiB2aShsLGEsc1szXT8rc1szXTp2b2lkIDAsc1s0XT8rc1s0XTp2b2lkIDApfX1dLFs1MCxlPT57dmFyIHQ9eWkuZXhlYyhlKTtpZih0KXtpZih0WzNdJiZ0WzNdLmluZGV4T2YoXCIgPiBldmFsXCIpPi0xKXt2YXIgaT1iaS5leGVjKHRbM10pO2kmJih0WzFdPXRbMV18fFwiZXZhbFwiLHRbM109aVsxXSx0WzRdPWlbMl0sdFs1XT1cIlwiKX12YXIgcj10WzNdLG49dFsxXXx8X2k7cmV0dXJuW24scl09SWkobixyKSx2aShyLG4sdFs0XT8rdFs0XTp2b2lkIDAsdFs1XT8rdFs1XTp2b2lkIDApfX1dXSk7ZnVuY3Rpb24gU2koZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV18fHt9fXZhciBraSxFaSx4aSxJaT0oZSx0KT0+e3ZhciBpPS0xIT09ZS5pbmRleE9mKFwic2FmYXJpLWV4dGVuc2lvblwiKSxyPS0xIT09ZS5pbmRleE9mKFwic2FmYXJpLXdlYi1leHRlbnNpb25cIik7cmV0dXJuIGl8fHI/Wy0xIT09ZS5pbmRleE9mKFwiQFwiKT9lLnNwbGl0KFwiQFwiKVswXTpfaSxpP1wic2FmYXJpLWV4dGVuc2lvbjpcIi5jb25jYXQodCk6XCJzYWZhcmktd2ViLWV4dGVuc2lvbjpcIi5jb25jYXQodCldOltlLHRdfTt2YXIgQ2k9L14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvaTtmdW5jdGlvbiBQaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPWUuc3RhY2t0cmFjZXx8ZS5zdGFja3x8XCJcIixyPWZ1bmN0aW9uKGUpe2lmKGUmJkZpLnRlc3QoZS5tZXNzYWdlKSlyZXR1cm4gMTtyZXR1cm4gMH0oZSk7dHJ5e3ZhciBuPXdpLHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1nbG9iYWxUaGlzLl9wb3N0aG9nQ2h1bmtJZHM7aWYoIXQpcmV0dXJue307dmFyIGk9T2JqZWN0LmtleXModCk7cmV0dXJuIHhpJiZpLmxlbmd0aD09PUVpfHwoRWk9aS5sZW5ndGgseGk9aS5yZWR1Y2UoKChpLHIpPT57a2l8fChraT17fSk7dmFyIG49a2lbcl07aWYobilpW25bMF1dPW5bMV07ZWxzZSBmb3IodmFyIHM9ZShyKSxvPXMubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPXNbb10sbD1udWxsPT1hP3ZvaWQgMDphLmZpbGVuYW1lLHU9dFtyXTtpZihsJiZ1KXtpW2xdPXUsa2lbcl09W2wsdV07YnJlYWt9fXJldHVybiBpfSkse30pKSx4aX0odCk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2UuZmlsZW5hbWUmJihlLmNodW5rX2lkPWlbZS5maWxlbmFtZV0pfSkpLGV9KG4oaSxyKSxuKTtyZXR1cm4gcy5zbGljZSgwLHMubGVuZ3RoLXQpfWNhdGNoKGUpe31yZXR1cm5bXX12YXIgRmk9L01pbmlmaWVkIFJlYWN0IGVycm9yICNcXGQrOy9pO2Z1bmN0aW9uIFRpKGUsdCl7dmFyIGkscixuPVBpKGUpLHM9bnVsbD09PShpPW51bGw9PXQ/dm9pZCAwOnQuaGFuZGxlZCl8fHZvaWQgMD09PWl8fGksbz1udWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC5zeW50aGV0aWMpJiZ2b2lkIDAhPT1yJiZyO3JldHVybnskZXhjZXB0aW9uX2xpc3Q6W3t0eXBlOm51bGwhPXQmJnQub3ZlcnJpZGVFeGNlcHRpb25UeXBlP3Qub3ZlcnJpZGVFeGNlcHRpb25UeXBlOmUubmFtZSx2YWx1ZTpudWxsIT10JiZ0Lm92ZXJyaWRlRXhjZXB0aW9uTWVzc2FnZT90Lm92ZXJyaWRlRXhjZXB0aW9uTWVzc2FnZTpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2U7aWYodC5lcnJvciYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZXJyb3IubWVzc2FnZSlyZXR1cm4gdC5lcnJvci5tZXNzYWdlO3JldHVybiB0fShlKSxzdGFja3RyYWNlOntmcmFtZXM6bix0eXBlOlwicmF3XCJ9LG1lY2hhbmlzbTp7aGFuZGxlZDpzLHN5bnRoZXRpYzpvfX1dLCRleGNlcHRpb25fbGV2ZWw6XCJlcnJvclwifX1mdW5jdGlvbiBSaShlLHQpe3ZhciBpLHIsbixzPW51bGw9PT0oaT1udWxsPT10P3ZvaWQgMDp0LmhhbmRsZWQpfHx2b2lkIDA9PT1pfHxpLG89bnVsbD09PShyPW51bGw9PXQ/dm9pZCAwOnQuc3ludGhldGljKXx8dm9pZCAwPT09cnx8cixhPXt0eXBlOm51bGwhPXQmJnQub3ZlcnJpZGVFeGNlcHRpb25UeXBlP3Qub3ZlcnJpZGVFeGNlcHRpb25UeXBlOm51bGwhPT0obj1udWxsPT10P3ZvaWQgMDp0LmRlZmF1bHRFeGNlcHRpb25UeXBlKSYmdm9pZCAwIT09bj9uOlwiRXJyb3JcIix2YWx1ZTpudWxsIT10JiZ0Lm92ZXJyaWRlRXhjZXB0aW9uTWVzc2FnZT90Lm92ZXJyaWRlRXhjZXB0aW9uTWVzc2FnZTplfHwobnVsbD09dD92b2lkIDA6dC5kZWZhdWx0RXhjZXB0aW9uTWVzc2FnZSksbWVjaGFuaXNtOntoYW5kbGVkOnMsc3ludGhldGljOm99fTtpZihudWxsIT10JiZ0LnN5bnRoZXRpY0V4Y2VwdGlvbil7dmFyIGw9UGkodC5zeW50aGV0aWNFeGNlcHRpb24sMSk7bC5sZW5ndGgmJihhLnN0YWNrdHJhY2U9e2ZyYW1lczpsLHR5cGU6XCJyYXdcIn0pfXJldHVybnskZXhjZXB0aW9uX2xpc3Q6W2FdLCRleGNlcHRpb25fbGV2ZWw6XCJlcnJvclwifX1mdW5jdGlvbiAkaShlKXtyZXR1cm4gVChlKSYmIVIoZSkmJmYuaW5kZXhPZihlKT49MH1mdW5jdGlvbiBPaShlLHQpe3ZhciBpLHIsbj1udWxsPT09KGk9bnVsbD09dD92b2lkIDA6dC5oYW5kbGVkKXx8dm9pZCAwPT09aXx8aSxzPW51bGw9PT0ocj1udWxsPT10P3ZvaWQgMDp0LnN5bnRoZXRpYyl8fHZvaWQgMD09PXJ8fHIsbz1udWxsIT10JiZ0Lm92ZXJyaWRlRXhjZXB0aW9uVHlwZT90Lm92ZXJyaWRlRXhjZXB0aW9uVHlwZTpsaShlKT9lLmNvbnN0cnVjdG9yLm5hbWU6XCJFcnJvclwiLGE9bnVsbCE9dCYmdC5vdmVycmlkZUV4Y2VwdGlvbk1lc3NhZ2U/dC5vdmVycmlkZUV4Y2VwdGlvbk1lc3NhZ2U6XCJOb24tRXJyb3IgXCIuY29uY2F0KFwiZXhjZXB0aW9uXCIsXCIgY2FwdHVyZWQgd2l0aCBrZXlzOiBcIixmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NDAsaT1PYmplY3Qua2V5cyhlKTtpZihpLnNvcnQoKSwhaS5sZW5ndGgpcmV0dXJuXCJbb2JqZWN0IGhhcyBubyBrZXlzXVwiO2Zvcih2YXIgcj1pLmxlbmd0aDtyPjA7ci0tKXt2YXIgbj1pLnNsaWNlKDAscikuam9pbihcIiwgXCIpO2lmKCEobi5sZW5ndGg+dCkpcmV0dXJuIHI9PT1pLmxlbmd0aHx8bi5sZW5ndGg8PXQ/bjpcIlwiLmNvbmNhdChuLnNsaWNlKDAsdCksXCIuLi5cIil9cmV0dXJuXCJcIn0oZSkpLGw9e3R5cGU6byx2YWx1ZTphLG1lY2hhbmlzbTp7aGFuZGxlZDpuLHN5bnRoZXRpYzpzfX07aWYobnVsbCE9dCYmdC5zeW50aGV0aWNFeGNlcHRpb24pe3ZhciB1PVBpKG51bGw9PXQ/dm9pZCAwOnQuc3ludGhldGljRXhjZXB0aW9uLDEpO3UubGVuZ3RoJiYobC5zdGFja3RyYWNlPXtmcmFtZXM6dSx0eXBlOlwicmF3XCJ9KX1yZXR1cm57JGV4Y2VwdGlvbl9saXN0OltsXSwkZXhjZXB0aW9uX2xldmVsOiRpKGUubGV2ZWwpP2UubGV2ZWw6XCJlcnJvclwifX1mdW5jdGlvbiBNaShlLHQpe3ZhcntlcnJvcjppLGV2ZW50OnJ9PWUsbj17JGV4Y2VwdGlvbl9saXN0OltdfSxzPWl8fHI7aWYoZGkocyl8fGZ1bmN0aW9uKGUpe3JldHVybiBjaShlLFwiRE9NRXhjZXB0aW9uXCIpfShzKSl7dmFyIG89cztpZihmdW5jdGlvbihlKXtyZXR1cm5cInN0YWNrXCJpbiBlfShzKSluPVRpKHMsdCk7ZWxzZXt2YXIgYT1vLm5hbWV8fChkaShvKT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIiksbD1vLm1lc3NhZ2U/XCJcIi5jb25jYXQoYSxcIjogXCIpLmNvbmNhdChvLm1lc3NhZ2UpOmEsdT1kaShvKT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIjtuPVJpKGwseih6KHt9LHQpLHt9LHtvdmVycmlkZUV4Y2VwdGlvblR5cGU6dSxkZWZhdWx0RXhjZXB0aW9uTWVzc2FnZTpsfSkpfXJldHVyblwiY29kZVwiaW4gbyYmKG4uJGV4Y2VwdGlvbl9ET01FeGNlcHRpb25fY29kZT1cIlwiLmNvbmNhdChvLmNvZGUpKSxufWlmKGZ1bmN0aW9uKGUpe3JldHVybiBjaShlLFwiRXJyb3JFdmVudFwiKX0ocykmJnMuZXJyb3IpcmV0dXJuIFRpKHMuZXJyb3IsdCk7aWYoZnVuY3Rpb24oZSl7c3dpdGNoKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7Y2FzZVwiW29iamVjdCBFcnJvcl1cIjpjYXNlXCJbb2JqZWN0IEV4Y2VwdGlvbl1cIjpjYXNlXCJbb2JqZWN0IERPTUV4Y2VwdGlvbl1cIjpjYXNlXCJbb2JqZWN0IERPTUVycm9yXVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuIHVpKGUsRXJyb3IpfX0ocykpcmV0dXJuIFRpKHMsdCk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGNpKGUsXCJPYmplY3RcIil9KHMpfHxsaShzKSlyZXR1cm4gT2kocyx0KTtpZihGKGkpJiZUKHIpKXt2YXIgYz1cIkVycm9yXCIsZD1yLGg9ci5tYXRjaChDaSk7cmV0dXJuIGgmJihjPWhbMV0sZD1oWzJdKSxSaShkLHooeih7fSx0KSx7fSx7b3ZlcnJpZGVFeGNlcHRpb25UeXBlOmMsZGVmYXVsdEV4Y2VwdGlvbk1lc3NhZ2U6ZH0pKX1yZXR1cm4gUmkocyx0KX1mdW5jdGlvbiBBaShlKXt2YXIgdCxpO3JldHVybihudWxsPT09KHQ9SlNPTi5zdHJpbmdpZnkoZSwoaT1bXSxmdW5jdGlvbihlLHQpe2lmKEModCkpe2Zvcig7aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSE9PXRoaXM7KWkucG9wKCk7cmV0dXJuIGkuaW5jbHVkZXModCk/XCJbQ2lyY3VsYXJdXCI6KGkucHVzaCh0KSx0KX1yZXR1cm4gdH0pKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKXx8MH1mdW5jdGlvbiBMaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NjYwNjAyOC44O2lmKGUuc2l6ZT49dCYmZS5kYXRhLmxlbmd0aD4xKXt2YXIgaT1NYXRoLmZsb29yKGUuZGF0YS5sZW5ndGgvMikscj1lLmRhdGEuc2xpY2UoMCxpKSxuPWUuZGF0YS5zbGljZShpKTtyZXR1cm5bTGkoe3NpemU6QWkociksZGF0YTpyLHNlc3Npb25JZDplLnNlc3Npb25JZCx3aW5kb3dJZDplLndpbmRvd0lkfSksTGkoe3NpemU6QWkobiksZGF0YTpuLHNlc3Npb25JZDplLnNlc3Npb25JZCx3aW5kb3dJZDplLndpbmRvd0lkfSldLmZsYXRNYXAoKGU9PmUpKX1yZXR1cm5bZV19dmFyIERpPShlPT4oZVtlLkRvbUNvbnRlbnRMb2FkZWQ9MF09XCJEb21Db250ZW50TG9hZGVkXCIsZVtlLkxvYWQ9MV09XCJMb2FkXCIsZVtlLkZ1bGxTbmFwc2hvdD0yXT1cIkZ1bGxTbmFwc2hvdFwiLGVbZS5JbmNyZW1lbnRhbFNuYXBzaG90PTNdPVwiSW5jcmVtZW50YWxTbmFwc2hvdFwiLGVbZS5NZXRhPTRdPVwiTWV0YVwiLGVbZS5DdXN0b209NV09XCJDdXN0b21cIixlW2UuUGx1Z2luPTZdPVwiUGx1Z2luXCIsZSkpKERpfHx7fSkscWk9KGU9PihlW2UuTXV0YXRpb249MF09XCJNdXRhdGlvblwiLGVbZS5Nb3VzZU1vdmU9MV09XCJNb3VzZU1vdmVcIixlW2UuTW91c2VJbnRlcmFjdGlvbj0yXT1cIk1vdXNlSW50ZXJhY3Rpb25cIixlW2UuU2Nyb2xsPTNdPVwiU2Nyb2xsXCIsZVtlLlZpZXdwb3J0UmVzaXplPTRdPVwiVmlld3BvcnRSZXNpemVcIixlW2UuSW5wdXQ9NV09XCJJbnB1dFwiLGVbZS5Ub3VjaE1vdmU9Nl09XCJUb3VjaE1vdmVcIixlW2UuTWVkaWFJbnRlcmFjdGlvbj03XT1cIk1lZGlhSW50ZXJhY3Rpb25cIixlW2UuU3R5bGVTaGVldFJ1bGU9OF09XCJTdHlsZVNoZWV0UnVsZVwiLGVbZS5DYW52YXNNdXRhdGlvbj05XT1cIkNhbnZhc011dGF0aW9uXCIsZVtlLkZvbnQ9MTBdPVwiRm9udFwiLGVbZS5Mb2c9MTFdPVwiTG9nXCIsZVtlLkRyYWc9MTJdPVwiRHJhZ1wiLGVbZS5TdHlsZURlY2xhcmF0aW9uPTEzXT1cIlN0eWxlRGVjbGFyYXRpb25cIixlW2UuU2VsZWN0aW9uPTE0XT1cIlNlbGVjdGlvblwiLGVbZS5BZG9wdGVkU3R5bGVTaGVldD0xNV09XCJBZG9wdGVkU3R5bGVTaGVldFwiLGVbZS5DdXN0b21FbGVtZW50PTE2XT1cIkN1c3RvbUVsZW1lbnRcIixlKSkocWl8fHt9KSxOaT1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLEJpPVwicmVkYWN0ZWRcIixIaT17aW5pdGlhdG9yVHlwZXM6W1wiYXVkaW9cIixcImJlYWNvblwiLFwiYm9keVwiLFwiY3NzXCIsXCJlYXJseS1oaW50XCIsXCJlbWJlZFwiLFwiZmV0Y2hcIixcImZyYW1lXCIsXCJpZnJhbWVcIixcImljb25cIixcImltYWdlXCIsXCJpbWdcIixcImlucHV0XCIsXCJsaW5rXCIsXCJuYXZpZ2F0aW9uXCIsXCJvYmplY3RcIixcInBpbmdcIixcInNjcmlwdFwiLFwidHJhY2tcIixcInZpZGVvXCIsXCJ4bWxodHRwcmVxdWVzdFwiXSxtYXNrUmVxdWVzdEZuOmU9PmUscmVjb3JkSGVhZGVyczohMSxyZWNvcmRCb2R5OiExLHJlY29yZEluaXRpYWxSZXF1ZXN0czohMSxyZWNvcmRQZXJmb3JtYW5jZTohMSxwZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZTpbXCJmaXJzdC1pbnB1dFwiLFwibmF2aWdhdGlvblwiLFwicGFpbnRcIixcInJlc291cmNlXCJdLHBheWxvYWRTaXplTGltaXRCeXRlczoxZTYscGF5bG9hZEhvc3REZW55TGlzdDpbXCIubHItaW5nZXN0LmlvXCIsXCIuaW5nZXN0LnNlbnRyeS5pb1wiLFwiLmNsYXJpdHkubXNcIixcImFuYWx5dGljcy5nb29nbGUuY29tXCJdfSxqaT1bXCJhdXRob3JpemF0aW9uXCIsXCJ4LWZvcndhcmRlZC1mb3JcIixcImF1dGhvcml6YXRpb25cIixcImNvb2tpZVwiLFwic2V0LWNvb2tpZVwiLFwieC1hcGkta2V5XCIsXCJ4LXJlYWwtaXBcIixcInJlbW90ZS1hZGRyXCIsXCJmb3J3YXJkZWRcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcIngtY3NyZi10b2tlblwiLFwieC1jc3JmdG9rZW5cIixcIngteHNyZi10b2tlblwiXSxVaT1bXCJwYXNzd29yZFwiLFwic2VjcmV0XCIsXCJwYXNzd2RcIixcImFwaV9rZXlcIixcImFwaWtleVwiLFwiYXV0aFwiLFwiY3JlZGVudGlhbHNcIixcIm15c3FsX3B3ZFwiLFwicHJpdmF0ZWtleVwiLFwicHJpdmF0ZV9rZXlcIixcInRva2VuXCJdLHppPVtcIi9zL1wiLFwiL2UvXCIsXCIvaS9cIl07ZnVuY3Rpb24gV2koZSx0LGkscil7aWYoTyhlKSlyZXR1cm4gZTt2YXIgbj0obnVsbD09dD92b2lkIDA6dFtcImNvbnRlbnQtbGVuZ3RoXCJdKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCbG9iKFtlXSkuc2l6ZX0oZSk7cmV0dXJuIFQobikmJihuPXBhcnNlSW50KG4pKSxuPmk/TmkrXCIgXCIuY29uY2F0KHIsXCIgYm9keSB0b28gbGFyZ2UgdG8gcmVjb3JkIChcIikuY29uY2F0KG4sXCIgYnl0ZXMpXCIpOmV9ZnVuY3Rpb24gVmkoZSx0KXtpZihPKGUpKXJldHVybiBlO3ZhciBpPWU7cmV0dXJuIF90KGksITEpfHwoaT1OaStcIiBcIit0K1wiIGJvZHkgXCIrQmkpLFkoVWksKGU9Pnt2YXIgcixuO251bGwhPT0ocj1pKSYmdm9pZCAwIT09ciYmci5sZW5ndGgmJi0xIT09KG51bGw9PT0obj1pKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pbmRleE9mKGUpKSYmKGk9TmkrXCIgXCIrdCtcIiBib2R5IFwiK0JpK1wiIGFzIG1pZ2h0IGNvbnRhaW46IFwiK2UpfSkpLGl9dmFyIEdpPShlLHQpPT57dmFyIGkscixuLHM9e3BheWxvYWRTaXplTGltaXRCeXRlczpIaS5wYXlsb2FkU2l6ZUxpbWl0Qnl0ZXMscGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmU6Wy4uLkhpLnBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlXSxwYXlsb2FkSG9zdERlbnlMaXN0OlsuLi50LnBheWxvYWRIb3N0RGVueUxpc3R8fFtdLC4uLkhpLnBheWxvYWRIb3N0RGVueUxpc3RdfSxvPSExIT09ZS5zZXNzaW9uX3JlY29yZGluZy5yZWNvcmRIZWFkZXJzJiZ0LnJlY29yZEhlYWRlcnMsYT0hMSE9PWUuc2Vzc2lvbl9yZWNvcmRpbmcucmVjb3JkQm9keSYmdC5yZWNvcmRCb2R5LGw9ITEhPT1lLmNhcHR1cmVfcGVyZm9ybWFuY2UmJnQucmVjb3JkUGVyZm9ybWFuY2UsdT0oaT1zLG49TWF0aC5taW4oMWU2LG51bGwhPT0ocj1pLnBheWxvYWRTaXplTGltaXRCeXRlcykmJnZvaWQgMCE9PXI/cjoxZTYpLGU9PihudWxsIT1lJiZlLnJlcXVlc3RCb2R5JiYoZS5yZXF1ZXN0Qm9keT1XaShlLnJlcXVlc3RCb2R5LGUucmVxdWVzdEhlYWRlcnMsbixcIlJlcXVlc3RcIikpLG51bGwhPWUmJmUucmVzcG9uc2VCb2R5JiYoZS5yZXNwb25zZUJvZHk9V2koZS5yZXNwb25zZUJvZHksZS5yZXNwb25zZUhlYWRlcnMsbixcIlJlc3BvbnNlXCIpKSxlKSksYz10PT57cmV0dXJuIHUoKChlLHQpPT57dmFyIGkscj1TdChlLm5hbWUpLG49MD09PXQuaW5kZXhPZihcImh0dHBcIik/bnVsbD09PShpPVN0KHQpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXRobmFtZTp0O1wiL1wiPT09biYmKG49XCJcIik7dmFyIHM9bnVsbD09cj92b2lkIDA6ci5wYXRobmFtZS5yZXBsYWNlKG58fFwiXCIsXCJcIik7aWYoIShyJiZzJiZ6aS5zb21lKChlPT4wPT09cy5pbmRleE9mKGUpKSkpKXJldHVybiBlfSkoKHI9KGk9dCkucmVxdWVzdEhlYWRlcnMsTyhyKXx8WShPYmplY3Qua2V5cyhudWxsIT1yP3I6e30pLChlPT57amkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSYmKHJbZV09QmkpfSkpLGkpLGUuYXBpX2hvc3QpKTt2YXIgaSxyfSxkPUkoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrTmV0d29ya1JlcXVlc3RGbik7cmV0dXJuIGQmJkkoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKSYmTi53YXJuKFwiQm90aCBgbWFza05ldHdvcmtSZXF1ZXN0Rm5gIGFuZCBgbWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbmAgYXJlIGRlZmluZWQuIGBtYXNrTmV0d29ya1JlcXVlc3RGbmAgd2lsbCBiZSBpZ25vcmVkLlwiKSxkJiYoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuPXQ9Pnt2YXIgaT1lLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tOZXR3b3JrUmVxdWVzdEZuKHt1cmw6dC5uYW1lfSk7cmV0dXJuIHooeih7fSx0KSx7fSx7bmFtZTpudWxsPT1pP3ZvaWQgMDppLnVybH0pfSkscy5tYXNrUmVxdWVzdEZuPUkoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKT90PT57dmFyIGkscixuLHM9Yyh0KTtyZXR1cm4gcyYmbnVsbCE9PShpPW51bGw9PT0ocj0obj1lLnNlc3Npb25fcmVjb3JkaW5nKS5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jYWxsKG4scykpJiZ2b2lkIDAhPT1pP2k6dm9pZCAwfTplPT5mdW5jdGlvbihlKXtpZighRihlKSlyZXR1cm4gZS5yZXF1ZXN0Qm9keT1WaShlLnJlcXVlc3RCb2R5LFwiUmVxdWVzdFwiKSxlLnJlc3BvbnNlQm9keT1WaShlLnJlc3BvbnNlQm9keSxcIlJlc3BvbnNlXCIpLGV9KGMoZSkpLHooeih6KHt9LEhpKSxzKSx7fSx7cmVjb3JkSGVhZGVyczpvLHJlY29yZEJvZHk6YSxyZWNvcmRQZXJmb3JtYW5jZTpsLHJlY29yZEluaXRpYWxSZXF1ZXN0czpsfSl9O2Z1bmN0aW9uIEppKGUsdCxpLHIsbil7cmV0dXJuIHQ+aSYmKE4ud2FybihcIm1pbiBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIG1heC5cIiksdD1pKSxNKGUpP2U+aT8ociYmTi53YXJuKHIrXCIgY2Fubm90IGJlICBncmVhdGVyIHRoYW4gbWF4OiBcIitpK1wiLiBVc2luZyBtYXggdmFsdWUgaW5zdGVhZC5cIiksaSk6ZTx0PyhyJiZOLndhcm4ocitcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIrdCtcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLHQpOmU6KHImJk4ud2FybihyK1wiIG11c3QgYmUgYSBudW1iZXIuIHVzaW5nIG1heCBvciBmYWxsYmFjay4gbWF4OiBcIitpK1wiLCBmYWxsYmFjazogXCIrbiksSmkobnx8aSx0LGkscikpfWNsYXNzIFlpe2NvbnN0cnVjdG9yKGUpe3ZhciB0LGkscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307Vyh0aGlzLFwiYnVja2V0U2l6ZVwiLDEwMCksVyh0aGlzLFwicmVmaWxsUmF0ZVwiLDEwKSxXKHRoaXMsXCJtdXRhdGlvbkJ1Y2tldHNcIix7fSksVyh0aGlzLFwibG9nZ2VkVHJhY2tlclwiLHt9KSxXKHRoaXMsXCJyZWZpbGxCdWNrZXRzXCIsKCgpPT57T2JqZWN0LmtleXModGhpcy5tdXRhdGlvbkJ1Y2tldHMpLmZvckVhY2goKGU9Pnt0aGlzLm11dGF0aW9uQnVja2V0c1tlXT10aGlzLm11dGF0aW9uQnVja2V0c1tlXSt0aGlzLnJlZmlsbFJhdGUsdGhpcy5tdXRhdGlvbkJ1Y2tldHNbZV0+PXRoaXMuYnVja2V0U2l6ZSYmZGVsZXRlIHRoaXMubXV0YXRpb25CdWNrZXRzW2VdfSkpfSkpLFcodGhpcyxcImdldE5vZGVPclJlbGV2YW50UGFyZW50XCIsKGU9Pnt2YXIgdD10aGlzLnJyd2ViLm1pcnJvci5nZXROb2RlKGUpO2lmKFwic3ZnXCIhPT0obnVsbD09dD92b2lkIDA6dC5ub2RlTmFtZSkmJnQgaW5zdGFuY2VvZiBFbGVtZW50KXt2YXIgaT10LmNsb3Nlc3QoXCJzdmdcIik7aWYoaSlyZXR1cm5bdGhpcy5ycndlYi5taXJyb3IuZ2V0SWQoaSksaV19cmV0dXJuW2UsdF19KSksVyh0aGlzLFwibnVtYmVyT2ZDaGFuZ2VzXCIsKGU9Pnt2YXIgdCxpLHIsbixzLG8sYSxsO3JldHVybihudWxsIT09KHQ9bnVsbD09PShpPWUucmVtb3Zlcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkubGVuZ3RoKSYmdm9pZCAwIT09dD90OjApKyhudWxsIT09KHI9bnVsbD09PShuPWUuYXR0cmlidXRlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubGVuZ3RoKSYmdm9pZCAwIT09cj9yOjApKyhudWxsIT09KHM9bnVsbD09PShvPWUudGV4dHMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCkmJnZvaWQgMCE9PXM/czowKSsobnVsbCE9PShhPW51bGw9PT0obD1lLmFkZHMpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKX0pKSxXKHRoaXMsXCJ0aHJvdHRsZU11dGF0aW9uc1wiLChlPT57aWYoMyE9PWUudHlwZXx8MCE9PWUuZGF0YS5zb3VyY2UpcmV0dXJuIGU7dmFyIHQ9ZS5kYXRhLGk9dGhpcy5udW1iZXJPZkNoYW5nZXModCk7dC5hdHRyaWJ1dGVzJiYodC5hdHRyaWJ1dGVzPXQuYXR0cmlidXRlcy5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIsW24sc109dGhpcy5nZXROb2RlT3JSZWxldmFudFBhcmVudChlLmlkKTtpZigwPT09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl0pcmV0dXJuITE7KHRoaXMubXV0YXRpb25CdWNrZXRzW25dPW51bGwhPT0odD10aGlzLm11dGF0aW9uQnVja2V0c1tuXSkmJnZvaWQgMCE9PXQ/dDp0aGlzLmJ1Y2tldFNpemUsdGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl09TWF0aC5tYXgodGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl0tMSwwKSwwPT09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl0pJiYodGhpcy5sb2dnZWRUcmFja2VyW25dfHwodGhpcy5sb2dnZWRUcmFja2VyW25dPSEwLG51bGw9PT0oaT0ocj10aGlzLm9wdGlvbnMpLm9uQmxvY2tlZE5vZGUpfHx2b2lkIDA9PT1pfHxpLmNhbGwocixuLHMpKSk7cmV0dXJuIGV9KSkpO3ZhciByPXRoaXMubnVtYmVyT2ZDaGFuZ2VzKHQpO3JldHVybiAwIT09cnx8aT09PXI/ZTp2b2lkIDB9KSksdGhpcy5ycndlYj1lLHRoaXMub3B0aW9ucz1yLHRoaXMucmVmaWxsUmF0ZT1KaShudWxsIT09KHQ9dGhpcy5vcHRpb25zLnJlZmlsbFJhdGUpJiZ2b2lkIDAhPT10P3Q6dGhpcy5yZWZpbGxSYXRlLDAsMTAwLFwibXV0YXRpb24gdGhyb3R0bGluZyByZWZpbGwgcmF0ZVwiKSx0aGlzLmJ1Y2tldFNpemU9SmkobnVsbCE9PShpPXRoaXMub3B0aW9ucy5idWNrZXRTaXplKSYmdm9pZCAwIT09aT9pOnRoaXMuYnVja2V0U2l6ZSwwLDEwMCxcIm11dGF0aW9uIHRocm90dGxpbmcgYnVja2V0IHNpemVcIiksc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5yZWZpbGxCdWNrZXRzKCl9KSwxZTMpfX12YXIgS2k9VWludDhBcnJheSxYaT1VaW50MTZBcnJheSxRaT1VaW50MzJBcnJheSxaaT1uZXcgS2koWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLGVyPW5ldyBLaShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSx0cj1uZXcgS2koWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxpcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1uZXcgWGkoMzEpLHI9MDtyPDMxOysrcilpW3JdPXQrPTE8PGVbci0xXTt2YXIgbj1uZXcgUWkoaVszMF0pO2ZvcihyPTE7cjwzMDsrK3IpZm9yKHZhciBzPWlbcl07czxpW3IrMV07KytzKW5bc109cy1pW3JdPDw1fHI7cmV0dXJuW2ksbl19LHJyPWlyKFppLDIpLG5yPXJyWzBdLHNyPXJyWzFdO25yWzI4XT0yNTgsc3JbMjU4XT0yODtmb3IodmFyIG9yPWlyKGVyLDApWzFdLGFyPW5ldyBYaSgzMjc2OCksbHI9MDtscjwzMjc2ODsrK2xyKXt2YXIgdXI9KDQzNjkwJmxyKT4+PjF8KDIxODQ1JmxyKTw8MTt1cj0oNjE2ODAmKHVyPSg1MjQyOCZ1cik+Pj4yfCgxMzEwNyZ1cik8PDIpKT4+PjR8KDM4NTUmdXIpPDw0LGFyW2xyXT0oKDY1MjgwJnVyKT4+Pjh8KDI1NSZ1cik8PDgpPj4+MX12YXIgY3I9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxuPTAscz1uZXcgWGkodCk7bjxyOysrbikrK3NbZVtuXS0xXTt2YXIgbyxhPW5ldyBYaSh0KTtmb3Iobj0wO248dDsrK24pYVtuXT1hW24tMV0rc1tuLTFdPDwxO2lmKGkpe289bmV3IFhpKDE8PHQpO3ZhciBsPTE1LXQ7Zm9yKG49MDtuPHI7KytuKWlmKGVbbl0pZm9yKHZhciB1PW48PDR8ZVtuXSxjPXQtZVtuXSxkPWFbZVtuXS0xXSsrPDxjLGg9ZHwoMTw8YyktMTtkPD1oOysrZClvW2FyW2RdPj4+bF09dX1lbHNlIGZvcihvPW5ldyBYaShyKSxuPTA7bjxyOysrbilvW25dPWFyW2FbZVtuXS0xXSsrXT4+PjE1LWVbbl07cmV0dXJuIG99LGRyPW5ldyBLaSgyODgpO2Zvcihscj0wO2xyPDE0NDsrK2xyKWRyW2xyXT04O2Zvcihscj0xNDQ7bHI8MjU2OysrbHIpZHJbbHJdPTk7Zm9yKGxyPTI1NjtscjwyODA7Kytscilkcltscl09Nztmb3IobHI9MjgwO2xyPDI4ODsrK2xyKWRyW2xyXT04O3ZhciBocj1uZXcgS2koMzIpO2Zvcihscj0wO2xyPDMyOysrbHIpaHJbbHJdPTU7dmFyIHByPWNyKGRyLDksMCksX3I9Y3IoaHIsNSwwKSx2cj1mdW5jdGlvbihlKXtyZXR1cm4oZS84Pj4wKSsoNyZlJiYxKX0sZ3I9ZnVuY3Rpb24oZSx0LGkpeyhudWxsPT1pfHxpPmUubGVuZ3RoKSYmKGk9ZS5sZW5ndGgpO3ZhciByPW5ldyhlIGluc3RhbmNlb2YgWGk/WGk6ZSBpbnN0YW5jZW9mIFFpP1FpOktpKShpLXQpO3JldHVybiByLnNldChlLnN1YmFycmF5KHQsaSkpLHJ9LGZyPWZ1bmN0aW9uKGUsdCxpKXtpPDw9NyZ0O3ZhciByPXQvOD4+MDtlW3JdfD1pLGVbcisxXXw9aT4+Pjh9LG1yPWZ1bmN0aW9uKGUsdCxpKXtpPDw9NyZ0O3ZhciByPXQvOD4+MDtlW3JdfD1pLGVbcisxXXw9aT4+PjgsZVtyKzJdfD1pPj4+MTZ9LHlyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLHI9MDtyPGUubGVuZ3RoOysrcillW3JdJiZpLnB1c2goe3M6cixmOmVbcl19KTt2YXIgbj1pLmxlbmd0aCxzPWkuc2xpY2UoKTtpZighbilyZXR1cm5bbmV3IEtpKDApLDBdO2lmKDE9PW4pe3ZhciBvPW5ldyBLaShpWzBdLnMrMSk7cmV0dXJuIG9baVswXS5zXT0xLFtvLDFdfWkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mLXQuZn0pKSxpLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBhPWlbMF0sbD1pWzFdLHU9MCxjPTEsZD0yO2ZvcihpWzBdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTtjIT1uLTE7KWE9aVtpW3VdLmY8aVtkXS5mP3UrKzpkKytdLGw9aVt1IT1jJiZpW3VdLmY8aVtkXS5mP3UrKzpkKytdLGlbYysrXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07dmFyIGg9c1swXS5zO2ZvcihyPTE7cjxuOysrcilzW3JdLnM+aCYmKGg9c1tyXS5zKTt2YXIgcD1uZXcgWGkoaCsxKSxfPWJyKGlbYy0xXSxwLDApO2lmKF8+dCl7cj0wO3ZhciB2PTAsZz1fLXQsZj0xPDxnO2ZvcihzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHBbdC5zXS1wW2Uuc118fGUuZi10LmZ9KSk7cjxuOysrcil7dmFyIG09c1tyXS5zO2lmKCEocFttXT50KSlicmVhazt2Kz1mLSgxPDxfLXBbbV0pLHBbbV09dH1mb3Iodj4+Pj1nO3Y+MDspe3ZhciB5PXNbcl0ucztwW3ldPHQ/di09MTw8dC1wW3ldKystMTorK3J9Zm9yKDtyPj0wJiZ2Oy0tcil7dmFyIGI9c1tyXS5zO3BbYl09PXQmJigtLXBbYl0sKyt2KX1fPXR9cmV0dXJuW25ldyBLaShwKSxfXX0sYnI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybi0xPT1lLnM/TWF0aC5tYXgoYnIoZS5sLHQsaSsxKSxicihlLnIsdCxpKzEpKTp0W2Uuc109aX0sd3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QmJiFlWy0tdF07KTtmb3IodmFyIGk9bmV3IFhpKCsrdCkscj0wLG49ZVswXSxzPTEsbz1mdW5jdGlvbihlKXtpW3IrK109ZX0sYT0xO2E8PXQ7KythKWlmKGVbYV09PW4mJmEhPXQpKytzO2Vsc2V7aWYoIW4mJnM+Mil7Zm9yKDtzPjEzODtzLT0xMzgpbygzMjc1NCk7cz4yJiYobyhzPjEwP3MtMTE8PDV8Mjg2OTA6cy0zPDw1fDEyMzA1KSxzPTApfWVsc2UgaWYocz4zKXtmb3IobyhuKSwtLXM7cz42O3MtPTYpbyg4MzA0KTtzPjImJihvKHMtMzw8NXw4MjA4KSxzPTApfWZvcig7cy0tOylvKG4pO3M9MSxuPWVbYV19cmV0dXJuW2kuc3ViYXJyYXkoMCxyKSx0XX0sU3I9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MCxyPTA7cjx0Lmxlbmd0aDsrK3IpaSs9ZVtyXSp0W3JdO3JldHVybiBpfSxrcj1mdW5jdGlvbihlLHQsaSl7dmFyIHI9aS5sZW5ndGgsbj12cih0KzIpO2Vbbl09MjU1JnIsZVtuKzFdPXI+Pj44LGVbbisyXT0yNTVeZVtuXSxlW24rM109MjU1XmVbbisxXTtmb3IodmFyIHM9MDtzPHI7KytzKWVbbitzKzRdPWlbc107cmV0dXJuIDgqKG4rNCtyKX0sRXI9ZnVuY3Rpb24oZSx0LGkscixuLHMsbyxhLGwsdSxjKXtmcih0LGMrKyxpKSwrK25bMjU2XTtmb3IodmFyIGQ9eXIobiwxNSksaD1kWzBdLHA9ZFsxXSxfPXlyKHMsMTUpLHY9X1swXSxnPV9bMV0sZj13cihoKSxtPWZbMF0seT1mWzFdLGI9d3Iodiksdz1iWzBdLFM9YlsxXSxrPW5ldyBYaSgxOSksRT0wO0U8bS5sZW5ndGg7KytFKWtbMzEmbVtFXV0rKztmb3IoRT0wO0U8dy5sZW5ndGg7KytFKWtbMzEmd1tFXV0rKztmb3IodmFyIHg9eXIoayw3KSxJPXhbMF0sQz14WzFdLFA9MTk7UD40JiYhSVt0cltQLTFdXTstLVApO3ZhciBGLFQsUiwkLE89dSs1PDwzLE09U3IobixkcikrU3IocyxocikrbyxBPVNyKG4saCkrU3Iocyx2KStvKzE0KzMqUCtTcihrLEkpKygyKmtbMTZdKzMqa1sxN10rNyprWzE4XSk7aWYoTzw9TSYmTzw9QSlyZXR1cm4ga3IodCxjLGUuc3ViYXJyYXkobCxsK3UpKTtpZihmcih0LGMsMSsoQTxNKSksYys9MixBPE0pe0Y9Y3IoaCxwLDApLFQ9aCxSPWNyKHYsZywwKSwkPXY7dmFyIEw9Y3IoSSxDLDApO2ZyKHQsYyx5LTI1NyksZnIodCxjKzUsUy0xKSxmcih0LGMrMTAsUC00KSxjKz0xNDtmb3IoRT0wO0U8UDsrK0UpZnIodCxjKzMqRSxJW3RyW0VdXSk7Yys9MypQO2Zvcih2YXIgRD1bbSx3XSxxPTA7cTwyOysrcSl7dmFyIE49RFtxXTtmb3IoRT0wO0U8Ti5sZW5ndGg7KytFKXt2YXIgQj0zMSZOW0VdO2ZyKHQsYyxMW0JdKSxjKz1JW0JdLEI+MTUmJihmcih0LGMsTltFXT4+PjUmMTI3KSxjKz1OW0VdPj4+MTIpfX19ZWxzZSBGPXByLFQ9ZHIsUj1fciwkPWhyO2ZvcihFPTA7RTxhOysrRSlpZihyW0VdPjI1NSl7Qj1yW0VdPj4+MTgmMzE7bXIodCxjLEZbQisyNTddKSxjKz1UW0IrMjU3XSxCPjcmJihmcih0LGMscltFXT4+PjIzJjMxKSxjKz1aaVtCXSk7dmFyIEg9MzEmcltFXTttcih0LGMsUltIXSksYys9JFtIXSxIPjMmJihtcih0LGMscltFXT4+PjUmODE5MSksYys9ZXJbSF0pfWVsc2UgbXIodCxjLEZbcltFXV0pLGMrPVRbcltFXV07cmV0dXJuIG1yKHQsYyxGWzI1Nl0pLGMrVFsyNTZdfSx4cj1uZXcgUWkoWzY1NTQwLDEzMTA4MCwxMzEwODgsMTMxMTA0LDI2MjE3NiwxMDQ4NzA0LDEwNDg4MzIsMjExNDU2MCwyMTE3NjMyXSksSXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IFFpKDI1NiksdD0wO3Q8MjU2OysrdCl7Zm9yKHZhciBpPXQscj05Oy0tcjspaT0oMSZpJiYzOTg4MjkyMzg0KV5pPj4+MTtlW3RdPWl9cmV0dXJuIGV9KCksQ3I9ZnVuY3Rpb24oKXt2YXIgZT00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1lLHI9MDtyPHQubGVuZ3RoOysrcilpPUlyWzI1NSZpXnRbcl1dXmk+Pj44O2U9aX0sZDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk1XmV9fX0sUHI9ZnVuY3Rpb24oZSx0LGkscixuKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGkscixuLHMpe3ZhciBvPWUubGVuZ3RoLGE9bmV3IEtpKHIrbys1KigxK01hdGguZmxvb3Ioby83ZTMpKStuKSxsPWEuc3ViYXJyYXkocixhLmxlbmd0aC1uKSx1PTA7aWYoIXR8fG88OClmb3IodmFyIGM9MDtjPD1vO2MrPTY1NTM1KXt2YXIgZD1jKzY1NTM1O2Q8bz91PWtyKGwsdSxlLnN1YmFycmF5KGMsZCkpOihsW2NdPXMsdT1rcihsLHUsZS5zdWJhcnJheShjLG8pKSl9ZWxzZXtmb3IodmFyIGg9eHJbdC0xXSxwPWg+Pj4xMyxfPTgxOTEmaCx2PSgxPDxpKS0xLGc9bmV3IFhpKDMyNzY4KSxmPW5ldyBYaSh2KzEpLG09TWF0aC5jZWlsKGkvMykseT0yKm0sYj1mdW5jdGlvbih0KXtyZXR1cm4oZVt0XV5lW3QrMV08PG1eZVt0KzJdPDx5KSZ2fSx3PW5ldyBRaSgyNWUzKSxTPW5ldyBYaSgyODgpLGs9bmV3IFhpKDMyKSxFPTAseD0wLEk9KGM9MCwwKSxDPTAsUD0wO2M8bzsrK2Mpe3ZhciBGPWIoYyksVD0zMjc2NyZjLFI9ZltGXTtpZihnW1RdPVIsZltGXT1ULEM8PWMpe3ZhciAkPW8tYztpZigoRT43ZTN8fEk+MjQ1NzYpJiYkPjQyMyl7dT1FcihlLGwsMCx3LFMsayx4LEksUCxjLVAsdSksST1FPXg9MCxQPWM7Zm9yKHZhciBPPTA7TzwyODY7KytPKVNbT109MDtmb3IoTz0wO088MzA7KytPKWtbT109MH12YXIgTT0yLEE9MCxMPV8sRD1ULVImMzI3Njc7aWYoJD4yJiZGPT1iKGMtRCkpZm9yKHZhciBxPU1hdGgubWluKHAsJCktMSxOPU1hdGgubWluKDMyNzY3LGMpLEI9TWF0aC5taW4oMjU4LCQpO0Q8PU4mJi0tTCYmVCE9Ujspe2lmKGVbYytNXT09ZVtjK00tRF0pe2Zvcih2YXIgSD0wO0g8QiYmZVtjK0hdPT1lW2MrSC1EXTsrK0gpO2lmKEg+TSl7aWYoTT1ILEE9RCxIPnEpYnJlYWs7dmFyIGo9TWF0aC5taW4oRCxILTIpLFU9MDtmb3IoTz0wO088ajsrK08pe3ZhciB6PWMtRCtPKzMyNzY4JjMyNzY3LFc9ei1nW3pdKzMyNzY4JjMyNzY3O1c+VSYmKFU9VyxSPXopfX19RCs9KFQ9UiktKFI9Z1tUXSkrMzI3NjgmMzI3Njd9aWYoQSl7d1tJKytdPTI2ODQzNTQ1NnxzcltNXTw8MTh8b3JbQV07dmFyIFY9MzEmc3JbTV0sRz0zMSZvcltBXTt4Kz1aaVtWXStlcltHXSwrK1NbMjU3K1ZdLCsra1tHXSxDPWMrTSwrK0V9ZWxzZSB3W0krK109ZVtjXSwrK1NbZVtjXV19fXU9RXIoZSxsLHMsdyxTLGsseCxJLFAsYy1QLHUpfXJldHVybiBncihhLDAscit2cih1KStuKX0oZSxudWxsPT10LmxldmVsPzY6dC5sZXZlbCxudWxsPT10Lm1lbT9NYXRoLmNlaWwoMS41Kk1hdGgubWF4KDgsTWF0aC5taW4oMTMsTWF0aC5sb2coZS5sZW5ndGgpKSkpOjEyK3QubWVtLGksciwhbil9LEZyPWZ1bmN0aW9uKGUsdCxpKXtmb3IoO2k7Kyt0KWVbdF09aSxpPj4+PTh9LFRyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dC5maWxlbmFtZTtpZihlWzBdPTMxLGVbMV09MTM5LGVbMl09OCxlWzhdPXQubGV2ZWw8Mj80Ojk9PXQubGV2ZWw/MjowLGVbOV09MywwIT10Lm10aW1lJiZGcihlLDQsTWF0aC5mbG9vcihuZXcgRGF0ZSh0Lm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxpKXtlWzNdPTg7Zm9yKHZhciByPTA7cjw9aS5sZW5ndGg7KytyKWVbcisxMF09aS5jaGFyQ29kZUF0KHIpfX0sUnI9ZnVuY3Rpb24oZSl7cmV0dXJuIDEwKyhlLmZpbGVuYW1lJiZlLmZpbGVuYW1lLmxlbmd0aCsxfHwwKX07ZnVuY3Rpb24gJHIoZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGk9Q3IoKSxyPWUubGVuZ3RoO2kucChlKTt2YXIgbj1QcihlLHQsUnIodCksOCkscz1uLmxlbmd0aDtyZXR1cm4gVHIobix0KSxGcihuLHMtOCxpLmQoKSksRnIobixzLTQsciksbn1mdW5jdGlvbiBPcihlLHQpe3ZhciBpPWUubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RW5jb2RlcilyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7Zm9yKHZhciByPW5ldyBLaShlLmxlbmd0aCsoZS5sZW5ndGg+Pj4xKSksbj0wLHM9ZnVuY3Rpb24oZSl7cltuKytdPWV9LG89MDtvPGk7KytvKXtpZihuKzU+ci5sZW5ndGgpe3ZhciBhPW5ldyBLaShuKzgrKGktbzw8MSkpO2Euc2V0KHIpLHI9YX12YXIgbD1lLmNoYXJDb2RlQXQobyk7bDwxMjh8fHQ/cyhsKTpsPDIwNDg/KHMoMTkyfGw+Pj42KSxzKDEyOHw2MyZsKSk6bD41NTI5NSYmbDw1NzM0ND8ocygyNDB8KGw9NjU1MzYrKDEwNDc1NTImbCl8MTAyMyZlLmNoYXJDb2RlQXQoKytvKSk+Pj4xOCkscygxMjh8bD4+PjEyJjYzKSxzKDEyOHxsPj4+NiY2MykscygxMjh8NjMmbCkpOihzKDIyNHxsPj4+MTIpLHMoMTI4fGw+Pj42JjYzKSxzKDEyOHw2MyZsKSl9cmV0dXJuIGdyKHIsMCxuKX1mdW5jdGlvbiBNcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTxlLmxlbmd0aDtpKyspdD0odDw8NSktdCtlLmNoYXJDb2RlQXQoaSksdHw9MDtyZXR1cm4gTWF0aC5hYnModCl9KGUpJTEwMDxKaSgxMDAqdCwwLDEwMCl9dmFyIEFyPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsTHI9QihBcik7ZnVuY3Rpb24gRHIoKXt2YXIgZSx0O3JldHVybiBudWxsPT1wfHxudWxsPT09KGU9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5ycndlYil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVjb3JkfXZhciBxcj0zZTUsTnI9W3FpLk1vdXNlTW92ZSxxaS5Nb3VzZUludGVyYWN0aW9uLHFpLlNjcm9sbCxxaS5WaWV3cG9ydFJlc2l6ZSxxaS5JbnB1dCxxaS5Ub3VjaE1vdmUscWkuTWVkaWFJbnRlcmFjdGlvbixxaS5EcmFnXSxCcj1lPT4oe3Jyd2ViTWV0aG9kOmUsZW5xdWV1ZWRBdDpEYXRlLm5vdygpLGF0dGVtcHQ6MX0pO2Z1bmN0aW9uIEhyKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1cIlwiLHI9MDtyPGUubGVuZ3RoOyl7dmFyIG49ZVtyKytdO248MTI4fHx0P2krPVN0cmluZy5mcm9tQ2hhckNvZGUobik6bjwyMjQ/aSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmbik8PDZ8NjMmZVtyKytdKTpuPDI0MD9pKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZuKTw8MTJ8KDYzJmVbcisrXSk8PDZ8NjMmZVtyKytdKToobj0oKDE1Jm4pPDwxOHwoNjMmZVtyKytdKTw8MTJ8KDYzJmVbcisrXSk8PDZ8NjMmZVtyKytdKS02NTUzNixpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fG4+PjEwLDU2MzIwfDEwMjMmbikpfXJldHVybiBpfSgkcihPcihKU09OLnN0cmluZ2lmeShlKSkpLCEwKX1mdW5jdGlvbiBqcihlKXtyZXR1cm4gZS50eXBlPT09RGkuQ3VzdG9tJiZcInNlc3Npb25JZGxlXCI9PT1lLmRhdGEudGFnfWZ1bmN0aW9uIFVyKGUsdCl7cmV0dXJuIHQuc29tZSgodD0+XCJyZWdleFwiPT09dC5tYXRjaGluZyYmbmV3IFJlZ0V4cCh0LnVybCkudGVzdChlKSkpfWNsYXNzIHpye2dldCBzZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcygpe3JldHVybiB0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5zZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zfHwzZTV9Z2V0IHN0YXJ0ZWQoKXtyZXR1cm4gdGhpcy5fY2FwdHVyZVN0YXJ0ZWR9Z2V0IHNlc3Npb25NYW5hZ2VyKCl7aWYoIXRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKEFyK1wiIG11c3QgYmUgc3RhcnRlZCB3aXRoIGEgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuXCIpO3JldHVybiB0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyfWdldCBmdWxsU25hcHNob3RJbnRlcnZhbE1pbGxpcygpe3ZhciBlLHQ7cmV0dXJuXCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cz82ZTQ6bnVsbCE9PShlPW51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZnVsbF9zbmFwc2hvdF9pbnRlcnZhbF9taWxsaXMpJiZ2b2lkIDAhPT1lP2U6cXJ9Z2V0IGlzU2FtcGxlZCgpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHhlKTtyZXR1cm4gQShlKT9lOm51bGx9Z2V0IHNlc3Npb25EdXJhdGlvbigpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5idWZmZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmRhdGFbKG51bGw9PT0odD10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGF0YS5sZW5ndGgpLTFdLHtzZXNzaW9uU3RhcnRUaW1lc3RhbXA6cn09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCk7cmV0dXJuIGk/aS50aW1lc3RhbXAtcjpudWxsfWdldCBpc1JlY29yZGluZ0VuYWJsZWQoKXt2YXIgZT0hIXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGdlKSxpPSF0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nO3JldHVybiB0JiZlJiZpfWdldCBpc0NvbnNvbGVMb2dDYXB0dXJlRW5hYmxlZCgpe3ZhciBlPSEhdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoZmUpLHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZztyZXR1cm4gbnVsbCE9dD90OmV9Z2V0IGNhbnZhc1JlY29yZGluZygpe3ZhciBlLHQsaSxyLG4scyxvPXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLmNhcHR1cmVDYW52YXMsYT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShiZSksbD1udWxsIT09KGU9bnVsbCE9PSh0PW51bGw9PW8/dm9pZCAwOm8ucmVjb3JkQ2FudmFzKSYmdm9pZCAwIT09dD90Om51bGw9PWE/dm9pZCAwOmEuZW5hYmxlZCkmJnZvaWQgMCE9PWUmJmUsdT1udWxsIT09KGk9bnVsbCE9PShyPW51bGw9PW8/dm9pZCAwOm8uY2FudmFzRnBzKSYmdm9pZCAwIT09cj9yOm51bGw9PWE/dm9pZCAwOmEuZnBzKSYmdm9pZCAwIT09aT9pOjQsYz1udWxsIT09KG49bnVsbCE9PShzPW51bGw9PW8/dm9pZCAwOm8uY2FudmFzUXVhbGl0eSkmJnZvaWQgMCE9PXM/czpudWxsPT1hP3ZvaWQgMDphLnF1YWxpdHkpJiZ2b2lkIDAhPT1uP246LjQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMpe3ZhciBkPXBhcnNlRmxvYXQoYyk7Yz1pc05hTihkKT8uNDpkfXJldHVybntlbmFibGVkOmwsZnBzOkppKHUsMCwxMixcImNhbnZhcyByZWNvcmRpbmcgZnBzXCIsNCkscXVhbGl0eTpKaShjLDAsMSxcImNhbnZhcyByZWNvcmRpbmcgcXVhbGl0eVwiLC40KX19Z2V0IG5ldHdvcmtQYXlsb2FkQ2FwdHVyZSgpe3ZhciBlLHQsaT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShtZSkscj17cmVjb3JkSGVhZGVyczpudWxsPT09KGU9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlY29yZEhlYWRlcnMscmVjb3JkQm9keTpudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlY29yZEJvZHl9LG49KG51bGw9PXI/dm9pZCAwOnIucmVjb3JkSGVhZGVycyl8fChudWxsPT1pP3ZvaWQgMDppLnJlY29yZEhlYWRlcnMpLHM9KG51bGw9PXI/dm9pZCAwOnIucmVjb3JkQm9keSl8fChudWxsPT1pP3ZvaWQgMDppLnJlY29yZEJvZHkpLG89Qyh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLm5ldHdvcmtfdGltaW5nOnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UsYT0hIShBKG8pP286bnVsbD09aT92b2lkIDA6aS5jYXB0dXJlUGVyZm9ybWFuY2UpO3JldHVybiBufHxzfHxhP3tyZWNvcmRIZWFkZXJzOm4scmVjb3JkQm9keTpzLHJlY29yZFBlcmZvcm1hbmNlOmF9OnZvaWQgMH1nZXQgbWFza2luZygpe3ZhciBlLHQsaSxyLG4scyxvPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHllKSxhPXttYXNrQWxsSW5wdXRzOm51bGw9PT0oZT10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWFza0FsbElucHV0cyxtYXNrVGV4dFNlbGVjdG9yOm51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubWFza1RleHRTZWxlY3RvcixibG9ja1NlbGVjdG9yOm51bGw9PT0oaT10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYmxvY2tTZWxlY3Rvcn0sbD1udWxsIT09KHI9bnVsbD09YT92b2lkIDA6YS5tYXNrQWxsSW5wdXRzKSYmdm9pZCAwIT09cj9yOm51bGw9PW8/dm9pZCAwOm8ubWFza0FsbElucHV0cyx1PW51bGwhPT0obj1udWxsPT1hP3ZvaWQgMDphLm1hc2tUZXh0U2VsZWN0b3IpJiZ2b2lkIDAhPT1uP246bnVsbD09bz92b2lkIDA6by5tYXNrVGV4dFNlbGVjdG9yLGM9bnVsbCE9PShzPW51bGw9PWE/dm9pZCAwOmEuYmxvY2tTZWxlY3RvcikmJnZvaWQgMCE9PXM/czpudWxsPT1vP3ZvaWQgMDpvLmJsb2NrU2VsZWN0b3I7cmV0dXJuIEYobCkmJkYodSkmJkYoYyk/dm9pZCAwOnttYXNrQWxsSW5wdXRzOm51bGw9PWx8fGwsbWFza1RleHRTZWxlY3Rvcjp1LGJsb2NrU2VsZWN0b3I6Y319Z2V0IHNhbXBsZVJhdGUoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSh3ZSk7cmV0dXJuIE0oZSk/ZTpudWxsfWdldCBtaW5pbXVtRHVyYXRpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShTZSk7cmV0dXJuIE0oZSk/ZTpudWxsfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5yZWNlaXZlZERlY2lkZT90aGlzLmlzUmVjb3JkaW5nRW5hYmxlZD8hMT09PXRoaXMuaXNTYW1wbGVkP1wiZGlzYWJsZWRcIjp0aGlzLl91cmxCbG9ja2VkP1wicGF1c2VkXCI6Tyh0aGlzLl9saW5rZWRGbGFnKXx8dGhpcy5fbGlua2VkRmxhZ1NlZW4/XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cz9cImJ1ZmZlcmluZ1wiOkEodGhpcy5pc1NhbXBsZWQpP3RoaXMuaXNTYW1wbGVkP1wic2FtcGxlZFwiOlwiZGlzYWJsZWRcIjpcImFjdGl2ZVwiOlwiYnVmZmVyaW5nXCI6XCJkaXNhYmxlZFwiOlwiYnVmZmVyaW5nXCJ9Z2V0IHVybFRyaWdnZXJTdGF0dXMoKXt2YXIgZTtyZXR1cm4gMD09PXRoaXMuX3VybFRyaWdnZXJzLmxlbmd0aD9cInRyaWdnZXJfZGlzYWJsZWRcIjoobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShJZSkpPT09dGhpcy5zZXNzaW9uSWQ/XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiOlwidHJpZ2dlcl9wZW5kaW5nXCJ9Z2V0IGV2ZW50VHJpZ2dlclN0YXR1cygpe3ZhciBlO3JldHVybiAwPT09dGhpcy5fZXZlbnRUcmlnZ2Vycy5sZW5ndGg/XCJ0cmlnZ2VyX2Rpc2FibGVkXCI6KG51bGw9PT0oZT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoQ2UpKT09PXRoaXMuc2Vzc2lvbklkP1widHJpZ2dlcl9hY3RpdmF0ZWRcIjpcInRyaWdnZXJfcGVuZGluZ1wifWdldCB0cmlnZ2VyU3RhdHVzKCl7dmFyIGU9XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiPT09dGhpcy5ldmVudFRyaWdnZXJTdGF0dXN8fFwidHJpZ2dlcl9hY3RpdmF0ZWRcIj09PXRoaXMudXJsVHJpZ2dlclN0YXR1cyx0PVwidHJpZ2dlcl9wZW5kaW5nXCI9PT10aGlzLmV2ZW50VHJpZ2dlclN0YXR1c3x8XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudXJsVHJpZ2dlclN0YXR1cztyZXR1cm4gZT9cInRyaWdnZXJfYWN0aXZhdGVkXCI6dD9cInRyaWdnZXJfcGVuZGluZ1wiOlwidHJpZ2dlcl9kaXNhYmxlZFwifWNvbnN0cnVjdG9yKGUpe2lmKFcodGhpcyxcInF1ZXVlZFJSV2ViRXZlbnRzXCIsW10pLFcodGhpcyxcImlzSWRsZVwiLFwidW5rbm93blwiKSxXKHRoaXMsXCJfbGlua2VkRmxhZ1NlZW5cIiwhMSksVyh0aGlzLFwiX2xhc3RBY3Rpdml0eVRpbWVzdGFtcFwiLERhdGUubm93KCkpLFcodGhpcyxcIl9saW5rZWRGbGFnXCIsbnVsbCksVyh0aGlzLFwiX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2tcIix2b2lkIDApLFcodGhpcyxcIl9vblNlc3Npb25JZExpc3RlbmVyXCIsdm9pZCAwKSxXKHRoaXMsXCJfcGVyc2lzdERlY2lkZU9uU2Vzc2lvbkxpc3RlbmVyXCIsdm9pZCAwKSxXKHRoaXMsXCJfc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXJcIix2b2lkIDApLFcodGhpcyxcIl91cmxUcmlnZ2Vyc1wiLFtdKSxXKHRoaXMsXCJfdXJsQmxvY2tsaXN0XCIsW10pLFcodGhpcyxcIl91cmxCbG9ja2VkXCIsITEpLFcodGhpcyxcIl9ldmVudFRyaWdnZXJzXCIsW10pLFcodGhpcyxcIl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9va1wiLHZvaWQgMCksVyh0aGlzLFwiX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZVwiLCExKSxXKHRoaXMsXCJfb25CZWZvcmVVbmxvYWRcIiwoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSkpLFcodGhpcyxcIl9vbk9mZmxpbmVcIiwoKCk9Pnt0aGlzLl90cnlBZGRDdXN0b21FdmVudChcImJyb3dzZXIgb2ZmbGluZVwiLHt9KX0pKSxXKHRoaXMsXCJfb25PbmxpbmVcIiwoKCk9Pnt0aGlzLl90cnlBZGRDdXN0b21FdmVudChcImJyb3dzZXIgb25saW5lXCIse30pfSkpLFcodGhpcyxcIl9vblZpc2liaWxpdHlDaGFuZ2VcIiwoKCk9PntpZihudWxsIT1hJiZhLnZpc2liaWxpdHlTdGF0ZSl7dmFyIGU9XCJ3aW5kb3cgXCIrYS52aXNpYmlsaXR5U3RhdGU7dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoZSx7fSl9fSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMSx0aGlzLl9lbmRwb2ludD1cIi9zL1wiLHRoaXMuc3RvcFJyd2ViPXZvaWQgMCx0aGlzLnJlY2VpdmVkRGVjaWRlPSExLCF0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IExyLmVycm9yKFwic3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyXCIpLG5ldyBFcnJvcihBcitcIiBzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuIFRoaXMgaXMgYSBidWcuXCIpO2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcihBcitcIiBjYW5ub3QgYmUgdXNlZCB3aXRoIF9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlLlwiKTt2YXJ7c2Vzc2lvbklkOnQsd2luZG93SWQ6aX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpO3RoaXMuc2Vzc2lvbklkPXQsdGhpcy53aW5kb3dJZD1pLHRoaXMuYnVmZmVyPXRoaXMuY2xlYXJCdWZmZXIoKSx0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzPj10aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25UaW1lb3V0TXMmJkxyLndhcm4oXCJzZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zIChcIi5jb25jYXQodGhpcy5zZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcyxcIikgaXMgZ3JlYXRlciB0aGFuIHRoZSBzZXNzaW9uIHRpbWVvdXQgKFwiKS5jb25jYXQodGhpcy5zZXNzaW9uTWFuYWdlci5zZXNzaW9uVGltZW91dE1zLFwiKS4gU2Vzc2lvbiB3aWxsIG5ldmVyIGJlIGRldGVjdGVkIGFzIGlkbGVcIikpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKGUpe3RoaXMuaXNSZWNvcmRpbmdFbmFibGVkPyh0aGlzLl9zdGFydENhcHR1cmUoZSksb2UodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuX29uQmVmb3JlVW5sb2FkKSxvZSh0LFwib2ZmbGluZVwiLHRoaXMuX29uT2ZmbGluZSksb2UodCxcIm9ubGluZVwiLHRoaXMuX29uT25saW5lKSxvZSh0LFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSksdGhpcy5fc2V0dXBTYW1wbGluZygpLHRoaXMuX2FkZEV2ZW50VHJpZ2dlckxpc3RlbmVyKCksTyh0aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rKSYmKHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2s9dGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+e3RyeXtpZihcIiRwYWdldmlld1wiPT09ZS5ldmVudCl7dmFyIHQ9bnVsbCE9ZSYmZS5wcm9wZXJ0aWVzLiRjdXJyZW50X3VybD90aGlzLl9tYXNrVXJsKG51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kY3VycmVudF91cmwpOlwiXCI7aWYoIXQpcmV0dXJuO3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHBhZ2V2aWV3XCIse2hyZWY6dH0pfX1jYXRjaChlKXtMci5lcnJvcihcIkNvdWxkIG5vdCBhZGQgJHBhZ2V2aWV3IHRvIHJyd2ViIHNlc3Npb25cIixlKX19KSkpLHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXJ8fCh0aGlzLl9vblNlc3Npb25JZExpc3RlbmVyPXRoaXMuc2Vzc2lvbk1hbmFnZXIub25TZXNzaW9uSWQoKChlLHQsaSk9Pnt2YXIgcixuLHMsbztpJiYodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9pZF9jaGFuZ2VcIix7c2Vzc2lvbklkOmUsd2luZG93SWQ6dCxjaGFuZ2VSZWFzb246aX0pLG51bGw9PT0ocj10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09cnx8bnVsbD09PShuPXIucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1ufHxuLnVucmVnaXN0ZXIoQ2UpLG51bGw9PT0ocz10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1vfHxvLnVucmVnaXN0ZXIoSWUpKX0pKSkpOnRoaXMuc3RvcFJlY29yZGluZygpfXN0b3BSZWNvcmRpbmcoKXt2YXIgZSxpLHIsbjt0aGlzLl9jYXB0dXJlU3RhcnRlZCYmdGhpcy5zdG9wUnJ3ZWImJih0aGlzLnN0b3BScndlYigpLHRoaXMuc3RvcFJyd2ViPXZvaWQgMCx0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLl9vbkJlZm9yZVVubG9hZCksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLHRoaXMuX29uT2ZmbGluZSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25PbmxpbmUpLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpLHRoaXMuY2xlYXJCdWZmZXIoKSxjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSxudWxsPT09KGU9dGhpcy5fcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9vayl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKSx0aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rPXZvaWQgMCxudWxsPT09KGk9dGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2spfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksdGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2s9dm9pZCAwLG51bGw9PT0ocj10aGlzLl9vblNlc3Npb25JZExpc3RlbmVyKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMpLHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXI9dm9pZCAwLG51bGw9PT0obj10aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcil8fHZvaWQgMD09PW58fG4uY2FsbCh0aGlzKSx0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcj12b2lkIDAsTHIuaW5mbyhcInN0b3BwZWRcIikpfW1ha2VTYW1wbGluZ0RlY2lzaW9uKGUpe3ZhciB0LGk9dGhpcy5zZXNzaW9uSWQhPT1lLHI9dGhpcy5zYW1wbGVSYXRlO2lmKE0ocikpe3ZhciBuPXRoaXMuaXNTYW1wbGVkLHM9aXx8IUEobiksbz1zP01yKGUscik6bjtzJiYobz90aGlzLl9yZXBvcnRTdGFydGVkKFwic2FtcGxlZFwiKTpMci53YXJuKFwiU2FtcGxlIHJhdGUgKFwiLmNvbmNhdChyLFwiKSBoYXMgZGV0ZXJtaW5lZCB0aGF0IHRoaXMgc2Vzc2lvbklkIChcIikuY29uY2F0KGUsXCIpIHdpbGwgbm90IGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cIikpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwic2FtcGxpbmdEZWNpc2lvbk1hZGVcIix7c2FtcGxlUmF0ZTpyLGlzU2FtcGxlZDpvfSkpLG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC5yZWdpc3Rlcih7W3hlXTpvfSl9ZWxzZXt2YXIgYTtudWxsPT09KGE9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWF8fGEucmVnaXN0ZXIoe1t4ZV06bnVsbH0pfX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdCxpLHIsbixzLG87KHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHJlbW90ZV9jb25maWdfcmVjZWl2ZWRcIixlKSx0aGlzLl9wZXJzaXN0UmVtb3RlQ29uZmlnKGUpLHRoaXMuX2xpbmtlZEZsYWc9KG51bGw9PT0odD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmxpbmtlZEZsYWcpfHxudWxsLG51bGwhPT0oaT1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1pJiZpLmVuZHBvaW50KSYmKHRoaXMuX2VuZHBvaW50PW51bGw9PT0obz1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmVuZHBvaW50KTtpZih0aGlzLl9zZXR1cFNhbXBsaW5nKCksIU8odGhpcy5fbGlua2VkRmxhZykmJiF0aGlzLl9saW5rZWRGbGFnU2Vlbil7dmFyIGE9VCh0aGlzLl9saW5rZWRGbGFnKT90aGlzLl9saW5rZWRGbGFnOnRoaXMuX2xpbmtlZEZsYWcuZmxhZyxsPVQodGhpcy5fbGlua2VkRmxhZyk/bnVsbDp0aGlzLl9saW5rZWRGbGFnLnZhcmlhbnQ7dGhpcy5pbnN0YW5jZS5vbkZlYXR1cmVGbGFncygoKGUsdCk9Pnt2YXIgaT1DKHQpJiZhIGluIHQscj1sP3RbYV09PT1sOmk7ciYmdGhpcy5fcmVwb3J0U3RhcnRlZChcImxpbmtlZF9mbGFnX21hdGNoZWRcIix7bGlua2VkRmxhZzphLGxpbmtlZFZhcmlhbnQ6bH0pLHRoaXMuX2xpbmtlZEZsYWdTZWVuPXJ9KSl9bnVsbCE9PShyPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PXImJnIudXJsVHJpZ2dlcnMmJih0aGlzLl91cmxUcmlnZ2Vycz1lLnNlc3Npb25SZWNvcmRpbmcudXJsVHJpZ2dlcnMpLG51bGwhPT0obj1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1uJiZuLnVybEJsb2NrbGlzdCYmKHRoaXMuX3VybEJsb2NrbGlzdD1lLnNlc3Npb25SZWNvcmRpbmcudXJsQmxvY2tsaXN0KSxudWxsIT09KHM9ZS5zZXNzaW9uUmVjb3JkaW5nKSYmdm9pZCAwIT09cyYmcy5ldmVudFRyaWdnZXJzJiYodGhpcy5fZXZlbnRUcmlnZ2Vycz1lLnNlc3Npb25SZWNvcmRpbmcuZXZlbnRUcmlnZ2VycyksdGhpcy5yZWNlaXZlZERlY2lkZT0hMCx0aGlzLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9X3NldHVwU2FtcGxpbmcoKXtNKHRoaXMuc2FtcGxlUmF0ZSkmJk8odGhpcy5fc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXIpJiYodGhpcy5fc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXI9dGhpcy5zZXNzaW9uTWFuYWdlci5vblNlc3Npb25JZCgoZT0+e3RoaXMubWFrZVNhbXBsaW5nRGVjaXNpb24oZSl9KSkpfV9wZXJzaXN0UmVtb3RlQ29uZmlnKGUpe2lmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Upe3ZhciB0LGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSxyPSgpPT57dmFyIHQscixuLHMsbyxhLGwsdSxjLGQ9bnVsbD09PSh0PWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2FtcGxlUmF0ZSxoPU8oZCk/bnVsbDpwYXJzZUZsb2F0KGQpLHA9bnVsbD09PShyPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIubWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzO2kucmVnaXN0ZXIoe1tnZV06ISFlLnNlc3Npb25SZWNvcmRpbmcsW2ZlXTpudWxsPT09KG49ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb25zb2xlTG9nUmVjb3JkaW5nRW5hYmxlZCxbbWVdOnooe2NhcHR1cmVQZXJmb3JtYW5jZTplLmNhcHR1cmVQZXJmb3JtYW5jZX0sbnVsbD09PShzPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXM/dm9pZCAwOnMubmV0d29ya1BheWxvYWRDYXB0dXJlKSxbeWVdOm51bGw9PT0obz1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm1hc2tpbmcsW2JlXTp7ZW5hYmxlZDpudWxsPT09KGE9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09YT92b2lkIDA6YS5yZWNvcmRDYW52YXMsZnBzOm51bGw9PT0obD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmNhbnZhc0ZwcyxxdWFsaXR5Om51bGw9PT0odT1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LmNhbnZhc1F1YWxpdHl9LFt3ZV06aCxbU2VdOkYocCk/bnVsbDpwLFtrZV06bnVsbD09PShjPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuc2NyaXB0Q29uZmlnfSl9O3IoKSxudWxsPT09KHQ9dGhpcy5fcGVyc2lzdERlY2lkZU9uU2Vzc2lvbkxpc3RlbmVyKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMuX3BlcnNpc3REZWNpZGVPblNlc3Npb25MaXN0ZW5lcj10aGlzLnNlc3Npb25NYW5hZ2VyLm9uU2Vzc2lvbklkKHIpfX1sb2coZSl7dmFyIHQsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJsb2dcIjtudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09dHx8dC5vblJSd2ViRW1pdCh7dHlwZTo2LGRhdGE6e3BsdWdpbjpcInJyd2ViL2NvbnNvbGVAMVwiLHBheWxvYWQ6e2xldmVsOmksdHJhY2U6W10scGF5bG9hZDpbSlNPTi5zdHJpbmdpZnkoZSldfX0sdGltZXN0YW1wOkRhdGUubm93KCl9KX1fc3RhcnRDYXB0dXJlKGUpe2lmKCFGKE9iamVjdC5hc3NpZ24pJiYhRihBcnJheS5mcm9tKSYmISh0aGlzLl9jYXB0dXJlU3RhcnRlZHx8dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZ3x8dGhpcy5pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSkpe3ZhciB0LGk7aWYodGhpcy5fY2FwdHVyZVN0YXJ0ZWQ9ITAsdGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLERyKCkpdGhpcy5fb25TY3JpcHRMb2FkZWQoKTtlbHNlIG51bGw9PT0odD1wLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1pfHxpLmNhbGwodCx0aGlzLmluc3RhbmNlLHRoaXMuc2NyaXB0TmFtZSwoZT0+e2lmKGUpcmV0dXJuIExyLmVycm9yKFwiY291bGQgbm90IGxvYWQgcmVjb3JkZXJcIixlKTt0aGlzLl9vblNjcmlwdExvYWRlZCgpfSkpO0xyLmluZm8oXCJzdGFydGluZ1wiKSxcImFjdGl2ZVwiPT09dGhpcy5zdGF0dXMmJnRoaXMuX3JlcG9ydFN0YXJ0ZWQoZXx8XCJyZWNvcmRpbmdfaW5pdGlhbGl6ZWRcIil9fWdldCBzY3JpcHROYW1lKCl7dmFyIGUsdCxpO3JldHVybihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZ2V0X3Byb3BlcnR5KGtlKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2NyaXB0KXx8XCJyZWNvcmRlclwifWlzSW50ZXJhY3RpdmVFdmVudChlKXt2YXIgdDtyZXR1cm4gMz09PWUudHlwZSYmLTEhPT1Oci5pbmRleE9mKG51bGw9PT0odD1lLmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNvdXJjZSl9X3VwZGF0ZVdpbmRvd0FuZFNlc3Npb25JZHMoZSl7dmFyIHQ9dGhpcy5pc0ludGVyYWN0aXZlRXZlbnQoZSk7dHx8dGhpcy5pc0lkbGV8fGUudGltZXN0YW1wLXRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcD50aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzJiYodGhpcy5pc0lkbGU9ITAsY2xlYXJJbnRlcnZhbCh0aGlzLl9mdWxsU25hcHNob3RUaW1lciksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uSWRsZVwiLHtldmVudFRpbWVzdGFtcDplLnRpbWVzdGFtcCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6dGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wLHRocmVzaG9sZDp0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzLGJ1ZmZlckxlbmd0aDp0aGlzLmJ1ZmZlci5kYXRhLmxlbmd0aCxidWZmZXJTaXplOnRoaXMuYnVmZmVyLnNpemV9KSx0aGlzLl9mbHVzaEJ1ZmZlcigpKTt2YXIgaT0hMTtpZih0JiYodGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wPWUudGltZXN0YW1wLHRoaXMuaXNJZGxlKSl7dmFyIHI9XCJ1bmtub3duXCI9PT10aGlzLmlzSWRsZTt0aGlzLmlzSWRsZT0hMSxyfHwodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uTm9Mb25nZXJJZGxlXCIse3JlYXNvbjpcInVzZXIgYWN0aXZpdHlcIix0eXBlOmUudHlwZX0pLGk9ITApfWlmKCF0aGlzLmlzSWRsZSl7dmFye3dpbmRvd0lkOm4sc2Vzc2lvbklkOnN9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoIXQsZS50aW1lc3RhbXApLG89dGhpcy5zZXNzaW9uSWQhPT1zLGE9dGhpcy53aW5kb3dJZCE9PW47dGhpcy53aW5kb3dJZD1uLHRoaXMuc2Vzc2lvbklkPXMsb3x8YT8odGhpcy5zdG9wUmVjb3JkaW5nKCksdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcChcInNlc3Npb25faWRfY2hhbmdlZFwiKSk6aSYmdGhpcy5fc2NoZWR1bGVGdWxsU25hcHNob3QoKX19X3RyeVJSV2ViTWV0aG9kKGUpe3RyeXtyZXR1cm4gZS5ycndlYk1ldGhvZCgpLCEwfWNhdGNoKHQpe3JldHVybiB0aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLmxlbmd0aDwxMD90aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLnB1c2goe2VucXVldWVkQXQ6ZS5lbnF1ZXVlZEF0fHxEYXRlLm5vdygpLGF0dGVtcHQ6ZS5hdHRlbXB0KysscnJ3ZWJNZXRob2Q6ZS5ycndlYk1ldGhvZH0pOkxyLndhcm4oXCJjb3VsZCBub3QgZW1pdCBxdWV1ZWQgcnJ3ZWIgZXZlbnQuXCIsdCxlKSwhMX19X3RyeUFkZEN1c3RvbUV2ZW50KGUsdCl7cmV0dXJuIHRoaXMuX3RyeVJSV2ViTWV0aG9kKEJyKCgoKT0+RHIoKS5hZGRDdXN0b21FdmVudChlLHQpKSkpfV90cnlUYWtlRnVsbFNuYXBzaG90KCl7cmV0dXJuIHRoaXMuX3RyeVJSV2ViTWV0aG9kKEJyKCgoKT0+RHIoKS50YWtlRnVsbFNuYXBzaG90KCkpKSl9X29uU2NyaXB0TG9hZGVkKCl7dmFyIGUsdCxpLHIsbj17YmxvY2tDbGFzczpcInBoLW5vLWNhcHR1cmVcIixibG9ja1NlbGVjdG9yOnZvaWQgMCxpZ25vcmVDbGFzczpcInBoLWlnbm9yZS1pbnB1dFwiLG1hc2tUZXh0Q2xhc3M6XCJwaC1tYXNrXCIsbWFza1RleHRTZWxlY3Rvcjp2b2lkIDAsbWFza1RleHRGbjp2b2lkIDAsbWFza0FsbElucHV0czohMCxtYXNrSW5wdXRPcHRpb25zOntwYXNzd29yZDohMH0sbWFza0lucHV0Rm46dm9pZCAwLHNsaW1ET01PcHRpb25zOnt9LGNvbGxlY3RGb250czohMSxpbmxpbmVTdHlsZXNoZWV0OiEwLHJlY29yZENyb3NzT3JpZ2luSWZyYW1lczohMX0scz10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZztmb3IodmFyW28sYV1vZiBPYmplY3QuZW50cmllcyhzfHx7fSkpbyBpbiBuJiYoXCJtYXNrSW5wdXRPcHRpb25zXCI9PT1vP24ubWFza0lucHV0T3B0aW9ucz16KHtwYXNzd29yZDohMH0sYSk6bltvXT1hKTsodGhpcy5jYW52YXNSZWNvcmRpbmcmJnRoaXMuY2FudmFzUmVjb3JkaW5nLmVuYWJsZWQmJihuLnJlY29yZENhbnZhcz0hMCxuLnNhbXBsaW5nPXtjYW52YXM6dGhpcy5jYW52YXNSZWNvcmRpbmcuZnBzfSxuLmRhdGFVUkxPcHRpb25zPXt0eXBlOlwiaW1hZ2Uvd2VicFwiLHF1YWxpdHk6dGhpcy5jYW52YXNSZWNvcmRpbmcucXVhbGl0eX0pLHRoaXMubWFza2luZykmJihuLm1hc2tBbGxJbnB1dHM9bnVsbD09PSh0PXRoaXMubWFza2luZy5tYXNrQWxsSW5wdXRzKXx8dm9pZCAwPT09dHx8dCxuLm1hc2tUZXh0U2VsZWN0b3I9bnVsbCE9PShpPXRoaXMubWFza2luZy5tYXNrVGV4dFNlbGVjdG9yKSYmdm9pZCAwIT09aT9pOnZvaWQgMCxuLmJsb2NrU2VsZWN0b3I9bnVsbCE9PShyPXRoaXMubWFza2luZy5ibG9ja1NlbGVjdG9yKSYmdm9pZCAwIT09cj9yOnZvaWQgMCk7dmFyIGw9RHIoKTtpZihsKXt0aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXI9bnVsbCE9PShlPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcikmJnZvaWQgMCE9PWU/ZTpuZXcgWWkobCx7cmVmaWxsUmF0ZTp0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5fX211dGF0aW9uUmF0ZUxpbWl0ZXJSZWZpbGxSYXRlLGJ1Y2tldFNpemU6dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuX19tdXRhdGlvblJhdGVMaW1pdGVyQnVja2V0U2l6ZSxvbkJsb2NrZWROb2RlOihlLHQpPT57dmFyIGk9XCJUb28gbWFueSBtdXRhdGlvbnMgb24gbm9kZSAnXCIuY29uY2F0KGUsXCInLiBSYXRlIGxpbWl0aW5nLiBUaGlzIGNvdWxkIGJlIGR1ZSB0byBTVkcgYW5pbWF0aW9ucyBvciBzb21ldGhpbmcgc2ltaWxhclwiKTtMci5pbmZvKGkse25vZGU6dH0pLHRoaXMubG9nKEFyK1wiIFwiK2ksXCJ3YXJuXCIpfX0pO3ZhciB1PXRoaXMuX2dhdGhlclJSV2ViUGx1Z2lucygpO3RoaXMuc3RvcFJyd2ViPWwoeih7ZW1pdDplPT57dGhpcy5vblJSd2ViRW1pdChlKX0scGx1Z2luczp1fSxuKSksdGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wPURhdGUubm93KCksdGhpcy5pc0lkbGU9QSh0aGlzLmlzSWRsZSk/dGhpcy5pc0lkbGU6XCJ1bmtub3duXCIsdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9vcHRpb25zXCIse3Nlc3Npb25SZWNvcmRpbmdPcHRpb25zOm4sYWN0aXZlUGx1Z2luczp1Lm1hcCgoZT0+bnVsbD09ZT92b2lkIDA6ZS5uYW1lKSl9KSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiRwb3N0aG9nX2NvbmZpZ1wiLHtjb25maWc6dGhpcy5pbnN0YW5jZS5jb25maWd9KX1lbHNlIExyLmVycm9yKFwib25TY3JpcHRMb2FkZWQgd2FzIGNhbGxlZCBidXQgcnJ3ZWJSZWNvcmQgaXMgbm90IGF2YWlsYWJsZS4gVGhpcyBpbmRpY2F0ZXMgc29tZXRoaW5nIGhhcyBnb25lIHdyb25nLlwiKX1fc2NoZWR1bGVGdWxsU25hcHNob3QoKXtpZih0aGlzLl9mdWxsU25hcHNob3RUaW1lciYmY2xlYXJJbnRlcnZhbCh0aGlzLl9mdWxsU25hcHNob3RUaW1lciksITAhPT10aGlzLmlzSWRsZSl7dmFyIGU9dGhpcy5mdWxsU25hcHNob3RJbnRlcnZhbE1pbGxpcztlJiYodGhpcy5fZnVsbFNuYXBzaG90VGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpfSksZSkpfX1fZ2F0aGVyUlJXZWJQbHVnaW5zKCl7dmFyIGUsdCxpLHIsbj1bXSxzPW51bGw9PT0oZT1wLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnJyd2ViUGx1Z2lucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVjb3JkQ29uc29sZVBsdWdpbjtzJiZ0aGlzLmlzQ29uc29sZUxvZ0NhcHR1cmVFbmFibGVkJiZuLnB1c2gocygpKTt2YXIgbz1udWxsPT09KGk9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ycndlYlBsdWdpbnMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFJlY29yZE5ldHdvcmtQbHVnaW47dGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUmJkkobykmJighd3QuaW5jbHVkZXMobG9jYXRpb24uaG9zdG5hbWUpfHx0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU/bi5wdXNoKG8oR2kodGhpcy5pbnN0YW5jZS5jb25maWcsdGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUpKSk6THIuaW5mbyhcIk5ldHdvcmtDYXB0dXJlIG5vdCBzdGFydGVkIGJlY2F1c2Ugd2UgYXJlIG9uIGxvY2FsaG9zdC5cIikpO3JldHVybiBufW9uUlJ3ZWJFbWl0KGUpe3ZhciB0O2lmKHRoaXMuX3Byb2Nlc3NRdWV1ZWRFdmVudHMoKSxlJiZDKGUpKXtpZihlLnR5cGU9PT1EaS5NZXRhKXt2YXIgaT10aGlzLl9tYXNrVXJsKGUuZGF0YS5ocmVmKTtpZih0aGlzLl9sYXN0SHJlZj1pLCFpKXJldHVybjtlLmRhdGEuaHJlZj1pfWVsc2UgdGhpcy5fcGFnZVZpZXdGYWxsQmFjaygpO2lmKHRoaXMuX2NoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoKSwhdGhpcy5fdXJsQmxvY2tlZHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PURpLkN1c3RvbSYmXCJyZWNvcmRpbmcgcGF1c2VkXCI9PT1lLmRhdGEudGFnfShlKSl7ZS50eXBlPT09RGkuRnVsbFNuYXBzaG90JiZ0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpLGUudHlwZT09PURpLkZ1bGxTbmFwc2hvdCYmXCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cyYmdGhpcy5jbGVhckJ1ZmZlcigpO3ZhciByPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcj90aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXIudGhyb3R0bGVNdXRhdGlvbnMoZSk6ZTtpZihyKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1lO2lmKHQmJkModCkmJjY9PT10LnR5cGUmJkModC5kYXRhKSYmXCJycndlYi9jb25zb2xlQDFcIj09PXQuZGF0YS5wbHVnaW4pe3QuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoPjEwJiYodC5kYXRhLnBheWxvYWQucGF5bG9hZD10LmRhdGEucGF5bG9hZC5wYXlsb2FkLnNsaWNlKDAsMTApLHQuZGF0YS5wYXlsb2FkLnBheWxvYWQucHVzaChcIi4uLlt0cnVuY2F0ZWRdXCIpKTtmb3IodmFyIGk9W10scj0wO3I8dC5kYXRhLnBheWxvYWQucGF5bG9hZC5sZW5ndGg7cisrKXQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0mJnQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0ubGVuZ3RoPjJlMz9pLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtyXS5zbGljZSgwLDJlMykrXCIuLi5bdHJ1bmNhdGVkXVwiKTppLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtyXSk7cmV0dXJuIHQuZGF0YS5wYXlsb2FkLnBheWxvYWQ9aSxlfXJldHVybiBlfShyKTtpZih0aGlzLl91cGRhdGVXaW5kb3dBbmRTZXNzaW9uSWRzKG4pLCEwIT09dGhpcy5pc0lkbGV8fGpyKG4pKXtpZihqcihuKSl7dmFyIHM9bi5kYXRhLnBheWxvYWQ7aWYocyl7dmFyIG89cy5sYXN0QWN0aXZpdHlUaW1lc3RhbXAsYT1zLnRocmVzaG9sZDtuLnRpbWVzdGFtcD1vK2F9fXZhciBsPW51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5jb21wcmVzc19ldmVudHMpfHx2b2lkIDA9PT10fHx0P2Z1bmN0aW9uKGUpe2lmKEFpKGUpPDEwMjQpcmV0dXJuIGU7dHJ5e2lmKGUudHlwZT09PURpLkZ1bGxTbmFwc2hvdClyZXR1cm4geih6KHt9LGUpLHt9LHtkYXRhOkhyKGUuZGF0YSksY3Y6XCIyMDI0LTEwXCJ9KTtpZihlLnR5cGU9PT1EaS5JbmNyZW1lbnRhbFNuYXBzaG90JiZlLmRhdGEuc291cmNlPT09cWkuTXV0YXRpb24pcmV0dXJuIHooeih7fSxlKSx7fSx7Y3Y6XCIyMDI0LTEwXCIsZGF0YTp6KHooe30sZS5kYXRhKSx7fSx7dGV4dHM6SHIoZS5kYXRhLnRleHRzKSxhdHRyaWJ1dGVzOkhyKGUuZGF0YS5hdHRyaWJ1dGVzKSxyZW1vdmVzOkhyKGUuZGF0YS5yZW1vdmVzKSxhZGRzOkhyKGUuZGF0YS5hZGRzKX0pfSk7aWYoZS50eXBlPT09RGkuSW5jcmVtZW50YWxTbmFwc2hvdCYmZS5kYXRhLnNvdXJjZT09PXFpLlN0eWxlU2hlZXRSdWxlKXJldHVybiB6KHooe30sZSkse30se2N2OlwiMjAyNC0xMFwiLGRhdGE6eih6KHt9LGUuZGF0YSkse30se2FkZHM6ZS5kYXRhLmFkZHM/SHIoZS5kYXRhLmFkZHMpOnZvaWQgMCxyZW1vdmVzOmUuZGF0YS5yZW1vdmVzP0hyKGUuZGF0YS5yZW1vdmVzKTp2b2lkIDB9KX0pfWNhdGNoKGUpe0xyLmVycm9yKFwiY291bGQgbm90IGNvbXByZXNzIGV2ZW50IC0gd2lsbCB1c2UgdW5jb21wcmVzc2VkIGV2ZW50XCIsZSl9cmV0dXJuIGV9KG4pOm4sdT17JHNuYXBzaG90X2J5dGVzOkFpKGwpLCRzbmFwc2hvdF9kYXRhOmwsJHNlc3Npb25faWQ6dGhpcy5zZXNzaW9uSWQsJHdpbmRvd19pZDp0aGlzLndpbmRvd0lkfTtcImRpc2FibGVkXCIhPT10aGlzLnN0YXR1cz90aGlzLl9jYXB0dXJlU25hcHNob3RCdWZmZXJlZCh1KTp0aGlzLmNsZWFyQnVmZmVyKCl9fX19fV9wYWdlVmlld0ZhbGxCYWNrKCl7aWYoIXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnQpe3ZhciBlPXRoaXMuX21hc2tVcmwodC5sb2NhdGlvbi5ocmVmKTt0aGlzLl9sYXN0SHJlZiE9PWUmJih0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiR1cmxfY2hhbmdlZFwiLHtocmVmOmV9KSx0aGlzLl9sYXN0SHJlZj1lKX19X3Byb2Nlc3NRdWV1ZWRFdmVudHMoKXtpZih0aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLmxlbmd0aCl7dmFyIGU9Wy4uLnRoaXMucXVldWVkUlJXZWJFdmVudHNdO3RoaXMucXVldWVkUlJXZWJFdmVudHM9W10sZS5mb3JFYWNoKChlPT57RGF0ZS5ub3coKS1lLmVucXVldWVkQXQ8PTJlMyYmdGhpcy5fdHJ5UlJXZWJNZXRob2QoZSl9KSl9fV9tYXNrVXJsKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nO2lmKHQubWFza05ldHdvcmtSZXF1ZXN0Rm4pe3ZhciBpLHI9e3VybDplfTtyZXR1cm4gbnVsbD09PShpPXI9dC5tYXNrTmV0d29ya1JlcXVlc3RGbihyKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudXJsfXJldHVybiBlfWNsZWFyQnVmZmVyKCl7cmV0dXJuIHRoaXMuYnVmZmVyPXtzaXplOjAsZGF0YTpbXSxzZXNzaW9uSWQ6dGhpcy5zZXNzaW9uSWQsd2luZG93SWQ6dGhpcy53aW5kb3dJZH0sdGhpcy5idWZmZXJ9X2ZsdXNoQnVmZmVyKCl7dGhpcy5mbHVzaEJ1ZmZlclRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuZmx1c2hCdWZmZXJUaW1lciksdGhpcy5mbHVzaEJ1ZmZlclRpbWVyPXZvaWQgMCk7dmFyIGU9dGhpcy5taW5pbXVtRHVyYXRpb24sdD10aGlzLnNlc3Npb25EdXJhdGlvbixpPU0odCkmJnQ+PTAscj1NKGUpJiZpJiZ0PGU7aWYoXCJidWZmZXJpbmdcIj09PXRoaXMuc3RhdHVzfHxcInBhdXNlZFwiPT09dGhpcy5zdGF0dXN8fFwiZGlzYWJsZWRcIj09PXRoaXMuc3RhdHVzfHxyKXJldHVybiB0aGlzLmZsdXNoQnVmZmVyVGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSksMmUzKSx0aGlzLmJ1ZmZlcjt0aGlzLmJ1ZmZlci5kYXRhLmxlbmd0aD4wJiZMaSh0aGlzLmJ1ZmZlcikuZm9yRWFjaCgoZT0+e3RoaXMuX2NhcHR1cmVTbmFwc2hvdCh7JHNuYXBzaG90X2J5dGVzOmUuc2l6ZSwkc25hcHNob3RfZGF0YTplLmRhdGEsJHNlc3Npb25faWQ6ZS5zZXNzaW9uSWQsJHdpbmRvd19pZDplLndpbmRvd0lkLCRsaWI6XCJ3ZWJcIiwkbGliX3ZlcnNpb246Xy5MSUJfVkVSU0lPTn0pfSkpO3JldHVybiB0aGlzLmNsZWFyQnVmZmVyKCl9X2NhcHR1cmVTbmFwc2hvdEJ1ZmZlcmVkKGUpe3ZhciB0LGk9MisoKG51bGw9PT0odD10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGF0YS5sZW5ndGgpfHwwKTshdGhpcy5pc0lkbGUmJih0aGlzLmJ1ZmZlci5zaXplK2UuJHNuYXBzaG90X2J5dGVzK2k+OTQzNzE4LjR8fHRoaXMuYnVmZmVyLnNlc3Npb25JZCE9PXRoaXMuc2Vzc2lvbklkKSYmKHRoaXMuYnVmZmVyPXRoaXMuX2ZsdXNoQnVmZmVyKCkpLHRoaXMuYnVmZmVyLnNpemUrPWUuJHNuYXBzaG90X2J5dGVzLHRoaXMuYnVmZmVyLmRhdGEucHVzaChlLiRzbmFwc2hvdF9kYXRhKSx0aGlzLmZsdXNoQnVmZmVyVGltZXJ8fHRoaXMuaXNJZGxlfHwodGhpcy5mbHVzaEJ1ZmZlclRpbWVyPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fZmx1c2hCdWZmZXIoKX0pLDJlMykpfV9jYXB0dXJlU25hcHNob3QoZSl7dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJHNuYXBzaG90XCIsZSx7X3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0aGlzLl9lbmRwb2ludCksX25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwicmVjb3JkaW5nc1wiLHNraXBfY2xpZW50X3JhdGVfbGltaXRpbmc6ITB9KX1fY2hlY2tVcmxUcmlnZ2VyQ29uZGl0aW9ucygpe2lmKHZvaWQgMCE9PXQmJnQubG9jYXRpb24uaHJlZil7dmFyIGU9dC5sb2NhdGlvbi5ocmVmLGk9dGhpcy5fdXJsQmxvY2tlZCxyPVVyKGUsdGhpcy5fdXJsQmxvY2tsaXN0KTtyJiYhaT90aGlzLl9wYXVzZVJlY29yZGluZygpOiFyJiZpJiZ0aGlzLl9yZXN1bWVSZWNvcmRpbmcoKSxVcihlLHRoaXMuX3VybFRyaWdnZXJzKSYmdGhpcy5fYWN0aXZhdGVUcmlnZ2VyKFwidXJsXCIpfX1fYWN0aXZhdGVUcmlnZ2VyKGUpe3ZhciB0LGk7XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cyYmKG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbXCJ1cmxcIj09PWU/SWU6Q2VdOnRoaXMuc2Vzc2lvbklkfSksdGhpcy5fZmx1c2hCdWZmZXIoKSx0aGlzLl9yZXBvcnRTdGFydGVkKGUrXCJfdHJpZ2dlcl9tYXRjaGVkXCIpKX1fcGF1c2VSZWNvcmRpbmcoKXt0aGlzLl91cmxCbG9ja2VkfHwodGhpcy5fdXJsQmxvY2tlZD0hMCxjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSxMci5pbmZvKFwicmVjb3JkaW5nIHBhdXNlZCBkdWUgdG8gVVJMIGJsb2NrZXJcIiksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJyZWNvcmRpbmcgcGF1c2VkXCIse3JlYXNvbjpcInVybCBibG9ja2VyXCJ9KSl9X3Jlc3VtZVJlY29yZGluZygpe3RoaXMuX3VybEJsb2NrZWQmJih0aGlzLl91cmxCbG9ja2VkPSExLHRoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKSx0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwicmVjb3JkaW5nIHJlc3VtZWRcIix7cmVhc29uOlwibGVmdCBibG9ja2VkIHVybFwifSksTHIuaW5mbyhcInJlY29yZGluZyByZXN1bWVkXCIpKX1fYWRkRXZlbnRUcmlnZ2VyTGlzdGVuZXIoKXswIT09dGhpcy5fZXZlbnRUcmlnZ2Vycy5sZW5ndGgmJk8odGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2spJiYodGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2s9dGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+e3RyeXt0aGlzLl9ldmVudFRyaWdnZXJzLmluY2x1ZGVzKGUuZXZlbnQpJiZ0aGlzLl9hY3RpdmF0ZVRyaWdnZXIoXCJldmVudFwiKX1jYXRjaChlKXtMci5lcnJvcihcIkNvdWxkIG5vdCBhY3RpdmF0ZSBldmVudCB0cmlnZ2VyXCIsZSl9fSkpKX1vdmVycmlkZUxpbmtlZEZsYWcoKXt0aGlzLl9saW5rZWRGbGFnU2Vlbj0hMCx0aGlzLl90cnlUYWtlRnVsbFNuYXBzaG90KCksdGhpcy5fcmVwb3J0U3RhcnRlZChcImxpbmtlZF9mbGFnX292ZXJyaWRkZW5cIil9b3ZlcnJpZGVTYW1wbGluZygpe3ZhciBlO251bGw9PT0oZT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09ZXx8ZS5yZWdpc3Rlcih7W3hlXTohMH0pLHRoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKSx0aGlzLl9yZXBvcnRTdGFydGVkKFwic2FtcGxpbmdfb3ZlcnJpZGRlblwiKX1vdmVycmlkZVRyaWdnZXIoZSl7dGhpcy5fYWN0aXZhdGVUcmlnZ2VyKGUpfV9yZXBvcnRTdGFydGVkKGUsdCl7dGhpcy5pbnN0YW5jZS5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNlc3Npb25fcmVjb3JkaW5nX3N0YXJ0X3JlYXNvbjplfSksTHIuaW5mbyhlLnJlcGxhY2UoXCJfXCIsXCIgXCIpLHQpLG0oW1wicmVjb3JkaW5nX2luaXRpYWxpemVkXCIsXCJzZXNzaW9uX2lkX2NoYW5nZWRcIl0sZSl8fHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KGUsdCl9fXZhciBXcj1CKFwiW1NlZ21lbnRJbnRlZ3JhdGlvbl1cIik7ZnVuY3Rpb24gVnIoZSx0KXt2YXIgaT1lLmNvbmZpZy5zZWdtZW50O2lmKCFpKXJldHVybiB0KCk7IWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5jb25maWcuc2VnbWVudDtpZighaSlyZXR1cm4gdCgpO3ZhciByPWk9Pnt2YXIgcj0oKT0+aS5hbm9ueW1vdXNJZCgpfHxOdCgpO2UuY29uZmlnLmdldF9kZXZpY2VfaWQ9cixpLmlkKCkmJihlLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDppLmlkKCksJGRldmljZV9pZDpyKCl9KSxlLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShMZSxcImlkZW50aWZpZWRcIikpLHQoKX0sbj1pLnVzZXIoKTtcInRoZW5cImluIG4mJkkobi50aGVuKT9uLnRoZW4oKGU9PnIoZSkpKTpyKG4pfShlLCgoKT0+e2kucmVnaXN0ZXIoKGU9PntQcm9taXNlJiZQcm9taXNlLnJlc29sdmV8fFdyLndhcm4oXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBQcm9taXNlIHN1cHBvcnQsIGFuZCBjYW4gbm90IHVzZSB0aGUgc2VnbWVudCBpbnRlZ3JhdGlvblwiKTt2YXIgdD0odCxpKT0+e3ZhciByO2lmKCFpKXJldHVybiB0O3QuZXZlbnQudXNlcklkfHx0LmV2ZW50LmFub255bW91c0lkPT09ZS5nZXRfZGlzdGluY3RfaWQoKXx8KFdyLmluZm8oXCJObyB1c2VySWQgc2V0LCByZXNldHRpbmcgUG9zdEhvZ1wiKSxlLnJlc2V0KCkpLHQuZXZlbnQudXNlcklkJiZ0LmV2ZW50LnVzZXJJZCE9PWUuZ2V0X2Rpc3RpbmN0X2lkKCkmJihXci5pbmZvKFwiVXNlcklkIHNldCwgaWRlbnRpZnlpbmcgd2l0aCBQb3N0SG9nXCIpLGUuaWRlbnRpZnkodC5ldmVudC51c2VySWQpKTt2YXIgbj1lLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcyhpLG51bGwhPT0ocj10LmV2ZW50LnByb3BlcnRpZXMpJiZ2b2lkIDAhPT1yP3I6e30sbmV3IERhdGUpO3JldHVybiB0LmV2ZW50LnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbih7fSxuLHQuZXZlbnQucHJvcGVydGllcyksdH07cmV0dXJue25hbWU6XCJQb3N0SG9nIEpTXCIsdHlwZTpcImVucmljaG1lbnRcIix2ZXJzaW9uOlwiMS4wLjBcIixpc0xvYWRlZDooKT0+ITAsbG9hZDooKT0+UHJvbWlzZS5yZXNvbHZlKCksdHJhY2s6ZT0+dChlLGUuZXZlbnQuZXZlbnQpLHBhZ2U6ZT0+dChlLFwiJHBhZ2V2aWV3XCIpLGlkZW50aWZ5OmU9PnQoZSxcIiRpZGVudGlmeVwiKSxzY3JlZW46ZT0+dChlLFwiJHNjcmVlblwiKX19KShlKSkudGhlbigoKCk9Pnt0KCl9KSl9KSl9dmFyIEdyPVwicG9zdGhvZy1qc1wiO2Z1bmN0aW9uIEpyKGUpe3Zhcntvcmdhbml6YXRpb246dCxwcm9qZWN0SWQ6aSxwcmVmaXg6cixzZXZlcml0eUFsbG93TGlzdDpuPVtcImVycm9yXCJdfT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHM9Pnt2YXIgbyxhLGwsdSxjO2lmKCEoXCIqXCI9PT1ufHxuLmluY2x1ZGVzKHMubGV2ZWwpKXx8IWUuX19sb2FkZWQpcmV0dXJuIHM7cy50YWdzfHwocy50YWdzPXt9KTt2YXIgZD1lLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIuY29uY2F0KGUuY29uZmlnLnRva2VuLFwiL3BlcnNvbi9cIikuY29uY2F0KGUuZ2V0X2Rpc3RpbmN0X2lkKCkpKTtzLnRhZ3NbXCJQb3N0SG9nIFBlcnNvbiBVUkxcIl09ZCxlLnNlc3Npb25SZWNvcmRpbmdTdGFydGVkKCkmJihzLnRhZ3NbXCJQb3N0SG9nIFJlY29yZGluZyBVUkxcIl09ZS5nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKHt3aXRoVGltZXN0YW1wOiEwfSkpO3ZhciBoPShudWxsPT09KG89cy5leGNlcHRpb24pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnZhbHVlcyl8fFtdLHA9aC5tYXAoKGU9Pnooeih7fSxlKSx7fSx7c3RhY2t0cmFjZTplLnN0YWNrdHJhY2U/eih6KHt9LGUuc3RhY2t0cmFjZSkse30se3R5cGU6XCJyYXdcIixmcmFtZXM6KGUuc3RhY2t0cmFjZS5mcmFtZXN8fFtdKS5tYXAoKGU9Pnooeih7fSxlKSx7fSx7cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwifSkpKX0pOnZvaWQgMH0pKSksXz17JGV4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT09KGE9aFswXSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudmFsdWUpfHxzLm1lc3NhZ2UsJGV4Y2VwdGlvbl90eXBlOm51bGw9PT0obD1oWzBdKXx8dm9pZCAwPT09bD92b2lkIDA6bC50eXBlLCRleGNlcHRpb25fcGVyc29uVVJMOmQsJGV4Y2VwdGlvbl9sZXZlbDpzLmxldmVsLCRleGNlcHRpb25fbGlzdDpwLCRzZW50cnlfZXZlbnRfaWQ6cy5ldmVudF9pZCwkc2VudHJ5X2V4Y2VwdGlvbjpzLmV4Y2VwdGlvbiwkc2VudHJ5X2V4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT09KHU9aFswXSl8fHZvaWQgMD09PXU/dm9pZCAwOnUudmFsdWUpfHxzLm1lc3NhZ2UsJHNlbnRyeV9leGNlcHRpb25fdHlwZTpudWxsPT09KGM9aFswXSl8fHZvaWQgMD09PWM/dm9pZCAwOmMudHlwZSwkc2VudHJ5X3RhZ3M6cy50YWdzfTtyZXR1cm4gdCYmaSYmKF8uJHNlbnRyeV91cmw9KHJ8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrdCtcIi9pc3N1ZXMvP3Byb2plY3Q9XCIraStcIiZxdWVyeT1cIitzLmV2ZW50X2lkKSxlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KF8pLHN9fWNsYXNzIFlye2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy5uYW1lPUdyLHRoaXMuc2V0dXBPbmNlPWZ1bmN0aW9uKHMpe3MoSnIoZSx7b3JnYW5pemF0aW9uOnQscHJvamVjdElkOmkscHJlZml4OnIsc2V2ZXJpdHlBbGxvd0xpc3Q6bn0pKX19fXZhciBLcixYcj1udWxsIT10JiZ0LmxvY2F0aW9uP0l0KHQubG9jYXRpb24uaGFzaCxcIl9fcG9zdGhvZ1wiKXx8SXQobG9jYXRpb24uaGFzaCxcInN0YXRlXCIpOm51bGwsUXI9XCJfcG9zdEhvZ1Rvb2xiYXJQYXJhbXNcIixacj1CKFwiW1Rvb2xiYXJdXCIpOyFmdW5jdGlvbihlKXtlW2UuVU5JTklUSUFMSVpFRD0wXT1cIlVOSU5JVElBTElaRURcIixlW2UuTE9BRElORz0xXT1cIkxPQURJTkdcIixlW2UuTE9BREVEPTJdPVwiTE9BREVEXCJ9KEtyfHwoS3I9e30pKTtjbGFzcyBlbntjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9c2V0VG9vbGJhclN0YXRlKGUpe3AucGhfdG9vbGJhcl9zdGF0ZT1lfWdldFRvb2xiYXJTdGF0ZSgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9cC5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09ZT9lOktyLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcigpe3ZhciBlLGkscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnZvaWQgMCxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIXR8fCFhKXJldHVybiExO3I9bnVsbCE9PShlPXIpJiZ2b2lkIDAhPT1lP2U6dC5sb2NhdGlvbixzPW51bGwhPT0oaT1zKSYmdm9pZCAwIT09aT9pOnQuaGlzdG9yeTt0cnl7aWYoIW4pe3RyeXt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVzdFwiLFwidGVzdFwiKSx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidGVzdFwiKX1jYXRjaChlKXtyZXR1cm4hMX1uPW51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlfXZhciBvLGw9WHJ8fEl0KHIuaGFzaCxcIl9fcG9zdGhvZ1wiKXx8SXQoci5oYXNoLFwic3RhdGVcIiksdT1sP1ooKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpKXx8WigoKCk9PkpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpOm51bGw7cmV0dXJuIHUmJlwicGhfYXV0aG9yaXplXCI9PT11LmFjdGlvbj8oKG89dSkuc291cmNlPVwidXJsXCIsbyYmT2JqZWN0LmtleXMobykubGVuZ3RoPjAmJih1LmRlc2lyZWRIYXNoP3IuaGFzaD11LmRlc2lyZWRIYXNoOnM/cy5yZXBsYWNlU3RhdGUocy5zdGF0ZSxcIlwiLHIucGF0aG5hbWUrci5zZWFyY2gpOnIuaGFzaD1cIlwiKSk6KChvPUpTT04ucGFyc2Uobi5nZXRJdGVtKFFyKXx8XCJ7fVwiKSkuc291cmNlPVwibG9jYWxzdG9yYWdlXCIsZGVsZXRlIG8udXNlckludGVudCksISghby50b2tlbnx8dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4hPT1vLnRva2VuKSYmKHRoaXMubG9hZFRvb2xiYXIobyksITApfWNhdGNoKGUpe3JldHVybiExfX1fY2FsbExvYWRUb29sYmFyKGUpe3ZhciB0PXAucGhfbG9hZF90b29sYmFyfHxwLnBoX2xvYWRfZWRpdG9yOyFPKHQpJiZJKHQpP3QoZSx0aGlzLmluc3RhbmNlKTpaci53YXJuKFwiTm8gdG9vbGJhciBsb2FkIGZ1bmN0aW9uIGZvdW5kXCIpfWxvYWRUb29sYmFyKGUpe3ZhciBpPSEobnVsbD09YXx8IWEuZ2V0RWxlbWVudEJ5SWQoVWUpKTtpZighdHx8aSlyZXR1cm4hMTt2YXIgcj1cImN1c3RvbVwiPT09dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLnJlZ2lvbiYmdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3Msbj16KHooe3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VufSxlKSx7fSx7YXBpVVJMOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIpfSxyP3tpbnN0cnVtZW50OiExfTp7fSk7aWYodC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShRcixKU09OLnN0cmluZ2lmeSh6KHooe30sbikse30se3NvdXJjZTp2b2lkIDB9KSkpLHRoaXMuZ2V0VG9vbGJhclN0YXRlKCk9PT1Lci5MT0FERUQpdGhpcy5fY2FsbExvYWRUb29sYmFyKG4pO2Vsc2UgaWYodGhpcy5nZXRUb29sYmFyU3RhdGUoKT09PUtyLlVOSU5JVElBTElaRUQpe3ZhciBzLG87dGhpcy5zZXRUb29sYmFyU3RhdGUoS3IuTE9BRElORyksbnVsbD09PShzPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PW98fG8uY2FsbChzLHRoaXMuaW5zdGFuY2UsXCJ0b29sYmFyXCIsKGU9PntpZihlKXJldHVybiBaci5lcnJvcihcIltUb29sYmFyXSBGYWlsZWQgdG8gbG9hZFwiLGUpLHZvaWQgdGhpcy5zZXRUb29sYmFyU3RhdGUoS3IuVU5JTklUSUFMSVpFRCk7dGhpcy5zZXRUb29sYmFyU3RhdGUoS3IuTE9BREVEKSx0aGlzLl9jYWxsTG9hZFRvb2xiYXIobil9KSksb2UodCxcInR1cmJvbGlua3M6bG9hZFwiLCgoKT0+e3RoaXMuc2V0VG9vbGJhclN0YXRlKEtyLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIobil9KSl9cmV0dXJuITB9X2xvYWRFZGl0b3IoZSl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIoZSl9bWF5YmVMb2FkRWRpdG9yKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnZvaWQgMCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiB0aGlzLm1heWJlTG9hZFRvb2xiYXIoZSx0LGkpfX12YXIgdG49QihcIltUcmFjaW5nSGVhZGVyc11cIik7Y2xhc3Mgcm57Y29uc3RydWN0b3IoZSl7Vyh0aGlzLFwiX3Jlc3RvcmVYSFJQYXRjaFwiLHZvaWQgMCksVyh0aGlzLFwiX3Jlc3RvcmVGZXRjaFBhdGNoXCIsdm9pZCAwKSxXKHRoaXMsXCJfc3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSx0LGkscjtGKHRoaXMuX3Jlc3RvcmVYSFJQYXRjaCkmJihudWxsPT09KGU9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zKXx8dm9pZCAwPT09dHx8dC5fcGF0Y2hYSFIodGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO0YodGhpcy5fcmVzdG9yZUZldGNoUGF0Y2gpJiYobnVsbD09PShpPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fHZvaWQgMD09PXJ8fHIuX3BhdGNoRmV0Y2godGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpfSkpLHRoaXMuaW5zdGFuY2U9ZX1fbG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZlKCksbnVsbD09PShpPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJ0cmFjaW5nLWhlYWRlcnNcIiwodD0+e2lmKHQpcmV0dXJuIHRuLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk7ZSgpfSkpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKCl7dmFyIGUsdDt0aGlzLmluc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5fbG9hZFNjcmlwdCh0aGlzLl9zdGFydENhcHR1cmluZyk6KG51bGw9PT0oZT10aGlzLl9yZXN0b3JlWEhSUGF0Y2gpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyksbnVsbD09PSh0PXRoaXMuX3Jlc3RvcmVGZXRjaFBhdGNoKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMuX3Jlc3RvcmVYSFJQYXRjaD12b2lkIDAsdGhpcy5fcmVzdG9yZUZldGNoUGF0Y2g9dm9pZCAwKX19dmFyIG5uPUIoXCJbV2ViIFZpdGFsc11cIiksc249OWU1O2NsYXNzIG9ue2NvbnN0cnVjdG9yKGUpe3ZhciB0O1codGhpcyxcIl9lbmFibGVkU2VydmVyU2lkZVwiLCExKSxXKHRoaXMsXCJfaW5pdGlhbGl6ZWRcIiwhMSksVyh0aGlzLFwiYnVmZmVyXCIse3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KSxXKHRoaXMsXCJfZmx1c2hUb0NhcHR1cmVcIiwoKCk9PntjbGVhclRpbWVvdXQodGhpcy5fZGVsYXllZEZsdXNoVGltZXIpLDAhPT10aGlzLmJ1ZmZlci5tZXRyaWNzLmxlbmd0aCYmKHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiR3ZWJfdml0YWxzXCIsdGhpcy5idWZmZXIubWV0cmljcy5yZWR1Y2UoKChlLHQpPT56KHooe30sZSkse30se1tcIiR3ZWJfdml0YWxzX1wiLmNvbmNhdCh0Lm5hbWUsXCJfZXZlbnRcIildOnooe30sdCksW1wiJHdlYl92aXRhbHNfXCIuY29uY2F0KHQubmFtZSxcIl92YWx1ZVwiKV06dC52YWx1ZX0pKSx7fSkpLHRoaXMuYnVmZmVyPXt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSl9KSksVyh0aGlzLFwiX2FkZFRvQnVmZmVyXCIsKGU9Pnt2YXIgdCxpPW51bGw9PT0odD10aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCk7aWYoRihpKSlubi5lcnJvcihcIkNvdWxkIG5vdCByZWFkIHNlc3Npb24gSUQuIERyb3BwaW5nIG1ldHJpY3MhXCIpO2Vsc2V7dGhpcy5idWZmZXI9dGhpcy5idWZmZXJ8fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLl9jdXJyZW50VVJMKCk7aWYoIUYocikpaWYoTyhudWxsPT1lP3ZvaWQgMDplLm5hbWUpfHxPKG51bGw9PWU/dm9pZCAwOmUudmFsdWUpKW5uLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIixlKTtlbHNlIGlmKHRoaXMuX21heEFsbG93ZWRWYWx1ZSYmZS52YWx1ZT49dGhpcy5fbWF4QWxsb3dlZFZhbHVlKW5uLmVycm9yKFwiSWdub3JpbmcgbWV0cmljIHdpdGggdmFsdWUgPj0gXCIrdGhpcy5fbWF4QWxsb3dlZFZhbHVlLGUpO2Vsc2UgdGhpcy5idWZmZXIudXJsIT09ciYmKHRoaXMuX2ZsdXNoVG9DYXB0dXJlKCksdGhpcy5fZGVsYXllZEZsdXNoVGltZXI9c2V0VGltZW91dCh0aGlzLl9mbHVzaFRvQ2FwdHVyZSx0aGlzLmZsdXNoVG9DYXB0dXJlVGltZW91dE1zKSksRih0aGlzLmJ1ZmZlci51cmwpJiYodGhpcy5idWZmZXIudXJsPXIpLHRoaXMuYnVmZmVyLmZpcnN0TWV0cmljVGltZXN0YW1wPUYodGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXApP0RhdGUubm93KCk6dGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXAsZS5hdHRyaWJ1dGlvbiYmZS5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJihlLmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMuYnVmZmVyLm1ldHJpY3MucHVzaCh6KHooe30sZSkse30seyRjdXJyZW50X3VybDpyLCRzZXNzaW9uX2lkOmkuc2Vzc2lvbklkLCR3aW5kb3dfaWQ6aS53aW5kb3dJZCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pKSx0aGlzLmJ1ZmZlci5tZXRyaWNzLmxlbmd0aD09PXRoaXMuYWxsb3dlZE1ldHJpY3MubGVuZ3RoJiZ0aGlzLl9mbHVzaFRvQ2FwdHVyZSgpfX0pKSxXKHRoaXMsXCJfc3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSx0LGkscixuPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO0Yobil8fEYobi5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDplLG9uQ0xTOnQsb25GQ1A6aSxvbklOUDpyfT1uLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLGUmJnQmJmkmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmZSh0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJDTFNcIik+LTEmJnQodGhpcy5fYWRkVG9CdWZmZXIuYmluZCh0aGlzKSksdGhpcy5hbGxvd2VkTWV0cmljcy5pbmRleE9mKFwiRkNQXCIpPi0xJiZpKHRoaXMuX2FkZFRvQnVmZmVyLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLl9pbml0aWFsaXplZD0hMCk6bm4uZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT0hKG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8IXQucHJvcHNbcGVdKSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0IGFsbG93ZWRNZXRyaWNzKCl7dmFyIGUsdCxpPUModGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDtyZXR1cm4gRihpKT8obnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW3ZlXSl8fFtcIkNMU1wiLFwiRkNQXCIsXCJJTlBcIixcIkxDUFwiXTppfWdldCBmbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcygpe3JldHVybihDKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19kZWxheWVkX2ZsdXNoX21zOnZvaWQgMCl8fDVlM31nZXQgX21heEFsbG93ZWRWYWx1ZSgpe3ZhciBlPUModGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJk0odGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS5fX3dlYl92aXRhbHNfbWF4X3ZhbHVlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWU6c247cmV0dXJuIDA8ZSYmZTw9NmU0P3NuOmV9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlPUModGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzOnZvaWQgMDtyZXR1cm4gQShlKT9lOnRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLl9pbml0aWFsaXplZCYmKG5uLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLmxvYWRTY3JpcHQodGhpcy5fc3RhcnRDYXB0dXJpbmcpKX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD1DKGUuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISFlLmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGk9QyhlLmNhcHR1cmVQZXJmb3JtYW5jZSk/ZS5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJih0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbcGVdOnR9KSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbdmVdOml9KSksdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9bG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZlKCksbnVsbD09PShpPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJ3ZWItdml0YWxzXCIsKHQ9Pnt0P25uLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk6ZSgpfSkpfV9jdXJyZW50VVJMKCl7dmFyIGU9dD90LmxvY2F0aW9uLmhyZWY6dm9pZCAwO3JldHVybiBlfHxubi5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIiksZX19dmFyIGFuPUIoXCJbSGVhdG1hcHNdXCIpO2Z1bmN0aW9uIGxuKGUpe3JldHVybiBDKGUpJiZcImNsaWVudFhcImluIGUmJlwiY2xpZW50WVwiaW4gZSYmTShlLmNsaWVudFgpJiZNKGUuY2xpZW50WSl9Y2xhc3MgdW57Y29uc3RydWN0b3IoZSl7dmFyIHQ7Vyh0aGlzLFwicmFnZWNsaWNrc1wiLG5ldyBidCksVyh0aGlzLFwiX2VuYWJsZWRTZXJ2ZXJTaWRlXCIsITEpLFcodGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxXKHRoaXMsXCJfZmx1c2hJbnRlcnZhbFwiLG51bGwpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT0hKG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8IXQucHJvcHNbZGVdKX1nZXQgZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcygpe3ZhciBlPTVlMztyZXR1cm4gQyh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKSYmdGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMmJihlPXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzKSxlfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gRih0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKT9GKHRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwcyk/dGhpcy5fZW5hYmxlZFNlcnZlclNpZGU6dGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzOiExIT09dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwc31zdGFydElmRW5hYmxlZCgpe2lmKHRoaXMuaXNFbmFibGVkKXtpZih0aGlzLl9pbml0aWFsaXplZClyZXR1cm47YW4uaW5mbyhcInN0YXJ0aW5nLi4uXCIpLHRoaXMuX3NldHVwTGlzdGVuZXJzKCksdGhpcy5fZmx1c2hJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLmZsdXNoLmJpbmQodGhpcyksdGhpcy5mbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKX1lbHNle3ZhciBlLHQ7Y2xlYXJJbnRlcnZhbChudWxsIT09KGU9dGhpcy5fZmx1c2hJbnRlcnZhbCkmJnZvaWQgMCE9PWU/ZTp2b2lkIDApLG51bGw9PT0odD10aGlzLmRlYWRDbGlja3NDYXB0dXJlKXx8dm9pZCAwPT09dHx8dC5zdG9wKCksdGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD0hIWUuaGVhdG1hcHM7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2RlXTp0fSksdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0QW5kQ2xlYXJCdWZmZXIoKXt2YXIgZT10aGlzLmJ1ZmZlcjtyZXR1cm4gdGhpcy5idWZmZXI9dm9pZCAwLGV9X29uRGVhZENsaWNrKGUpe3RoaXMuX29uQ2xpY2soZS5vcmlnaW5hbEV2ZW50LFwiZGVhZGNsaWNrXCIpfV9zZXR1cExpc3RlbmVycygpe3QmJmEmJihvZSh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5mbHVzaC5iaW5kKHRoaXMpKSxvZShhLFwiY2xpY2tcIiwoZT0+dGhpcy5fb25DbGljayhlfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx7Y2FwdHVyZTohMH0pLG9lKGEsXCJtb3VzZW1vdmVcIiwoZT0+dGhpcy5fb25Nb3VzZU1vdmUoZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSx0aGlzLmRlYWRDbGlja3NDYXB0dXJlPW5ldyBzaSh0aGlzLmluc3RhbmNlLHJpLHRoaXMuX29uRGVhZENsaWNrLmJpbmQodGhpcykpLHRoaXMuZGVhZENsaWNrc0NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLl9pbml0aWFsaXplZD0hMCl9X2dldFByb3BlcnRpZXMoZSxpKXt2YXIgcj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWSgpLG49dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFgoKSxzPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxFbGVtZW50KCksbz1mdW5jdGlvbihlLGkscil7Zm9yKHZhciBuPWU7biYmR2UobikmJiFKZShuLFwiYm9keVwiKTspe2lmKG49PT1yKXJldHVybiExO2lmKG0oaSxudWxsPT10P3ZvaWQgMDp0LmdldENvbXB1dGVkU3R5bGUobikucG9zaXRpb24pKXJldHVybiEwO249bnQobil9cmV0dXJuITF9KGl0KGUpLFtcImZpeGVkXCIsXCJzdGlja3lcIl0scyk7cmV0dXJue3g6ZS5jbGllbnRYKyhvPzA6bikseTplLmNsaWVudFkrKG8/MDpyKSx0YXJnZXRfZml4ZWQ6byx0eXBlOml9fV9vbkNsaWNrKGUpe3ZhciB0LGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiY2xpY2tcIjtpZighVmUoZS50YXJnZXQpJiZsbihlKSl7dmFyIHI9dGhpcy5fZ2V0UHJvcGVydGllcyhlLGkpO251bGwhPT0odD10aGlzLnJhZ2VjbGlja3MpJiZ2b2lkIDAhPT10JiZ0LmlzUmFnZUNsaWNrKGUuY2xpZW50WCxlLmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZ0aGlzLl9jYXB0dXJlKHooeih7fSxyKSx7fSx7dHlwZTpcInJhZ2VjbGlja1wifSkpLHRoaXMuX2NhcHR1cmUocil9fV9vbk1vdXNlTW92ZShlKXshVmUoZS50YXJnZXQpJiZsbihlKSYmKGNsZWFyVGltZW91dCh0aGlzLl9tb3VzZU1vdmVUaW1lb3V0KSx0aGlzLl9tb3VzZU1vdmVUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5fY2FwdHVyZSh0aGlzLl9nZXRQcm9wZXJ0aWVzKGUsXCJtb3VzZW1vdmVcIikpfSksNTAwKSl9X2NhcHR1cmUoZSl7aWYodCl7dmFyIGk9dC5sb2NhdGlvbi5ocmVmO3RoaXMuYnVmZmVyPXRoaXMuYnVmZmVyfHx7fSx0aGlzLmJ1ZmZlcltpXXx8KHRoaXMuYnVmZmVyW2ldPVtdKSx0aGlzLmJ1ZmZlcltpXS5wdXNoKGUpfX1mbHVzaCgpe3RoaXMuYnVmZmVyJiYhUCh0aGlzLmJ1ZmZlcikmJnRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkaGVhdG1hcFwiLHskaGVhdG1hcF9kYXRhOnRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX0pfX1jbGFzcyBjbntjb25zdHJ1Y3RvcihlKXt0aGlzLl9pbnN0YW5jZT1lfWRvUGFnZVZpZXcoZSxpKXt2YXIgcixuPXRoaXMuX3ByZXZpb3VzUGFnZVZpZXdQcm9wZXJ0aWVzKGUsaSk7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYWdldmlldz17cGF0aG5hbWU6bnVsbCE9PShyPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24ucGF0aG5hbWUpJiZ2b2lkIDAhPT1yP3I6XCJcIixwYWdlVmlld0lkOmksdGltZXN0YW1wOmV9LHRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIucmVzZXRDb250ZXh0KCksbn1kb1BhZ2VMZWF2ZShlKXt2YXIgdDtyZXR1cm4gdGhpcy5fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSxudWxsPT09KHQ9dGhpcy5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09dD92b2lkIDA6dC5wYWdlVmlld0lkKX1kb0V2ZW50KCl7dmFyIGU7cmV0dXJueyRwYWdldmlld19pZDpudWxsPT09KGU9dGhpcy5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wYWdlVmlld0lkfX1fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSx0KXt2YXIgaT10aGlzLl9jdXJyZW50UGFnZXZpZXc7aWYoIWkpcmV0dXJueyRwYWdldmlld19pZDp0fTt2YXIgcj17JHBhZ2V2aWV3X2lkOnQsJHByZXZfcGFnZXZpZXdfaWQ6aS5wYWdlVmlld0lkfSxuPXRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIuZ2V0Q29udGV4dCgpO2lmKG4mJiF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllcyl7dmFye21heFNjcm9sbEhlaWdodDpzLGxhc3RTY3JvbGxZOm8sbWF4U2Nyb2xsWTphLG1heENvbnRlbnRIZWlnaHQ6bCxsYXN0Q29udGVudFk6dSxtYXhDb250ZW50WTpjfT1uO2lmKCEoRihzKXx8RihvKXx8RihhKXx8RihsKXx8Rih1KXx8RihjKSkpe3M9TWF0aC5jZWlsKHMpLG89TWF0aC5jZWlsKG8pLGE9TWF0aC5jZWlsKGEpLGw9TWF0aC5jZWlsKGwpLHU9TWF0aC5jZWlsKHUpLGM9TWF0aC5jZWlsKGMpO3ZhciBkPXM8PTE/MTpKaShvL3MsMCwxKSxoPXM8PTE/MTpKaShhL3MsMCwxKSxwPWw8PTE/MTpKaSh1L2wsMCwxKSxfPWw8PTE/MTpKaShjL2wsMCwxKTtyPUsocix7JHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGw6bywkcHJldl9wYWdldmlld19sYXN0X3Njcm9sbF9wZXJjZW50YWdlOmQsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbDphLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGxfcGVyY2VudGFnZTpoLCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudDp1LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudF9wZXJjZW50YWdlOnAsJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnQ6YywkcHJldl9wYWdldmlld19tYXhfY29udGVudF9wZXJjZW50YWdlOl99KX19cmV0dXJuIGkucGF0aG5hbWUmJihyLiRwcmV2X3BhZ2V2aWV3X3BhdGhuYW1lPWkucGF0aG5hbWUpLGkudGltZXN0YW1wJiYoci4kcHJldl9wYWdldmlld19kdXJhdGlvbj0oZS5nZXRUaW1lKCktaS50aW1lc3RhbXAuZ2V0VGltZSgpKS8xZTMpLHJ9fWNsYXNzIGRue2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZX1zZW5kRXhjZXB0aW9uRXZlbnQoZSl7dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJGV4Y2VwdGlvblwiLGUse19ub1RydW5jYXRlOiEwLF9iYXRjaEtleTpcImV4Y2VwdGlvbkV2ZW50XCJ9KX19dmFyIGhuPVwiTW9iaWxlXCIscG49XCJpT1NcIixfbj1cIkFuZHJvaWRcIix2bj1cIlRhYmxldFwiLGduPV9uK1wiIFwiK3ZuLGZuPVwiaVBhZFwiLG1uPVwiQXBwbGVcIix5bj1tbitcIiBXYXRjaFwiLGJuPVwiU2FmYXJpXCIsd249XCJCbGFja0JlcnJ5XCIsU249XCJTYW1zdW5nXCIsa249U24rXCJCcm93c2VyXCIsRW49U24rXCIgSW50ZXJuZXRcIix4bj1cIkNocm9tZVwiLEluPXhuK1wiIE9TXCIsQ249eG4rXCIgXCIrcG4sUG49XCJJbnRlcm5ldCBFeHBsb3JlclwiLEZuPVBuK1wiIFwiK2huLFRuPVwiT3BlcmFcIixSbj1UbitcIiBNaW5pXCIsJG49XCJFZGdlXCIsT249XCJNaWNyb3NvZnQgXCIrJG4sTW49XCJGaXJlZm94XCIsQW49TW4rXCIgXCIrcG4sTG49XCJOaW50ZW5kb1wiLERuPVwiUGxheVN0YXRpb25cIixxbj1cIlhib3hcIixObj1fbitcIiBcIitobixCbj1obitcIiBcIitibixIbj1cIldpbmRvd3NcIixqbj1IbitcIiBQaG9uZVwiLFVuPVwiTm9raWFcIix6bj1cIk91eWFcIixXbj1cIkdlbmVyaWNcIixWbj1XbitcIiBcIitobi50b0xvd2VyQ2FzZSgpLEduPVduK1wiIFwiK3ZuLnRvTG93ZXJDYXNlKCksSm49XCJLb25xdWVyb3JcIixZbj1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIixLbj1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIitZbiksWG49bmV3IFJlZ0V4cChxbixcImlcIiksUW49bmV3IFJlZ0V4cChEbitcIiBcXFxcdytcIixcImlcIiksWm49bmV3IFJlZ0V4cChMbitcIiBcXFxcdytcIixcImlcIiksZXM9bmV3IFJlZ0V4cCh3bitcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLHRzPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciBpcyxycz0oZSx0KT0+dCYmbSh0LG1uKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZSxibikmJiFtKGUseG4pJiYhbShlLF9uKX0oZSksbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxcIlwiLG0oZSxcIiBPUFIvXCIpJiZtKGUsXCJNaW5pXCIpP1JuOm0oZSxcIiBPUFIvXCIpP1RuOmVzLnRlc3QoZSk/d246bShlLFwiSUVcIitobil8fG0oZSxcIldQRGVza3RvcFwiKT9GbjptKGUsa24pP0VuOm0oZSwkbil8fG0oZSxcIkVkZy9cIik/T246bShlLFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIitobjptKGUsXCJVQ1dFQlwiKXx8bShlLFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOm0oZSxcIkNyaU9TXCIpP0NuOm0oZSxcIkNyTW9cIil8fG0oZSx4bik/eG46bShlLF9uKSYmbShlLGJuKT9ObjptKGUsXCJGeGlPU1wiKT9BbjptKGUudG9Mb3dlckNhc2UoKSxKbi50b0xvd2VyQ2FzZSgpKT9KbjpycyhlLHQpP20oZSxobik/Qm46Ym46bShlLE1uKT9NbjptKGUsXCJNU0lFXCIpfHxtKGUsXCJUcmlkZW50L1wiKT9QbjptKGUsXCJHZWNrb1wiKT9NbjpcIlwifSxzcz17W0ZuXTpbbmV3IFJlZ0V4cChcInJ2OlwiK1luKV0sW09uXTpbbmV3IFJlZ0V4cCgkbitcIj9cXFxcL1wiK1luKV0sW3huXTpbbmV3IFJlZ0V4cChcIihcIit4bitcInxDck1vKVxcXFwvXCIrWW4pXSxbQ25dOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK1luKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrWW4pXSxbYm5dOltLbl0sW0JuXTpbS25dLFtUbl06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrWW4pXSxbTW5dOltuZXcgUmVnRXhwKE1uK1wiXFxcXC9cIitZbildLFtBbl06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrWW4pXSxbSm5dOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIitZbixcImlcIildLFt3bl06W25ldyBSZWdFeHAod24rXCIgXCIrWW4pLEtuXSxbTm5dOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrWW4sXCJpXCIpXSxbRW5dOltuZXcgUmVnRXhwKGtuK1wiXFxcXC9cIitZbildLFtQbl06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK1luKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK1luKV19LG9zPVtbbmV3IFJlZ0V4cChxbitcIjsgXCIrcW4rXCIgKC4qPylbKTtdXCIsXCJpXCIpLGU9PltxbixlJiZlWzFdfHxcIlwiXV0sW25ldyBSZWdFeHAoTG4sXCJpXCIpLFtMbixcIlwiXV0sW25ldyBSZWdFeHAoRG4sXCJpXCIpLFtEbixcIlwiXV0sW2VzLFt3bixcIlwiXV0sW25ldyBSZWdFeHAoSG4sXCJpXCIpLChlLHQpPT57aWYoL1Bob25lLy50ZXN0KHQpfHwvV1BEZXNrdG9wLy50ZXN0KHQpKXJldHVybltqbixcIlwiXTtpZihuZXcgUmVnRXhwKGhuKS50ZXN0KHQpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KHQpKXJldHVybltIbitcIiBcIitobixcIlwiXTt2YXIgaT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKHQpO2lmKGkmJmlbMV0pe3ZhciByPWlbMV0sbj10c1tyXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdCh0KSYmKG49XCJSVFwiKSxbSG4sbl19cmV0dXJuW0huLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyxlPT57aWYoZSYmZVszXSl7dmFyIHQ9W2VbM10sZVs0XSxlWzVdfHxcIjBcIl07cmV0dXJuW3BuLHQuam9pbihcIi5cIildfXJldHVybltwbixcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSxlPT57dmFyIHQ9XCJcIjtyZXR1cm4gZSYmZS5sZW5ndGg+PTMmJih0PUYoZVsyXSk/ZVszXTplWzJdKSxbXCJ3YXRjaE9TXCIsdF19XSxbbmV3IFJlZ0V4cChcIihcIitfbitcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrX24rXCIpXCIsXCJpXCIpLGU9PntpZihlJiZlWzJdKXt2YXIgdD1bZVsyXSxlWzNdLGVbNF18fFwiMFwiXTtyZXR1cm5bX24sdC5qb2luKFwiLlwiKV19cmV0dXJuW19uLFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksZT0+e3ZhciB0PVtcIk1hYyBPUyBYXCIsXCJcIl07aWYoZSYmZVsxXSl7dmFyIGk9W2VbMV0sZVsyXSxlWzNdfHxcIjBcIl07dFsxXT1pLmpvaW4oXCIuXCIpfXJldHVybiB0fV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFtJbixcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIFpuLnRlc3QoZSk/TG46UW4udGVzdChlKT9EbjpYbi50ZXN0KGUpP3FuOm5ldyBSZWdFeHAoem4sXCJpXCIpLnRlc3QoZSk/em46bmV3IFJlZ0V4cChcIihcIitqbitcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QoZSk/am46L2lQYWQvLnRlc3QoZSk/Zm46L2lQb2QvLnRlc3QoZSk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdChlKT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdChlKT95bjplcy50ZXN0KGUpP3duOi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KGUpP1wiS29ib1wiOm5ldyBSZWdFeHAoVW4sXCJpXCIpLnRlc3QoZSk/VW46LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QoZSl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QoZSk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdChlKT8hbmV3IFJlZ0V4cChobikudGVzdChlKXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QoZSk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KGUpJiYhL3BpeGVsIGMvaS50ZXN0KGUpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdChlKXx8L2xteTQ3di9pLnRlc3QoZSkmJiEvUVRBUVozL2kudGVzdChlKT9fbjpnbjpfbjpuZXcgUmVnRXhwKFwiKHBkYXxcIitobitcIilcIixcImlcIikudGVzdChlKT9WbjpuZXcgUmVnRXhwKHZuLFwiaVwiKS50ZXN0KGUpJiYhbmV3IFJlZ0V4cCh2bitcIiBwY1wiLFwiaVwiKS50ZXN0KGUpP0duOlwiXCJ9LGxzPVwiaHR0cHM/Oi8vKC4qKVwiLHVzPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImlyY2xpZFwiLFwiX2t4XCJdLGNzPVgoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSx1cyksZHM9XCI8bWFza2VkPlwiLGhzPXtjYW1wYWlnblBhcmFtczpmdW5jdGlvbigpe3ZhcntjdXN0b21UcmFja2VkUGFyYW1zOmUsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dCxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOml9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZighYSlyZXR1cm57fTt2YXIgcj10P1goW10sdXMsaXx8W10pOltdO3JldHVybiB0aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21VcmwoeHQoYS5VUkwscixkcyksZSl9LF9jYW1wYWlnblBhcmFtc0Zyb21Vcmw6ZnVuY3Rpb24oZSx0KXt2YXIgaT1jcy5jb25jYXQodHx8W10pLHI9e307cmV0dXJuIFkoaSwoZnVuY3Rpb24odCl7dmFyIGk9RXQoZSx0KTtyW3RdPWl8fG51bGx9KSkscn0sX3NlYXJjaEVuZ2luZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8wPT09ZS5zZWFyY2gobHMrXCJnb29nbGUuKFteLz9dKilcIik/XCJnb29nbGVcIjowPT09ZS5zZWFyY2gobHMrXCJiaW5nLmNvbVwiKT9cImJpbmdcIjowPT09ZS5zZWFyY2gobHMrXCJ5YWhvby5jb21cIik/XCJ5YWhvb1wiOjA9PT1lLnNlYXJjaChscytcImR1Y2tkdWNrZ28uY29tXCIpP1wiZHVja2R1Y2tnb1wiOm51bGw6bnVsbH0sX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9aHMuX3NlYXJjaEVuZ2luZShlKSxpPVwieWFob29cIiE9dD9cInFcIjpcInBcIixyPXt9O2lmKCEkKHQpKXtyLiRzZWFyY2hfZW5naW5lPXQ7dmFyIG49YT9FdChhLnJlZmVycmVyLGkpOlwiXCI7bi5sZW5ndGgmJihyLnBoX2tleXdvcmQ9bil9cmV0dXJuIHJ9LHNlYXJjaEluZm86ZnVuY3Rpb24oKXt2YXIgZT1udWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyO3JldHVybiBlP3RoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoZSk6e319LGJyb3dzZXI6bnMsYnJvd3NlclZlcnNpb246ZnVuY3Rpb24oZSx0KXt2YXIgaT1ucyhlLHQpLHI9c3NbaV07aWYoRihyKSlyZXR1cm4gbnVsbDtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIHM9cltuXSxvPWUubWF0Y2gocyk7aWYobylyZXR1cm4gcGFyc2VGbG9hdChvW28ubGVuZ3RoLTJdKX1yZXR1cm4gbnVsbH0sYnJvd3Nlckxhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZX0sYnJvd3Nlckxhbmd1YWdlUHJlZml4OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5icm93c2VyTGFuZ3VhZ2UoKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiLVwiKVswXTp2b2lkIDB9LG9zOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8b3MubGVuZ3RoO3QrKyl7dmFyW2kscl09b3NbdF0sbj1pLmV4ZWMoZSkscz1uJiYoSShyKT9yKG4sZSk6cik7aWYocylyZXR1cm4gc31yZXR1cm5bXCJcIixcIlwiXX0sZGV2aWNlOmFzLGRldmljZVR5cGU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXMoZSk7cmV0dXJuIHQ9PT1mbnx8dD09PWdufHxcIktvYm9cIj09PXR8fFwiS2luZGxlIEZpcmVcIj09PXR8fHQ9PT1Hbj92bjp0PT09TG58fHQ9PT1xbnx8dD09PURufHx0PT09em4/XCJDb25zb2xlXCI6dD09PXluP1wiV2VhcmFibGVcIjp0P2huOlwiRGVza3RvcFwifSxyZWZlcnJlcjpmdW5jdGlvbigpe3JldHVybihudWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyKXx8XCIkZGlyZWN0XCJ9LHJlZmVycmluZ0RvbWFpbjpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT1hJiZhLnJlZmVycmVyJiYobnVsbD09PShlPVN0KGEucmVmZXJyZXIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5ob3N0KXx8XCIkZGlyZWN0XCJ9LHJlZmVycmVySW5mbzpmdW5jdGlvbigpe3JldHVybnskcmVmZXJyZXI6dGhpcy5yZWZlcnJlcigpLCRyZWZlcnJpbmdfZG9tYWluOnRoaXMucmVmZXJyaW5nRG9tYWluKCl9fSxwZXJzb25JbmZvOmZ1bmN0aW9uKCl7dmFye21hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOmUsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0fT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT1lP1goW10sdXMsdHx8W10pOltdLHI9bnVsbD09bD92b2lkIDA6bC5ocmVmLnN1YnN0cmluZygwLDFlMyk7cmV0dXJue3I6dGhpcy5yZWZlcnJlcigpLnN1YnN0cmluZygwLDFlMyksdTpyP3h0KHIsaSxkcyk6dm9pZCAwfX0scGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdCx7cjppLHU6cn09ZSxuPXskcmVmZXJyZXI6aSwkcmVmZXJyaW5nX2RvbWFpbjpudWxsPT1pP3ZvaWQgMDpcIiRkaXJlY3RcIj09aT9cIiRkaXJlY3RcIjpudWxsPT09KHQ9U3QoaSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhvc3R9O2lmKHIpe24uJGN1cnJlbnRfdXJsPXI7dmFyIHM9U3Qocik7bi4kaG9zdD1udWxsPT1zP3ZvaWQgMDpzLmhvc3Qsbi4kcGF0aG5hbWU9bnVsbD09cz92b2lkIDA6cy5wYXRobmFtZTt2YXIgbz10aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21Vcmwocik7SyhuLG8pfWlmKGkpe3ZhciBhPXRoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoaSk7SyhuLGEpfXJldHVybiBufSxpbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBlcnNvblByb3BzRnJvbUluZm8oZSksaT17fTtyZXR1cm4gWSh0LChmdW5jdGlvbihlLHQpe2lbXCIkaW5pdGlhbF9cIi5jb25jYXQoYih0KSldPWV9KSksaX0sdGltZXpvbmU6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1jYXRjaChlKXtyZXR1cm59fSx0aW1lem9uZU9mZnNldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCl9Y2F0Y2goZSl7cmV0dXJufX0scHJvcGVydGllczpmdW5jdGlvbigpe3ZhcnttYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczplLGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6aX09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKCFoKXJldHVybnt9O3ZhciByPWU/WChbXSx1cyxpfHxbXSk6W10sW24sc109aHMub3MoaCk7cmV0dXJuIEsodGUoeyRvczpuLCRvc192ZXJzaW9uOnMsJGJyb3dzZXI6aHMuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpLCRkZXZpY2U6aHMuZGV2aWNlKGgpLCRkZXZpY2VfdHlwZTpocy5kZXZpY2VUeXBlKGgpLCR0aW1lem9uZTpocy50aW1lem9uZSgpLCR0aW1lem9uZV9vZmZzZXQ6aHMudGltZXpvbmVPZmZzZXQoKX0pLHskY3VycmVudF91cmw6eHQobnVsbD09bD92b2lkIDA6bC5ocmVmLHIsZHMpLCRob3N0Om51bGw9PWw/dm9pZCAwOmwuaG9zdCwkcGF0aG5hbWU6bnVsbD09bD92b2lkIDA6bC5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6aC5sZW5ndGg+MWUzP2guc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmgsJGJyb3dzZXJfdmVyc2lvbjpocy5icm93c2VyVmVyc2lvbihoLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOmhzLmJyb3dzZXJMYW5ndWFnZSgpLCRicm93c2VyX2xhbmd1YWdlX3ByZWZpeDpocy5icm93c2VyTGFuZ3VhZ2VQcmVmaXgoKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOl8uTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9LHBlb3BsZV9wcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7aWYoIWgpcmV0dXJue307dmFyW2UsdF09aHMub3MoaCk7cmV0dXJuIEsodGUoeyRvczplLCRvc192ZXJzaW9uOnQsJGJyb3dzZXI6aHMuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpfSkseyRicm93c2VyX3ZlcnNpb246aHMuYnJvd3NlclZlcnNpb24oaCxuYXZpZ2F0b3IudmVuZG9yKX0pfX0scHM9QihcIltGZWF0dXJlRmxhZ3NdXCIpLF9zPVwiJGFjdGl2ZV9mZWF0dXJlX2ZsYWdzXCIsdnM9XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnc1wiLGdzPVwiJGZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLGZzPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLG1zPVwiJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkXCIseXM9ZT0+e3ZhciB0PXt9O2Zvcih2YXJbaSxyXW9mIFEoZXx8e30pKXImJih0W2ldPXIpO3JldHVybiB0fSxicz1lPT57dmFyIHQ9ZS5mbGFncztyZXR1cm4gdD8oZS5mZWF0dXJlRmxhZ3M9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKHQpLm1hcCgoZT0+e3ZhciBpO3JldHVybltlLG51bGwhPT0oaT10W2VdLnZhcmlhbnQpJiZ2b2lkIDAhPT1pP2k6dFtlXS5lbmFibGVkXX0pKSksZS5mZWF0dXJlRmxhZ1BheWxvYWRzPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyh0KS5maWx0ZXIoKGU9PnRbZV0uZW5hYmxlZCkpLmZpbHRlcigoZT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dFtlXS5tZXRhZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGF5bG9hZH0pKS5tYXAoKGU9Pnt2YXIgaTtyZXR1cm5bZSxudWxsPT09KGk9dFtlXS5tZXRhZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGF5bG9hZF19KSkpKTpwcy53YXJuKFwiVXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBQb3N0SG9nIHNlcnZlciB0byB0aGUgbGF0ZXN0IHZlcnNpb25cIiksZX07IWZ1bmN0aW9uKGUpe2UuRmVhdHVyZUZsYWdzPVwiZmVhdHVyZV9mbGFnc1wiLGUuUmVjb3JkaW5ncz1cInJlY29yZGluZ3NcIn0oaXN8fChpcz17fSkpO2NsYXNzIHdze2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl9vdmVycmlkZV93YXJuaW5nXCIsITEpLFcodGhpcyxcIl9oYXNMb2FkZWRGbGFnc1wiLCExKSxXKHRoaXMsXCJfcmVxdWVzdEluRmxpZ2h0XCIsITEpLFcodGhpcyxcIl9yZWxvYWRpbmdEaXNhYmxlZFwiLCExKSxXKHRoaXMsXCJfYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZFwiLCExKSxXKHRoaXMsXCJfZGVjaWRlQ2FsbGVkXCIsITEpLFcodGhpcyxcIl9mbGFnc0xvYWRlZEZyb21SZW1vdGVcIiwhMSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPVtdfWRlY2lkZSgpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnKXRoaXMuX2RlY2lkZUNhbGxlZD0hMDtlbHNle3ZhciBlPSF0aGlzLl9yZWxvYWREZWJvdW5jZXImJih0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkKTt0aGlzLl9jYWxsRGVjaWRlRW5kcG9pbnQoe2Rpc2FibGVGbGFnczplfSl9fWdldCBoYXNMb2FkZWRGbGFncygpe3JldHVybiB0aGlzLl9oYXNMb2FkZWRGbGFnc31nZXRGbGFncygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmdldEZsYWdWYXJpYW50cygpKX1nZXRGbGFnc1dpdGhEZXRhaWxzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoVGUpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkodnMpLGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoZnMpO2lmKCFpJiYhdClyZXR1cm4gZXx8e307dmFyIHI9Syh7fSxlfHx7fSksbj1bLi4ubmV3IFNldChbLi4uT2JqZWN0LmtleXMoaXx8e30pLC4uLk9iamVjdC5rZXlzKHR8fHt9KV0pXTtmb3IodmFyIHMgb2Ygbil7dmFyIG8sYSxsPXJbc10sdT1udWxsPT10P3ZvaWQgMDp0W3NdLGM9Rih1KT9udWxsIT09KG89bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSYmdm9pZCAwIT09byYmbzohIXUsZD1GKHUpP2wudmFyaWFudDpcInN0cmluZ1wiPT10eXBlb2YgdT91OnZvaWQgMCxoPW51bGw9PWk/dm9pZCAwOmlbc10scD16KHooe30sbCkse30se2VuYWJsZWQ6Yyx2YXJpYW50OmM/bnVsbCE9ZD9kOm51bGw9PWw/dm9pZCAwOmwudmFyaWFudDp2b2lkIDB9KTtpZihjIT09KG51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJihwLm9yaWdpbmFsX2VuYWJsZWQ9bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSxkIT09KG51bGw9PWw/dm9pZCAwOmwudmFyaWFudCkmJihwLm9yaWdpbmFsX3ZhcmlhbnQ9bnVsbD09bD92b2lkIDA6bC52YXJpYW50KSxoKXAubWV0YWRhdGE9eih6KHt9LG51bGw9PWw/dm9pZCAwOmwubWV0YWRhdGEpLHt9LHtwYXlsb2FkOmgsb3JpZ2luYWxfcGF5bG9hZDpudWxsPT1sfHxudWxsPT09KGE9bC5tZXRhZGF0YSl8fHZvaWQgMD09PWE/dm9pZCAwOmEucGF5bG9hZH0pO3Jbc109cH1yZXR1cm4gdGhpcy5fb3ZlcnJpZGVfd2FybmluZ3x8KHBzLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgZGV0YWlscyFcIix7ZmxhZ0RldGFpbHM6ZSxvdmVycmlkZGVuUGF5bG9hZHM6aSxmaW5hbERldGFpbHM6cn0pLHRoaXMuX292ZXJyaWRlX3dhcm5pbmc9ITApLHJ9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoUGUpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkodnMpO2lmKCF0KXJldHVybiBlfHx7fTtmb3IodmFyIGk9Syh7fSxlKSxyPU9iamVjdC5rZXlzKHQpLG49MDtuPHIubGVuZ3RoO24rKylpW3Jbbl1dPXRbcltuXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChwcy53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOmUsb3ZlcnJpZGRlbkZsYWdzOnQsZmluYWxGbGFnczppfSksdGhpcy5fb3ZlcnJpZGVfd2FybmluZz0hMCksaX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShncyksdD10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShmcyk7aWYoIXQpcmV0dXJuIGV8fHt9O2Zvcih2YXIgaT1LKHt9LGV8fHt9KSxyPU9iamVjdC5rZXlzKHQpLG49MDtuPHIubGVuZ3RoO24rKylpW3Jbbl1dPXRbcltuXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChwcy53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6ZSxvdmVycmlkZGVuUGF5bG9hZHM6dCxmaW5hbFBheWxvYWRzOml9KSx0aGlzLl9vdmVycmlkZV93YXJuaW5nPSEwKSxpfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuX3JlbG9hZGluZ0Rpc2FibGVkfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8KHRoaXMuX3JlbG9hZERlYm91bmNlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpfSksNSkpfWNsZWFyRGVib3VuY2VyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbG9hZERlYm91bmNlciksdGhpcy5fcmVsb2FkRGVib3VuY2VyPXZvaWQgMH1lbnN1cmVGbGFnc0xvYWRlZCgpe3RoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLl9yZXF1ZXN0SW5GbGlnaHR8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKGUpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9ZX1zZXRSZWxvYWRpbmdQYXVzZWQoZSl7dGhpcy5fcmVsb2FkaW5nRGlzYWJsZWQ9ZX1fY2FsbERlY2lkZUVuZHBvaW50KHQpe3ZhciBpO2lmKHRoaXMuY2xlYXJEZWJvdW5jZXIoKSwhdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpaWYodGhpcy5fcmVxdWVzdEluRmxpZ2h0KXRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQ9ITA7ZWxzZXt2YXIgcj17dG9rZW46dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSxncm91cHM6dGhpcy5pbnN0YW5jZS5nZXRHcm91cHMoKSwkYW5vbl9kaXN0aW5jdF9pZDp0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkLHBlcnNvbl9wcm9wZXJ0aWVzOnooeih7fSwobnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldF9pbml0aWFsX3Byb3BzKCkpfHx7fSksdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoUmUpfHx7fSksZ3JvdXBfcHJvcGVydGllczp0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSgkZSl9OyhudWxsIT10JiZ0LmRpc2FibGVGbGFnc3x8dGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzKSYmKHIuZGlzYWJsZV9mbGFncz0hMCk7dmFyIG49dGhpcy5pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X2ZsYWdzX3YyJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZztuJiYoci50aW1lem9uZT1ocy50aW1lem9uZSgpKSx0aGlzLl9yZXF1ZXN0SW5GbGlnaHQ9ITAsdGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLG4/XCIvZmxhZ3MvP3Y9MlwiOlwiL2RlY2lkZS8/dj00XCIpLGRhdGE6cixjb21wcmVzc2lvbjp0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDplLkJhc2U2NCx0aW1lb3V0OnRoaXMuaW5zdGFuY2UuY29uZmlnLmZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6ZT0+e3ZhciB0LGksbixzPSEwOygyMDA9PT1lLnN0YXR1c0NvZGUmJih0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkfHwodGhpcy4kYW5vbl9kaXN0aW5jdF9pZD12b2lkIDApLHM9ITEpLHRoaXMuX3JlcXVlc3RJbkZsaWdodD0hMSx0aGlzLl9kZWNpZGVDYWxsZWQpfHwodGhpcy5fZGVjaWRlQ2FsbGVkPSEwLHRoaXMuaW5zdGFuY2UuX29uUmVtb3RlQ29uZmlnKG51bGwhPT0obj1lLmpzb24pJiZ2b2lkIDAhPT1uP246e30pKTtyLmRpc2FibGVfZmxhZ3MmJiF0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkfHwodGhpcy5fZmxhZ3NMb2FkZWRGcm9tUmVtb3RlPSFzLGUuanNvbiYmbnVsbCE9PSh0PWUuanNvbi5xdW90YUxpbWl0ZWQpJiZ2b2lkIDAhPT10JiZ0LmluY2x1ZGVzKGlzLkZlYXR1cmVGbGFncyk/cHMud2FybihcIllvdSBoYXZlIGhpdCB5b3VyIGZlYXR1cmUgZmxhZ3MgcXVvdGEgbGltaXQsIGFuZCB3aWxsIG5vdCBiZSBhYmxlIHRvIGxvYWQgZmVhdHVyZSBmbGFncyB1bnRpbCB0aGUgcXVvdGEgaXMgcmVzZXQuICBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wb3N0aG9nLmNvbS9kb2NzL2JpbGxpbmcvbGltaXRzLWFsZXJ0cyB0byBsZWFybiBtb3JlLlwiKToodGhpcy5yZWNlaXZlZEZlYXR1cmVGbGFncyhudWxsIT09KGk9ZS5qc29uKSYmdm9pZCAwIT09aT9pOnt9LHMpLHRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQmJih0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkPSExLHRoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpKSkpfX0pfX1nZXRGZWF0dXJlRmxhZyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodGhpcy5faGFzTG9hZGVkRmxhZ3N8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgaT10aGlzLmdldEZsYWdWYXJpYW50cygpW2VdLHI9XCJcIi5jb25jYXQoaSksbj10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShtcyl8fHZvaWQgMCxzPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KEFlKXx8e307aWYoKHQuc2VuZF9ldmVudHx8IShcInNlbmRfZXZlbnRcImluIHQpKSYmKCEoZSBpbiBzKXx8IXNbZV0uaW5jbHVkZXMocikpKXt2YXIgbyxhLGwsdSxjLGQsaCxwLF8sdixnO3goc1tlXSk/c1tlXS5wdXNoKHIpOnNbZV09W3JdLG51bGw9PT0obz10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09b3x8by5yZWdpc3Rlcih7W0FlXTpzfSk7dmFyIGY9dGhpcy5nZXRGZWF0dXJlRmxhZ0RldGFpbHMoZSksbT17JGZlYXR1cmVfZmxhZzplLCRmZWF0dXJlX2ZsYWdfcmVzcG9uc2U6aSwkZmVhdHVyZV9mbGFnX3BheWxvYWQ6dGhpcy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl8fG51bGwsJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkOm4sJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcmVzcG9uc2U6KG51bGw9PT0oYT10aGlzLmluc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT1hfHxudWxsPT09KGw9YS5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsW2VdKXx8bnVsbCwkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9wYXlsb2FkOihudWxsPT09KHU9dGhpcy5pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09dXx8bnVsbD09PShjPXUuZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHZvaWQgMD09PWM/dm9pZCAwOmNbZV0pfHxudWxsLCR1c2VkX2Jvb3RzdHJhcF92YWx1ZTohdGhpcy5fZmxhZ3NMb2FkZWRGcm9tUmVtb3RlfTtGKG51bGw9PWZ8fG51bGw9PT0oZD1mLm1ldGFkYXRhKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC52ZXJzaW9uKXx8KG0uJGZlYXR1cmVfZmxhZ192ZXJzaW9uPWYubWV0YWRhdGEudmVyc2lvbik7dmFyIHksYj1udWxsIT09KGg9bnVsbD09Znx8bnVsbD09PShwPWYucmVhc29uKXx8dm9pZCAwPT09cD92b2lkIDA6cC5kZXNjcmlwdGlvbikmJnZvaWQgMCE9PWg/aDpudWxsPT1mfHxudWxsPT09KF89Zi5yZWFzb24pfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLmNvZGU7aWYoYiYmKG0uJGZlYXR1cmVfZmxhZ19yZWFzb249YiksbnVsbCE9ZiYmbnVsbCE9PSh2PWYubWV0YWRhdGEpJiZ2b2lkIDAhPT12JiZ2LmlkJiYobS4kZmVhdHVyZV9mbGFnX2lkPWYubWV0YWRhdGEuaWQpLEYobnVsbD09Zj92b2lkIDA6Zi5vcmlnaW5hbF92YXJpYW50KSYmRihudWxsPT1mP3ZvaWQgMDpmLm9yaWdpbmFsX2VuYWJsZWQpfHwobS4kZmVhdHVyZV9mbGFnX29yaWdpbmFsX3Jlc3BvbnNlPUYoZi5vcmlnaW5hbF92YXJpYW50KT9mLm9yaWdpbmFsX2VuYWJsZWQ6Zi5vcmlnaW5hbF92YXJpYW50KSxudWxsIT1mJiZudWxsIT09KGc9Zi5tZXRhZGF0YSkmJnZvaWQgMCE9PWcmJmcub3JpZ2luYWxfcGF5bG9hZCltLiRmZWF0dXJlX2ZsYWdfb3JpZ2luYWxfcGF5bG9hZD1udWxsPT1mfHxudWxsPT09KHk9Zi5tZXRhZGF0YSl8fHZvaWQgMD09PXk/dm9pZCAwOnkub3JpZ2luYWxfcGF5bG9hZDt0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiLG0pfXJldHVybiBpfXBzLndhcm4oJ2dldEZlYXR1cmVGbGFnIGZvciBrZXkgXCInK2UrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1nZXRGZWF0dXJlRmxhZ0RldGFpbHMoZSl7cmV0dXJuIHRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpW2VdfWdldEZlYXR1cmVGbGFnUGF5bG9hZChlKXtyZXR1cm4gdGhpcy5nZXRGbGFnUGF5bG9hZHMoKVtlXX1nZXRSZW1vdGVDb25maWdQYXlsb2FkKHQsaSl7dmFyIHI9dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW47dGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2RlY2lkZS8/dj00XCIpLGRhdGE6e2Rpc3RpbmN0X2lkOnRoaXMuaW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdG9rZW46cn0sY29tcHJlc3Npb246dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5CYXNlNjQsdGltZW91dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcixuPW51bGw9PT0ocj1lLmpzb24pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmZlYXR1cmVGbGFnUGF5bG9hZHM7aSgobnVsbD09bj92b2lkIDA6blt0XSl8fHZvaWQgMCl9fSl9aXNGZWF0dXJlRW5hYmxlZChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodGhpcy5faGFzTG9hZGVkRmxhZ3N8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXJldHVybiEhdGhpcy5nZXRGZWF0dXJlRmxhZyhlLHQpO3BzLndhcm4oJ2lzRmVhdHVyZUVuYWJsZWQgZm9yIGtleSBcIicrZStcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWFkZEZlYXR1cmVGbGFnc0hhbmRsZXIoZSl7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMucHVzaChlKX1yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPXRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZpbHRlcigodD0+dCE9PWUpKX1yZWNlaXZlZEZlYXR1cmVGbGFncyhlLHQpe2lmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Upe3RoaXMuX2hhc0xvYWRlZEZsYWdzPSEwO3ZhciBpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkscj10aGlzLmdldEZsYWdQYXlsb2FkcygpLG49dGhpcy5nZXRGbGFnc1dpdGhEZXRhaWxzKCk7IWZ1bmN0aW9uKGUsdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LG49YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOnt9LHM9YnMoZSksbz1zLmZsYWdzLGE9cy5mZWF0dXJlRmxhZ3MsbD1zLmZlYXR1cmVGbGFnUGF5bG9hZHM7aWYoYSl7dmFyIHU9ZS5yZXF1ZXN0SWQ7aWYoeChhKSl7cHMud2FybihcInYxIG9mIHRoZSBmZWF0dXJlIGZsYWdzIGVuZHBvaW50IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdGhlIGxhdGVzdCB2ZXJzaW9uLlwiKTt2YXIgYz17fTtpZihhKWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWNbYVtkXV09ITA7dCYmdC5yZWdpc3Rlcih7W19zXTphLFtQZV06Y30pfWVsc2V7dmFyIGg9YSxwPWwsXz1vO2UuZXJyb3JzV2hpbGVDb21wdXRpbmdGbGFncyYmKGg9eih6KHt9LGkpLGgpLHA9eih6KHt9LHIpLHApLF89eih6KHt9LG4pLF8pKSx0JiZ0LnJlZ2lzdGVyKHooe1tfc106T2JqZWN0LmtleXMoeXMoaCkpLFtQZV06aHx8e30sW2dzXTpwfHx7fSxbVGVdOl98fHt9fSx1P3tbbXNdOnV9Ont9KSl9fX0oZSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLGkscixuKSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKHQpfX1vdmVycmlkZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3BzLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOmUsc3VwcHJlc3NXYXJuaW5nOnR9KX1vdmVycmlkZUZlYXR1cmVGbGFncyhlKXtpZighdGhpcy5pbnN0YW5jZS5fX2xvYWRlZHx8IXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpcmV0dXJuIHBzLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5mZWF0dXJlRmxhZ3Mub3ZlcnJpZGVGZWF0dXJlRmxhZ3NcIik7aWYoITE9PT1lKXJldHVybiB0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIodnMpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihmcyksdm9pZCB0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCk7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJihcImZsYWdzXCJpbiBlfHxcInBheWxvYWRzXCJpbiBlKSl7dmFyIHQsaT1lO2lmKHRoaXMuX292ZXJyaWRlX3dhcm5pbmc9Qm9vbGVhbihudWxsIT09KHQ9aS5zdXBwcmVzc1dhcm5pbmcpJiZ2b2lkIDAhPT10JiZ0KSxcImZsYWdzXCJpbiBpKWlmKCExPT09aS5mbGFncyl0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIodnMpO2Vsc2UgaWYoaS5mbGFncylpZih4KGkuZmxhZ3MpKXtmb3IodmFyIHI9e30sbj0wO248aS5mbGFncy5sZW5ndGg7bisrKXJbaS5mbGFnc1tuXV09ITA7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3ZzXTpyfSl9ZWxzZSB0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbdnNdOmkuZmxhZ3N9KTtyZXR1cm5cInBheWxvYWRzXCJpbiBpJiYoITE9PT1pLnBheWxvYWRzP3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihmcyk6aS5wYXlsb2FkcyYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2ZzXTppLnBheWxvYWRzfSkpLHZvaWQgdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpfXRoaXMuX2ZpcmVGZWF0dXJlRmxhZ3NDYWxsYmFja3MoKX1vbkZlYXR1cmVGbGFncyhlKXtpZih0aGlzLmFkZEZlYXR1cmVGbGFnc0hhbmRsZXIoZSksdGhpcy5faGFzTG9hZGVkRmxhZ3Mpe3ZhcntmbGFnczp0LGZsYWdWYXJpYW50czppfT10aGlzLl9wcmVwYXJlRmVhdHVyZUZsYWdzRm9yQ2FsbGJhY2tzKCk7ZSh0LGkpfXJldHVybigpPT50aGlzLnJlbW92ZUZlYXR1cmVGbGFnc0hhbmRsZXIoZSl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudChlLHQpe3ZhciBpLHI9KHRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KEZlKXx8W10pLmZpbmQoKHQ9PnQuZmxhZ0tleT09PWUpKSxuPXtbXCIkZmVhdHVyZV9lbnJvbGxtZW50L1wiLmNvbmNhdChlKV06dH0scz17JGZlYXR1cmVfZmxhZzplLCRmZWF0dXJlX2Vucm9sbG1lbnQ6dCwkc2V0Om59O3ImJihzLiRlYXJseV9hY2Nlc3NfZmVhdHVyZV9uYW1lPXIubmFtZSksdGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixzKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuLCExKTt2YXIgbz16KHooe30sdGhpcy5nZXRGbGFnVmFyaWFudHMoKSkse30se1tlXTp0fSk7bnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbX3NdOk9iamVjdC5rZXlzKHlzKG8pKSxbUGVdOm99KSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscj10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShGZSksbj1pP1wiJlwiLmNvbmNhdChpLm1hcCgoZT0+XCJzdGFnZT1cIi5jb25jYXQoZSkpKS5qb2luKFwiJlwiKSk6XCJcIjtpZihyJiYhdClyZXR1cm4gZShyKTt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvZWFybHlfYWNjZXNzX2ZlYXR1cmVzLz90b2tlbj1cIi5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4pLmNvbmNhdChuKSksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6dD0+e3ZhciBpO2lmKHQuanNvbil7dmFyIHI9dC5qc29uLmVhcmx5QWNjZXNzRmVhdHVyZXM7cmV0dXJuIG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W0ZlXTpyfSksZShyKX19fSl9X3ByZXBhcmVGZWF0dXJlRmxhZ3NGb3JDYWxsYmFja3MoKXt2YXIgZT10aGlzLmdldEZsYWdzKCksdD10aGlzLmdldEZsYWdWYXJpYW50cygpO3JldHVybntmbGFnczplLmZpbHRlcigoZT0+dFtlXSkpLGZsYWdWYXJpYW50czpPYmplY3Qua2V5cyh0KS5maWx0ZXIoKGU9PnRbZV0pKS5yZWR1Y2UoKChlLGkpPT4oZVtpXT10W2ldLGUpKSx7fSl9fV9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKGUpe3ZhcntmbGFnczp0LGZsYWdWYXJpYW50czppfT10aGlzLl9wcmVwYXJlRmVhdHVyZUZsYWdzRm9yQ2FsbGJhY2tzKCk7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMuZm9yRWFjaCgocj0+cih0LGkse2Vycm9yc0xvYWRpbmc6ZX0pKSl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShSZSl8fHt9O3RoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1tSZV06eih6KHt9LGkpLGUpfSksdCYmdGhpcy5pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuaW5zdGFuY2UudW5yZWdpc3RlcihSZSl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRlKXx8e307MCE9PU9iamVjdC5rZXlzKGkpLmxlbmd0aCYmT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgodD0+e2lbdF09eih6KHt9LGlbdF0pLGVbdF0pLGRlbGV0ZSBlW3RdfSkpLHRoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1skZV06eih6KHt9LGkpLGUpfSksdCYmdGhpcy5pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe2lmKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRlKXx8e307dGhpcy5pbnN0YW5jZS5yZWdpc3Rlcih7WyRlXTp6KHooe30sdCkse30se1tlXTp7fX0pfSl9ZWxzZSB0aGlzLmluc3RhbmNlLnVucmVnaXN0ZXIoJGUpfX12YXIgU3M9W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3Mga3N7Y29uc3RydWN0b3IoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnByb3BzPXt9LHRoaXMuY2FtcGFpZ25fcGFyYW1zX3NhdmVkPSExLHRoaXMubmFtZT0oZT0+e3ZhciB0PVwiXCI7cmV0dXJuIGUudG9rZW4mJih0PWUudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSxlLnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIitlLnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIit0K1wiX3Bvc3Rob2dcIn0pKGUpLHRoaXMuc3RvcmFnZT10aGlzLmJ1aWxkU3RvcmFnZShlKSx0aGlzLmxvYWQoKSxlLmRlYnVnJiZOLmluZm8oXCJQZXJzaXN0ZW5jZSBsb2FkZWRcIixlLnBlcnNpc3RlbmNlLHooe30sdGhpcy5wcm9wcykpLHRoaXMudXBkYXRlX2NvbmZpZyhlLGUpLHRoaXMuc2F2ZSgpfWJ1aWxkU3RvcmFnZShlKXstMT09PVNzLmluZGV4T2YoZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpKSYmKE4uY3JpdGljYWwoXCJVbmtub3duIHBlcnNpc3RlbmNlIHR5cGUgXCIrZS5wZXJzaXN0ZW5jZStcIjsgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZStjb29raWVcIiksZS5wZXJzaXN0ZW5jZT1cImxvY2FsU3RvcmFnZStjb29raWVcIik7dmFyIHQ9ZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PT10JiZKdC5pc19zdXBwb3J0ZWQoKT9KdDpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PXQmJkt0LmlzX3N1cHBvcnRlZCgpP0t0Olwic2Vzc2lvbnN0b3JhZ2VcIj09PXQmJmVpLmlzX3N1cHBvcnRlZCgpP2VpOlwibWVtb3J5XCI9PT10P1F0OlwiY29va2llXCI9PT10P1Z0Okt0LmlzX3N1cHBvcnRlZCgpP0t0OlZ0fXByb3BlcnRpZXMoKXt2YXIgZT17fTtyZXR1cm4gWSh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2lmKGk9PT1QZSYmQyh0KSlmb3IodmFyIHI9T2JqZWN0LmtleXModCksbj0wO248ci5sZW5ndGg7bisrKWVbXCIkZmVhdHVyZS9cIi5jb25jYXQocltuXSldPXRbcltuXV07ZWxzZSBhPWksbD0hMSwoJChvPVdlKT9sOnMmJm8uaW5kZXhPZj09PXM/LTEhPW8uaW5kZXhPZihhKTooWShvLChmdW5jdGlvbihlKXtpZihsfHwobD1lPT09YSkpcmV0dXJuIEd9KSksbCkpfHwoZVtpXT10KTt2YXIgbyxhLGx9KSksZX1sb2FkKCl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciBlPXRoaXMuc3RvcmFnZS5wYXJzZSh0aGlzLm5hbWUpO2UmJih0aGlzLnByb3BzPUsoe30sZSkpfX1zYXZlKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5zdG9yYWdlLnNldCh0aGlzLm5hbWUsdGhpcy5wcm9wcyx0aGlzLmV4cGlyZV9kYXlzLHRoaXMuY3Jvc3Nfc3ViZG9tYWluLHRoaXMuc2VjdXJlLHRoaXMuY29uZmlnLmRlYnVnKX1yZW1vdmUoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMubmFtZSwhMSksdGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLm5hbWUsITApfWNsZWFyKCl7dGhpcy5yZW1vdmUoKSx0aGlzLnByb3BzPXt9fXJlZ2lzdGVyX29uY2UoZSx0LGkpe2lmKEMoZSkpe0YodCkmJih0PVwiTm9uZVwiKSx0aGlzLmV4cGlyZV9kYXlzPUYoaSk/dGhpcy5kZWZhdWx0X2V4cGlyeTppO3ZhciByPSExO2lmKFkoZSwoKGUsaSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnByb3BzW2ldIT09dHx8KHRoaXMucHJvcHNbaV09ZSxyPSEwKX0pKSxyKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3RlcihlLHQpe2lmKEMoZSkpe3RoaXMuZXhwaXJlX2RheXM9Rih0KT90aGlzLmRlZmF1bHRfZXhwaXJ5OnQ7dmFyIGk9ITE7aWYoWShlLCgodCxyKT0+e2UuaGFzT3duUHJvcGVydHkocikmJnRoaXMucHJvcHNbcl0hPT10JiYodGhpcy5wcm9wc1tyXT10LGk9ITApfSkpLGkpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXVucmVnaXN0ZXIoZSl7ZSBpbiB0aGlzLnByb3BzJiYoZGVsZXRlIHRoaXMucHJvcHNbZV0sdGhpcy5zYXZlKCkpfXVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKXtpZighdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQpe3ZhciBlPWhzLmNhbXBhaWduUGFyYW1zKHtjdXN0b21UcmFja2VkUGFyYW1zOnRoaXMuY29uZmlnLmN1c3RvbV9jYW1wYWlnbl9wYXJhbXMsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7UCh0ZShlKSl8fHRoaXMucmVnaXN0ZXIoZSksdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQ9ITB9fXVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpe3RoaXMucmVnaXN0ZXIoaHMuc2VhcmNoSW5mbygpKX11cGRhdGVfcmVmZXJyZXJfaW5mbygpe3RoaXMucmVnaXN0ZXJfb25jZShocy5yZWZlcnJlckluZm8oKSx2b2lkIDApfXNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCl7dGhpcy5wcm9wc1tOZV18fHRoaXMucHJvcHNbQmVdfHx0aGlzLnJlZ2lzdGVyX29uY2Uoe1tIZV06aHMucGVyc29uSW5mbyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSl9LHZvaWQgMCl9Z2V0X3JlZmVycmVyX2luZm8oKXtyZXR1cm4gdGUoeyRyZWZlcnJlcjp0aGlzLnByb3BzLiRyZWZlcnJlciwkcmVmZXJyaW5nX2RvbWFpbjp0aGlzLnByb3BzLiRyZWZlcnJpbmdfZG9tYWlufSl9Z2V0X2luaXRpYWxfcHJvcHMoKXt2YXIgZT17fTtZKFtCZSxOZV0sKHQ9Pnt2YXIgaT10aGlzLnByb3BzW3RdO2kmJlkoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrYihpKV09dH0pKX0pKTt2YXIgdD10aGlzLnByb3BzW0hlXTtpZih0KXt2YXIgaT1ocy5pbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbyh0KTtLKGUsaSl9cmV0dXJuIGV9c2FmZV9tZXJnZShlKXtyZXR1cm4gWSh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2kgaW4gZXx8KGVbaV09dCl9KSksZX11cGRhdGVfY29uZmlnKGUsdCl7aWYodGhpcy5kZWZhdWx0X2V4cGlyeT10aGlzLmV4cGlyZV9kYXlzPWUuY29va2llX2V4cGlyYXRpb24sdGhpcy5zZXRfZGlzYWJsZWQoZS5kaXNhYmxlX3BlcnNpc3RlbmNlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4oZS5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUoZS5zZWN1cmVfY29va2llKSxlLnBlcnNpc3RlbmNlIT09dC5wZXJzaXN0ZW5jZSl7dmFyIGk9dGhpcy5idWlsZFN0b3JhZ2UoZSkscj10aGlzLnByb3BzO3RoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2U9aSx0aGlzLnByb3BzPXIsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZChlKXt0aGlzLmRpc2FibGVkPWUsdGhpcy5kaXNhYmxlZD90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4oZSl7ZSE9PXRoaXMuY3Jvc3Nfc3ViZG9tYWluJiYodGhpcy5jcm9zc19zdWJkb21haW49ZSx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1nZXRfY3Jvc3Nfc3ViZG9tYWluKCl7cmV0dXJuISF0aGlzLmNyb3NzX3N1YmRvbWFpbn1zZXRfc2VjdXJlKGUpe2UhPT10aGlzLnNlY3VyZSYmKHRoaXMuc2VjdXJlPWUsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X2V2ZW50X3RpbWVyKGUsdCl7dmFyIGk9dGhpcy5wcm9wc1t1ZV18fHt9O2lbZV09dCx0aGlzLnByb3BzW3VlXT1pLHRoaXMuc2F2ZSgpfXJlbW92ZV9ldmVudF90aW1lcihlKXt2YXIgdD0odGhpcy5wcm9wc1t1ZV18fHt9KVtlXTtyZXR1cm4gRih0KXx8KGRlbGV0ZSB0aGlzLnByb3BzW3VlXVtlXSx0aGlzLnNhdmUoKSksdH1nZXRfcHJvcGVydHkoZSl7cmV0dXJuIHRoaXMucHJvcHNbZV19c2V0X3Byb3BlcnR5KGUsdCl7dGhpcy5wcm9wc1tlXT10LHRoaXMuc2F2ZSgpfX12YXIgRXMseHMsSXMsQ3MsUHMsRnMsVHMsUnMsJHMsT3MsTXMsQXMsTHM9e30sRHM9W10scXM9L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaSxOcz1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIEJzKGUsdCl7Zm9yKHZhciBpIGluIHQpZVtpXT10W2ldO3JldHVybiBlfWZ1bmN0aW9uIEhzKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIGpzKGUsdCxpLHIsbil7dmFyIHM9e3R5cGU6ZSxwcm9wczp0LGtleTppLHJlZjpyLF9fazpudWxsLF9fOm51bGwsX19iOjAsX19lOm51bGwsX19kOnZvaWQgMCxfX2M6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Om51bGw9PW4/KytJczpuLF9faTotMSxfX3U6MH07cmV0dXJuIG51bGw9PW4mJm51bGwhPXhzLnZub2RlJiZ4cy52bm9kZShzKSxzfWZ1bmN0aW9uIFVzKGUpe3JldHVybiBlLmNoaWxkcmVufWZ1bmN0aW9uIHpzKGUsdCl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10fWZ1bmN0aW9uIFdzKGUsdCl7aWYobnVsbD09dClyZXR1cm4gZS5fXz9XcyhlLl9fLGUuX19pKzEpOm51bGw7Zm9yKHZhciBpO3Q8ZS5fX2subGVuZ3RoO3QrKylpZihudWxsIT0oaT1lLl9fa1t0XSkmJm51bGwhPWkuX19lKXJldHVybiBpLl9fZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnR5cGU/V3MoZSk6bnVsbH1mdW5jdGlvbiBWcyhlKXt2YXIgdCxpO2lmKG51bGwhPShlPWUuX18pJiZudWxsIT1lLl9fYyl7Zm9yKGUuX19lPWUuX19jLmJhc2U9bnVsbCx0PTA7dDxlLl9fay5sZW5ndGg7dCsrKWlmKG51bGwhPShpPWUuX19rW3RdKSYmbnVsbCE9aS5fX2Upe2UuX19lPWUuX19jLmJhc2U9aS5fX2U7YnJlYWt9cmV0dXJuIFZzKGUpfX1mdW5jdGlvbiBHcyhlKXsoIWUuX19kJiYoZS5fX2Q9ITApJiZDcy5wdXNoKGUpJiYhSnMuX19yKyt8fFBzIT09eHMuZGVib3VuY2VSZW5kZXJpbmcpJiYoKFBzPXhzLmRlYm91bmNlUmVuZGVyaW5nKXx8RnMpKEpzKX1mdW5jdGlvbiBKcygpe3ZhciBlLHQsaSxyLG4scyxvLGEsbDtmb3IoQ3Muc29ydChUcyk7ZT1Dcy5zaGlmdCgpOyllLl9fZCYmKHQ9Q3MubGVuZ3RoLHI9dm9pZCAwLHM9KG49KGk9ZSkuX192KS5fX2UsYT1bXSxsPVtdLChvPWkuX19QKSYmKChyPUJzKHt9LG4pKS5fX3Y9bi5fX3YrMSx4cy52bm9kZSYmeHMudm5vZGUocikscm8obyxyLG4saS5fX24sdm9pZCAwIT09by5vd25lclNWR0VsZW1lbnQsMzImbi5fX3U/W3NdOm51bGwsYSxudWxsPT1zP1dzKG4pOnMsISEoMzImbi5fX3UpLGwpLHIuX18uX19rW3IuX19pXT1yLG5vKGEscixsKSxyLl9fZSE9cyYmVnMocikpLENzLmxlbmd0aD50JiZDcy5zb3J0KFRzKSk7SnMuX19yPTB9ZnVuY3Rpb24gWXMoZSx0LGkscixuLHMsbyxhLGwsdSxjKXt2YXIgZCxoLHAsXyx2LGc9ciYmci5fX2t8fERzLGY9dC5sZW5ndGg7Zm9yKGkuX19kPWwsS3MoaSx0LGcpLGw9aS5fX2QsZD0wO2Q8ZjtkKyspbnVsbCE9KHA9aS5fX2tbZF0pJiZcImJvb2xlYW5cIiE9dHlwZW9mIHAmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHAmJihoPS0xPT09cC5fX2k/THM6Z1twLl9faV18fExzLHAuX19pPWQscm8oZSxwLGgsbixzLG8sYSxsLHUsYyksXz1wLl9fZSxwLnJlZiYmaC5yZWYhPXAucmVmJiYoaC5yZWYmJm9vKGgucmVmLG51bGwscCksYy5wdXNoKHAucmVmLHAuX19jfHxfLHApKSxudWxsPT12JiZudWxsIT1fJiYodj1fKSw2NTUzNiZwLl9fdXx8aC5fX2s9PT1wLl9faz9sPVhzKHAsbCxlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBwLnR5cGUmJnZvaWQgMCE9PXAuX19kP2w9cC5fX2Q6XyYmKGw9Xy5uZXh0U2libGluZykscC5fX2Q9dm9pZCAwLHAuX191Jj0tMTk2NjA5KTtpLl9fZD1sLGkuX19lPXZ9ZnVuY3Rpb24gS3MoZSx0LGkpe3ZhciByLG4scyxvLGEsbD10Lmxlbmd0aCx1PWkubGVuZ3RoLGM9dSxkPTA7Zm9yKGUuX19rPVtdLHI9MDtyPGw7cisrKW51bGwhPShuPWUuX19rW3JdPW51bGw9PShuPXRbcl0pfHxcImJvb2xlYW5cIj09dHlwZW9mIG58fFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bnVsbDpcInN0cmluZ1wiPT10eXBlb2Ygbnx8XCJudW1iZXJcIj09dHlwZW9mIG58fFwiYmlnaW50XCI9PXR5cGVvZiBufHxuLmNvbnN0cnVjdG9yPT1TdHJpbmc/anMobnVsbCxuLG51bGwsbnVsbCxuKTpOcyhuKT9qcyhVcyx7Y2hpbGRyZW46bn0sbnVsbCxudWxsLG51bGwpOnZvaWQgMD09PW4uY29uc3RydWN0b3ImJm4uX19iPjA/anMobi50eXBlLG4ucHJvcHMsbi5rZXksbi5yZWY/bi5yZWY6bnVsbCxuLl9fdik6bik/KG4uX189ZSxuLl9fYj1lLl9fYisxLGE9UXMobixpLG89citkLGMpLG4uX19pPWEscz1udWxsLC0xIT09YSYmKGMtLSwocz1pW2FdKSYmKHMuX191fD0xMzEwNzIpKSxudWxsPT1zfHxudWxsPT09cy5fX3Y/KC0xPT1hJiZkLS0sXCJmdW5jdGlvblwiIT10eXBlb2Ygbi50eXBlJiYobi5fX3V8PTY1NTM2KSk6YSE9PW8mJihhPT09bysxP2QrKzphPm8/Yz5sLW8/ZCs9YS1vOmQtLTpkPWE8byYmYT09by0xP2EtbzowLGEhPT1yK2QmJihuLl9fdXw9NjU1MzYpKSk6KHM9aVtyXSkmJm51bGw9PXMua2V5JiZzLl9fZSYmKHMuX19lPT1lLl9fZCYmKGUuX19kPVdzKHMpKSxhbyhzLHMsITEpLGlbcl09bnVsbCxjLS0pO2lmKGMpZm9yKHI9MDtyPHU7cisrKW51bGwhPShzPWlbcl0pJiYwPT0oMTMxMDcyJnMuX191KSYmKHMuX19lPT1lLl9fZCYmKGUuX19kPVdzKHMpKSxhbyhzLHMpKX1mdW5jdGlvbiBYcyhlLHQsaSl7dmFyIHIsbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnR5cGUpe2ZvcihyPWUuX19rLG49MDtyJiZuPHIubGVuZ3RoO24rKylyW25dJiYocltuXS5fXz1lLHQ9WHMocltuXSx0LGkpKTtyZXR1cm4gdH1yZXR1cm4gZS5fX2UhPXQmJihpLmluc2VydEJlZm9yZShlLl9fZSx0fHxudWxsKSx0PWUuX19lKSx0JiZ0Lm5leHRTaWJsaW5nfWZ1bmN0aW9uIFFzKGUsdCxpLHIpe3ZhciBuPWUua2V5LHM9ZS50eXBlLG89aS0xLGE9aSsxLGw9dFtpXTtpZihudWxsPT09bHx8bCYmbj09bC5rZXkmJnM9PT1sLnR5cGUpcmV0dXJuIGk7aWYocj4obnVsbCE9bCYmMD09KDEzMTA3MiZsLl9fdSk/MTowKSlmb3IoO28+PTB8fGE8dC5sZW5ndGg7KXtpZihvPj0wKXtpZigobD10W29dKSYmMD09KDEzMTA3MiZsLl9fdSkmJm49PWwua2V5JiZzPT09bC50eXBlKXJldHVybiBvO28tLX1pZihhPHQubGVuZ3RoKXtpZigobD10W2FdKSYmMD09KDEzMTA3MiZsLl9fdSkmJm49PWwua2V5JiZzPT09bC50eXBlKXJldHVybiBhO2ErK319cmV0dXJuLTF9ZnVuY3Rpb24gWnMoZSx0LGkpe1wiLVwiPT09dFswXT9lLnNldFByb3BlcnR5KHQsbnVsbD09aT9cIlwiOmkpOmVbdF09bnVsbD09aT9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiBpfHxxcy50ZXN0KHQpP2k6aStcInB4XCJ9ZnVuY3Rpb24gZW8oZSx0LGkscixuKXt2YXIgcztlOmlmKFwic3R5bGVcIj09PXQpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpZS5zdHlsZS5jc3NUZXh0PWk7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKGUuc3R5bGUuY3NzVGV4dD1yPVwiXCIpLHIpZm9yKHQgaW4gcilpJiZ0IGluIGl8fFpzKGUuc3R5bGUsdCxcIlwiKTtpZihpKWZvcih0IGluIGkpciYmaVt0XT09PXJbdF18fFpzKGUuc3R5bGUsdCxpW3RdKX1lbHNlIGlmKFwib1wiPT09dFswXSYmXCJuXCI9PT10WzFdKXM9dCE9PSh0PXQucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvLFwiJDFcIikpLHQ9dC50b0xvd2VyQ2FzZSgpaW4gZT90LnRvTG93ZXJDYXNlKCkuc2xpY2UoMik6dC5zbGljZSgyKSxlLmx8fChlLmw9e30pLGUubFt0K3NdPWksaT9yP2kudT1yLnU6KGkudT1EYXRlLm5vdygpLGUuYWRkRXZlbnRMaXN0ZW5lcih0LHM/aW86dG8scykpOmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHM/aW86dG8scyk7ZWxzZXtpZihuKXQ9dC5yZXBsYWNlKC94bGluayhIfDpoKS8sXCJoXCIpLnJlcGxhY2UoL3NOYW1lJC8sXCJzXCIpO2Vsc2UgaWYoXCJ3aWR0aFwiIT09dCYmXCJoZWlnaHRcIiE9PXQmJlwiaHJlZlwiIT09dCYmXCJsaXN0XCIhPT10JiZcImZvcm1cIiE9PXQmJlwidGFiSW5kZXhcIiE9PXQmJlwiZG93bmxvYWRcIiE9PXQmJlwicm93U3BhblwiIT09dCYmXCJjb2xTcGFuXCIhPT10JiZcInJvbGVcIiE9PXQmJnQgaW4gZSl0cnl7ZVt0XT1udWxsPT1pP1wiXCI6aTticmVhayBlfWNhdGNoKGUpe31cImZ1bmN0aW9uXCI9PXR5cGVvZiBpfHwobnVsbD09aXx8ITE9PT1pJiZcIi1cIiE9PXRbNF0/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxpKSl9fWZ1bmN0aW9uIHRvKGUpe3ZhciB0PXRoaXMubFtlLnR5cGUrITFdO2lmKGUudCl7aWYoZS50PD10LnUpcmV0dXJufWVsc2UgZS50PURhdGUubm93KCk7cmV0dXJuIHQoeHMuZXZlbnQ/eHMuZXZlbnQoZSk6ZSl9ZnVuY3Rpb24gaW8oZSl7cmV0dXJuIHRoaXMubFtlLnR5cGUrITBdKHhzLmV2ZW50P3hzLmV2ZW50KGUpOmUpfWZ1bmN0aW9uIHJvKGUsdCxpLHIsbixzLG8sYSxsLHUpe3ZhciBjLGQsaCxwLF8sdixnLGYsbSx5LGIsdyxTLGssRSx4PXQudHlwZTtpZih2b2lkIDAhPT10LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOzEyOCZpLl9fdSYmKGw9ISEoMzImaS5fX3UpLHM9W2E9dC5fX2U9aS5fX2VdKSwoYz14cy5fX2IpJiZjKHQpO2U6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgeCl0cnl7aWYoZj10LnByb3BzLG09KGM9eC5jb250ZXh0VHlwZSkmJnJbYy5fX2NdLHk9Yz9tP20ucHJvcHMudmFsdWU6Yy5fXzpyLGkuX19jP2c9KGQ9dC5fX2M9aS5fX2MpLl9fPWQuX19FOihcInByb3RvdHlwZVwiaW4geCYmeC5wcm90b3R5cGUucmVuZGVyP3QuX19jPWQ9bmV3IHgoZix5KToodC5fX2M9ZD1uZXcgenMoZix5KSxkLmNvbnN0cnVjdG9yPXgsZC5yZW5kZXI9bG8pLG0mJm0uc3ViKGQpLGQucHJvcHM9ZixkLnN0YXRlfHwoZC5zdGF0ZT17fSksZC5jb250ZXh0PXksZC5fX249cixoPWQuX19kPSEwLGQuX19oPVtdLGQuX3NiPVtdKSxudWxsPT1kLl9fcyYmKGQuX19zPWQuc3RhdGUpLG51bGwhPXguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYoZC5fX3M9PWQuc3RhdGUmJihkLl9fcz1Ccyh7fSxkLl9fcykpLEJzKGQuX19zLHguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGYsZC5fX3MpKSkscD1kLnByb3BzLF89ZC5zdGF0ZSxkLl9fdj10LGgpbnVsbD09eC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJm51bGwhPWQuY29tcG9uZW50V2lsbE1vdW50JiZkLmNvbXBvbmVudFdpbGxNb3VudCgpLG51bGwhPWQuY29tcG9uZW50RGlkTW91bnQmJmQuX19oLnB1c2goZC5jb21wb25lbnREaWRNb3VudCk7ZWxzZXtpZihudWxsPT14LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmZiE9PXAmJm51bGwhPWQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmZC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGYseSksIWQuX19lJiYobnVsbCE9ZC5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09ZC5zaG91bGRDb21wb25lbnRVcGRhdGUoZixkLl9fcyx5KXx8dC5fX3Y9PT1pLl9fdikpe2Zvcih0Ll9fdiE9PWkuX192JiYoZC5wcm9wcz1mLGQuc3RhdGU9ZC5fX3MsZC5fX2Q9ITEpLHQuX19lPWkuX19lLHQuX19rPWkuX19rLHQuX19rLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJihlLl9fPXQpfSkpLGI9MDtiPGQuX3NiLmxlbmd0aDtiKyspZC5fX2gucHVzaChkLl9zYltiXSk7ZC5fc2I9W10sZC5fX2gubGVuZ3RoJiZvLnB1c2goZCk7YnJlYWsgZX1udWxsIT1kLmNvbXBvbmVudFdpbGxVcGRhdGUmJmQuY29tcG9uZW50V2lsbFVwZGF0ZShmLGQuX19zLHkpLG51bGwhPWQuY29tcG9uZW50RGlkVXBkYXRlJiZkLl9faC5wdXNoKChmdW5jdGlvbigpe2QuY29tcG9uZW50RGlkVXBkYXRlKHAsXyx2KX0pKX1pZihkLmNvbnRleHQ9eSxkLnByb3BzPWYsZC5fX1A9ZSxkLl9fZT0hMSx3PXhzLl9fcixTPTAsXCJwcm90b3R5cGVcImluIHgmJngucHJvdG90eXBlLnJlbmRlcil7Zm9yKGQuc3RhdGU9ZC5fX3MsZC5fX2Q9ITEsdyYmdyh0KSxjPWQucmVuZGVyKGQucHJvcHMsZC5zdGF0ZSxkLmNvbnRleHQpLGs9MDtrPGQuX3NiLmxlbmd0aDtrKyspZC5fX2gucHVzaChkLl9zYltrXSk7ZC5fc2I9W119ZWxzZSBkb3tkLl9fZD0hMSx3JiZ3KHQpLGM9ZC5yZW5kZXIoZC5wcm9wcyxkLnN0YXRlLGQuY29udGV4dCksZC5zdGF0ZT1kLl9fc313aGlsZShkLl9fZCYmKytTPDI1KTtkLnN0YXRlPWQuX19zLG51bGwhPWQuZ2V0Q2hpbGRDb250ZXh0JiYocj1CcyhCcyh7fSxyKSxkLmdldENoaWxkQ29udGV4dCgpKSksaHx8bnVsbD09ZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8KHY9ZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwLF8pKSxZcyhlLE5zKEU9bnVsbCE9YyYmYy50eXBlPT09VXMmJm51bGw9PWMua2V5P2MucHJvcHMuY2hpbGRyZW46Yyk/RTpbRV0sdCxpLHIsbixzLG8sYSxsLHUpLGQuYmFzZT10Ll9fZSx0Ll9fdSY9LTE2MSxkLl9faC5sZW5ndGgmJm8ucHVzaChkKSxnJiYoZC5fX0U9ZC5fXz1udWxsKX1jYXRjaChlKXt0Ll9fdj1udWxsLGx8fG51bGwhPXM/KHQuX19lPWEsdC5fX3V8PWw/MTYwOjMyLHNbcy5pbmRleE9mKGEpXT1udWxsKToodC5fX2U9aS5fX2UsdC5fX2s9aS5fX2spLHhzLl9fZShlLHQsaSl9ZWxzZSBudWxsPT1zJiZ0Ll9fdj09PWkuX192Pyh0Ll9faz1pLl9fayx0Ll9fZT1pLl9fZSk6dC5fX2U9c28oaS5fX2UsdCxpLHIsbixzLG8sbCx1KTsoYz14cy5kaWZmZWQpJiZjKHQpfWZ1bmN0aW9uIG5vKGUsdCxpKXt0Ll9fZD12b2lkIDA7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspb28oaVtyXSxpWysrcl0saVsrK3JdKTt4cy5fX2MmJnhzLl9fYyh0LGUpLGUuc29tZSgoZnVuY3Rpb24odCl7dHJ5e2U9dC5fX2gsdC5fX2g9W10sZS5zb21lKChmdW5jdGlvbihlKXtlLmNhbGwodCl9KSl9Y2F0Y2goZSl7eHMuX19lKGUsdC5fX3YpfX0pKX1mdW5jdGlvbiBzbyhlLHQsaSxyLG4scyxvLGEsbCl7dmFyIHUsYyxkLGgscCxfLHYsZz1pLnByb3BzLGY9dC5wcm9wcyxtPXQudHlwZTtpZihcInN2Z1wiPT09bSYmKG49ITApLG51bGwhPXMpZm9yKHU9MDt1PHMubGVuZ3RoO3UrKylpZigocD1zW3VdKSYmXCJzZXRBdHRyaWJ1dGVcImluIHA9PSEhbSYmKG0/cC5sb2NhbE5hbWU9PT1tOjM9PT1wLm5vZGVUeXBlKSl7ZT1wLHNbdV09bnVsbDticmVha31pZihudWxsPT1lKXtpZihudWxsPT09bSlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZik7ZT1uP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsbSk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChtLGYuaXMmJmYpLHM9bnVsbCxhPSExfWlmKG51bGw9PT1tKWc9PT1mfHxhJiZlLmRhdGE9PT1mfHwoZS5kYXRhPWYpO2Vsc2V7aWYocz1zJiZFcy5jYWxsKGUuY2hpbGROb2RlcyksZz1pLnByb3BzfHxMcywhYSYmbnVsbCE9cylmb3IoZz17fSx1PTA7dTxlLmF0dHJpYnV0ZXMubGVuZ3RoO3UrKylnWyhwPWUuYXR0cmlidXRlc1t1XSkubmFtZV09cC52YWx1ZTtmb3IodSBpbiBnKXA9Z1t1XSxcImNoaWxkcmVuXCI9PXV8fChcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PXU/ZD1wOlwia2V5XCI9PT11fHx1IGluIGZ8fGVvKGUsdSxudWxsLHAsbikpO2Zvcih1IGluIGYpcD1mW3VdLFwiY2hpbGRyZW5cIj09dT9oPXA6XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT11P2M9cDpcInZhbHVlXCI9PXU/Xz1wOlwiY2hlY2tlZFwiPT11P3Y9cDpcImtleVwiPT09dXx8YSYmXCJmdW5jdGlvblwiIT10eXBlb2YgcHx8Z1t1XT09PXB8fGVvKGUsdSxwLGdbdV0sbik7aWYoYylhfHxkJiYoYy5fX2h0bWw9PT1kLl9faHRtbHx8Yy5fX2h0bWw9PT1lLmlubmVySFRNTCl8fChlLmlubmVySFRNTD1jLl9faHRtbCksdC5fX2s9W107ZWxzZSBpZihkJiYoZS5pbm5lckhUTUw9XCJcIiksWXMoZSxOcyhoKT9oOltoXSx0LGkscixuJiZcImZvcmVpZ25PYmplY3RcIiE9PW0scyxvLHM/c1swXTppLl9fayYmV3MoaSwwKSxhLGwpLG51bGwhPXMpZm9yKHU9cy5sZW5ndGg7dS0tOyludWxsIT1zW3VdJiZIcyhzW3VdKTthfHwodT1cInZhbHVlXCIsdm9pZCAwIT09XyYmKF8hPT1lW3VdfHxcInByb2dyZXNzXCI9PT1tJiYhX3x8XCJvcHRpb25cIj09PW0mJl8hPT1nW3VdKSYmZW8oZSx1LF8sZ1t1XSwhMSksdT1cImNoZWNrZWRcIix2b2lkIDAhPT12JiZ2IT09ZVt1XSYmZW8oZSx1LHYsZ1t1XSwhMSkpfXJldHVybiBlfWZ1bmN0aW9uIG9vKGUsdCxpKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHQpOmUuY3VycmVudD10fWNhdGNoKGUpe3hzLl9fZShlLGkpfX1mdW5jdGlvbiBhbyhlLHQsaSl7dmFyIHIsbjtpZih4cy51bm1vdW50JiZ4cy51bm1vdW50KGUpLChyPWUucmVmKSYmKHIuY3VycmVudCYmci5jdXJyZW50IT09ZS5fX2V8fG9vKHIsbnVsbCx0KSksbnVsbCE9KHI9ZS5fX2MpKXtpZihyLmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXtyLmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2goZSl7eHMuX19lKGUsdCl9ci5iYXNlPXIuX19QPW51bGwsZS5fX2M9dm9pZCAwfWlmKHI9ZS5fX2spZm9yKG49MDtuPHIubGVuZ3RoO24rKylyW25dJiZhbyhyW25dLHQsaXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS50eXBlKTtpfHxudWxsPT1lLl9fZXx8SHMoZS5fX2UpLGUuX189ZS5fX2U9ZS5fX2Q9dm9pZCAwfWZ1bmN0aW9uIGxvKGUsdCxpKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihlLGkpfUVzPURzLnNsaWNlLHhzPXtfX2U6ZnVuY3Rpb24oZSx0LGkscil7Zm9yKHZhciBuLHMsbzt0PXQuX187KWlmKChuPXQuX19jKSYmIW4uX18pdHJ5e2lmKChzPW4uY29uc3RydWN0b3IpJiZudWxsIT1zLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciYmKG4uc2V0U3RhdGUocy5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZSkpLG89bi5fX2QpLG51bGwhPW4uY29tcG9uZW50RGlkQ2F0Y2gmJihuLmNvbXBvbmVudERpZENhdGNoKGUscnx8e30pLG89bi5fX2QpLG8pcmV0dXJuIG4uX19FPW59Y2F0Y2godCl7ZT10fXRocm93IGV9fSxJcz0wLHpzLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBpO2k9bnVsbCE9dGhpcy5fX3MmJnRoaXMuX19zIT09dGhpcy5zdGF0ZT90aGlzLl9fczp0aGlzLl9fcz1Ccyh7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1lKEJzKHt9LGkpLHRoaXMucHJvcHMpKSxlJiZCcyhpLGUpLG51bGwhPWUmJnRoaXMuX192JiYodCYmdGhpcy5fc2IucHVzaCh0KSxHcyh0aGlzKSl9LHpzLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9fdiYmKHRoaXMuX19lPSEwLGUmJnRoaXMuX19oLnB1c2goZSksR3ModGhpcykpfSx6cy5wcm90b3R5cGUucmVuZGVyPVVzLENzPVtdLEZzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKTpzZXRUaW1lb3V0LFRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX192Ll9fYi10Ll9fdi5fX2J9LEpzLl9fcj0wLFJzPTAsZnVuY3Rpb24oZSl7ZS5Qb3BvdmVyPVwicG9wb3ZlclwiLGUuQVBJPVwiYXBpXCIsZS5XaWRnZXQ9XCJ3aWRnZXRcIn0oJHN8fCgkcz17fSkpLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLk11bHRpcGxlQ2hvaWNlPVwibXVsdGlwbGVfY2hvaWNlXCIsZS5TaW5nbGVDaG9pY2U9XCJzaW5nbGVfY2hvaWNlXCIsZS5SYXRpbmc9XCJyYXRpbmdcIixlLkxpbms9XCJsaW5rXCJ9KE9zfHwoT3M9e30pKSxmdW5jdGlvbihlKXtlLk5leHRRdWVzdGlvbj1cIm5leHRfcXVlc3Rpb25cIixlLkVuZD1cImVuZFwiLGUuUmVzcG9uc2VCYXNlZD1cInJlc3BvbnNlX2Jhc2VkXCIsZS5TcGVjaWZpY1F1ZXN0aW9uPVwic3BlY2lmaWNfcXVlc3Rpb25cIn0oTXN8fChNcz17fSkpLGZ1bmN0aW9uKGUpe2UuT25jZT1cIm9uY2VcIixlLlJlY3VycmluZz1cInJlY3VycmluZ1wiLGUuQWx3YXlzPVwiYWx3YXlzXCJ9KEFzfHwoQXM9e30pKTshZnVuY3Rpb24oZSx0KXt2YXIgaT17X19jOnQ9XCJfX2NDXCIrUnMrKyxfXzplLENvbnN1bWVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2hpbGRyZW4odCl9LFByb3ZpZGVyOmZ1bmN0aW9uKGUpe3ZhciBpLHI7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwoaT1bXSwocj17fSlbdF09dGhpcyx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnByb3BzLnZhbHVlIT09ZS52YWx1ZSYmaS5zb21lKChmdW5jdGlvbihlKXtlLl9fZT0hMCxHcyhlKX0pKX0sdGhpcy5zdWI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpO3ZhciB0PWUuY29tcG9uZW50V2lsbFVubW91bnQ7ZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe2kuc3BsaWNlKGkuaW5kZXhPZihlKSwxKSx0JiZ0LmNhbGwoZSl9fSksZS5jaGlsZHJlbn19O2kuUHJvdmlkZXIuX189aS5Db25zdW1lci5jb250ZXh0VHlwZT1pfSh7aXNQcmV2aWV3TW9kZTohMSxwcmV2aWV3UGFnZUluZGV4OjAsb25Qb3B1cFN1cnZleURpc21pc3NlZDooKT0+e30saXNQb3B1cDohMCxvblByZXZpZXdTdWJtaXQ6KCk9Pnt9fSk7dmFyIHVvPWZ1bmN0aW9uKGUsdCl7aWYoIWZ1bmN0aW9uKGUpe3RyeXtuZXcgUmVnRXhwKGUpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfSh0KSlyZXR1cm4hMTt0cnl7cmV0dXJuIG5ldyBSZWdFeHAodCkudGVzdChlKX1jYXRjaChlKXtyZXR1cm4hMX19O2NsYXNzIGNve2NvbnN0cnVjdG9yKCl7Vyh0aGlzLFwiZXZlbnRzXCIse30pLHRoaXMuZXZlbnRzPXt9fW9uKGUsdCl7cmV0dXJuIHRoaXMuZXZlbnRzW2VdfHwodGhpcy5ldmVudHNbZV09W10pLHRoaXMuZXZlbnRzW2VdLnB1c2godCksKCk9Pnt0aGlzLmV2ZW50c1tlXT10aGlzLmV2ZW50c1tlXS5maWx0ZXIoKGU9PmUhPT10KSl9fWVtaXQoZSx0KXtmb3IodmFyIGkgb2YgdGhpcy5ldmVudHNbZV18fFtdKWkodCk7Zm9yKHZhciByIG9mIHRoaXMuZXZlbnRzW1wiKlwiXXx8W10pcihlLHQpfX1jbGFzcyBob3tjb25zdHJ1Y3RvcihlKXtXKHRoaXMsXCJfZGVidWdFdmVudEVtaXR0ZXJcIixuZXcgY28pLFcodGhpcyxcImNoZWNrU3RlcFwiLCgoZSx0KT0+dGhpcy5jaGVja1N0ZXBFdmVudChlLHQpJiZ0aGlzLmNoZWNrU3RlcFVybChlLHQpJiZ0aGlzLmNoZWNrU3RlcEVsZW1lbnQoZSx0KSkpLFcodGhpcyxcImNoZWNrU3RlcEV2ZW50XCIsKChlLHQpPT5udWxsPT10fHwhdC5ldmVudHx8KG51bGw9PWU/dm9pZCAwOmUuZXZlbnQpPT09KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuYWN0aW9uRXZlbnRzPW5ldyBTZXQsdGhpcy5hY3Rpb25SZWdpc3RyeT1uZXcgU2V0fWluaXQoKXt2YXIgZTtpZighRihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuX2FkZENhcHR1cmVIb29rKSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHx0Ll9hZGRDYXB0dXJlSG9vaygoKGUsdCk9Pnt0aGlzLm9uKGUsdCl9KSl9fXJlZ2lzdGVyKGUpe3ZhciB0LGk7aWYoIUYobnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll9hZGRDYXB0dXJlSG9vaykmJihlLmZvckVhY2goKGU9Pnt2YXIgdCxpO251bGw9PT0odD10aGlzLmFjdGlvblJlZ2lzdHJ5KXx8dm9pZCAwPT09dHx8dC5hZGQoZSksbnVsbD09PShpPWUuc3RlcHMpfHx2b2lkIDA9PT1pfHxpLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5hY3Rpb25FdmVudHMpfHx2b2lkIDA9PT10fHx0LmFkZCgobnVsbD09ZT92b2lkIDA6ZS5ldmVudCl8fFwiXCIpfSkpfSkpLG51bGwhPT0oaT10aGlzLmluc3RhbmNlKSYmdm9pZCAwIT09aSYmaS5hdXRvY2FwdHVyZSkpe3ZhciByLG49bmV3IFNldDtlLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9ZS5zdGVwcyl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgoZT0+e251bGwhPWUmJmUuc2VsZWN0b3ImJm4uYWRkKG51bGw9PWU/dm9pZCAwOmUuc2VsZWN0b3IpfSkpfSkpLG51bGw9PT0ocj10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09cnx8ci5hdXRvY2FwdHVyZS5zZXRFbGVtZW50U2VsZWN0b3JzKG4pfX1vbihlLHQpe3ZhciBpO251bGwhPXQmJjAhPWUubGVuZ3RoJiYodGhpcy5hY3Rpb25FdmVudHMuaGFzKGUpfHx0aGlzLmFjdGlvbkV2ZW50cy5oYXMobnVsbD09dD92b2lkIDA6dC5ldmVudCkpJiZ0aGlzLmFjdGlvblJlZ2lzdHJ5JiYobnVsbD09PShpPXRoaXMuYWN0aW9uUmVnaXN0cnkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNpemUpPjAmJnRoaXMuYWN0aW9uUmVnaXN0cnkuZm9yRWFjaCgoZT0+e3RoaXMuY2hlY2tBY3Rpb24odCxlKSYmdGhpcy5fZGVidWdFdmVudEVtaXR0ZXIuZW1pdChcImFjdGlvbkNhcHR1cmVkXCIsZS5uYW1lKX0pKX1fYWRkQWN0aW9uSG9vayhlKXt0aGlzLm9uQWN0aW9uKFwiYWN0aW9uQ2FwdHVyZWRcIiwodD0+ZSh0KSkpfWNoZWNrQWN0aW9uKGUsdCl7aWYobnVsbD09KG51bGw9PXQ/dm9pZCAwOnQuc3RlcHMpKXJldHVybiExO2Zvcih2YXIgaSBvZiB0LnN0ZXBzKWlmKHRoaXMuY2hlY2tTdGVwKGUsaSkpcmV0dXJuITA7cmV0dXJuITF9b25BY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZGVidWdFdmVudEVtaXR0ZXIub24oZSx0KX1jaGVja1N0ZXBVcmwoZSx0KXtpZihudWxsIT10JiZ0LnVybCl7dmFyIGkscj1udWxsPT1lfHxudWxsPT09KGk9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS4kY3VycmVudF91cmw7aWYoIXJ8fFwic3RyaW5nXCIhPXR5cGVvZiByKXJldHVybiExO2lmKCFoby5tYXRjaFN0cmluZyhyLG51bGw9PXQ/dm9pZCAwOnQudXJsLChudWxsPT10P3ZvaWQgMDp0LnVybF9tYXRjaGluZyl8fFwiY29udGFpbnNcIikpcmV0dXJuITF9cmV0dXJuITB9c3RhdGljIG1hdGNoU3RyaW5nKGUsaSxyKXtzd2l0Y2gocil7Y2FzZVwicmVnZXhcIjpyZXR1cm4hIXQmJnVvKGUsaSk7Y2FzZVwiZXhhY3RcIjpyZXR1cm4gaT09PWU7Y2FzZVwiY29udGFpbnNcIjp2YXIgbj1oby5lc2NhcGVTdHJpbmdSZWdleHAoaSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gdW8oZSxuKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgZXNjYXBlU3RyaW5nUmVnZXhwKGUpe3JldHVybiBlLnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoLy0vZyxcIlxcXFx4MmRcIil9Y2hlY2tTdGVwRWxlbWVudChlLHQpe2lmKChudWxsIT10JiZ0LmhyZWZ8fG51bGwhPXQmJnQudGFnX25hbWV8fG51bGwhPXQmJnQudGV4dCkmJiF0aGlzLmdldEVsZW1lbnRzTGlzdChlKS5zb21lKChlPT4hKG51bGwhPXQmJnQuaHJlZiYmIWhvLm1hdGNoU3RyaW5nKGUuaHJlZnx8XCJcIixudWxsPT10P3ZvaWQgMDp0LmhyZWYsKG51bGw9PXQ/dm9pZCAwOnQuaHJlZl9tYXRjaGluZyl8fFwiZXhhY3RcIikpJiYoKG51bGw9PXR8fCF0LnRhZ19uYW1lfHxlLnRhZ19uYW1lPT09KG51bGw9PXQ/dm9pZCAwOnQudGFnX25hbWUpKSYmIShudWxsIT10JiZ0LnRleHQmJiFoby5tYXRjaFN0cmluZyhlLnRleHR8fFwiXCIsbnVsbD09dD92b2lkIDA6dC50ZXh0LChudWxsPT10P3ZvaWQgMDp0LnRleHRfbWF0Y2hpbmcpfHxcImV4YWN0XCIpJiYhaG8ubWF0Y2hTdHJpbmcoZS4kZWxfdGV4dHx8XCJcIixudWxsPT10P3ZvaWQgMDp0LnRleHQsKG51bGw9PXQ/dm9pZCAwOnQudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikpKSkpKXJldHVybiExO2lmKG51bGwhPXQmJnQuc2VsZWN0b3Ipe3ZhciBpLHI9bnVsbD09ZXx8bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJGVsZW1lbnRfc2VsZWN0b3JzO2lmKCFyKXJldHVybiExO2lmKCFyLmluY2x1ZGVzKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpKXJldHVybiExfXJldHVybiEwfWdldEVsZW1lbnRzTGlzdChlKXtyZXR1cm4gbnVsbD09KG51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kZWxlbWVudHN9fWNsYXNzIHBve2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmV2ZW50VG9TdXJ2ZXlzPW5ldyBNYXAsdGhpcy5hY3Rpb25Ub1N1cnZleXM9bmV3IE1hcH1yZWdpc3RlcihlKXt2YXIgdDtGKG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5fYWRkQ2FwdHVyZUhvb2spfHwodGhpcy5zZXR1cEV2ZW50QmFzZWRTdXJ2ZXlzKGUpLHRoaXMuc2V0dXBBY3Rpb25CYXNlZFN1cnZleXMoZSkpfXNldHVwQWN0aW9uQmFzZWRTdXJ2ZXlzKGUpe3ZhciB0PWUuZmlsdGVyKChlPT57dmFyIHQsaSxyLG47cmV0dXJuKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFjdGlvbnMpJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmFjdGlvbnMpfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci52YWx1ZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxlbmd0aCk+MH0pKTtpZigwIT09dC5sZW5ndGgpe2lmKG51bGw9PXRoaXMuYWN0aW9uTWF0Y2hlcil7dGhpcy5hY3Rpb25NYXRjaGVyPW5ldyBobyh0aGlzLmluc3RhbmNlKSx0aGlzLmFjdGlvbk1hdGNoZXIuaW5pdCgpO3RoaXMuYWN0aW9uTWF0Y2hlci5fYWRkQWN0aW9uSG9vaygoZT0+e3RoaXMub25BY3Rpb24oZSl9KSl9dC5mb3JFYWNoKChlPT57dmFyIHQsaSxyLG4scyxvLGEsbCx1LGM7ZS5jb25kaXRpb25zJiZudWxsIT09KHQ9ZS5jb25kaXRpb25zKSYmdm9pZCAwIT09dCYmdC5hY3Rpb25zJiZudWxsIT09KGk9ZS5jb25kaXRpb25zKSYmdm9pZCAwIT09aSYmbnVsbCE9PShyPWkuYWN0aW9ucykmJnZvaWQgMCE9PXImJnIudmFsdWVzJiYobnVsbD09PShuPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PW58fG51bGw9PT0ocz1uLmFjdGlvbnMpfHx2b2lkIDA9PT1zfHxudWxsPT09KG89cy52YWx1ZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk+MCYmKG51bGw9PT0oYT10aGlzLmFjdGlvbk1hdGNoZXIpfHx2b2lkIDA9PT1hfHxhLnJlZ2lzdGVyKGUuY29uZGl0aW9ucy5hY3Rpb25zLnZhbHVlcyksbnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0odT1sLmFjdGlvbnMpfHx2b2lkIDA9PT11fHxudWxsPT09KGM9dS52YWx1ZXMpfHx2b2lkIDA9PT1jfHxjLmZvckVhY2goKHQ9PntpZih0JiZ0Lm5hbWUpe3ZhciBpPXRoaXMuYWN0aW9uVG9TdXJ2ZXlzLmdldCh0Lm5hbWUpO2kmJmkucHVzaChlLmlkKSx0aGlzLmFjdGlvblRvU3VydmV5cy5zZXQodC5uYW1lLGl8fFtlLmlkXSl9fSkpKX0pKX19c2V0dXBFdmVudEJhc2VkU3VydmV5cyhlKXt2YXIgdDtpZigwIT09ZS5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIsbjtyZXR1cm4obnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzKSYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ldmVudHMpfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci52YWx1ZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxlbmd0aCk+MH0pKS5sZW5ndGgpe251bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8dC5fYWRkQ2FwdHVyZUhvb2soKChlLHQpPT57dGhpcy5vbkV2ZW50KGUsdCl9KSksZS5mb3JFYWNoKChlPT57dmFyIHQsaSxyO251bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5ldmVudHMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS52YWx1ZXMpfHx2b2lkIDA9PT1yfHxyLmZvckVhY2goKHQ9PntpZih0JiZ0Lm5hbWUpe3ZhciBpPXRoaXMuZXZlbnRUb1N1cnZleXMuZ2V0KHQubmFtZSk7aSYmaS5wdXNoKGUuaWQpLHRoaXMuZXZlbnRUb1N1cnZleXMuc2V0KHQubmFtZSxpfHxbZS5pZF0pfX0pKX0pKX19b25FdmVudChlLHQpe3ZhciBpLHIsbj0obnVsbD09PShpPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucHJvcHNbTWVdKXx8W107aWYocG8uU1VSVkVZX1NIT1dOX0VWRU5UX05BTUU9PWUmJnQmJm4ubGVuZ3RoPjApe3ZhciBzLG89bnVsbD09dHx8bnVsbD09PShzPXQucHJvcGVydGllcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuJHN1cnZleV9pZDtpZihvKXt2YXIgYT1uLmluZGV4T2Yobyk7YT49MCYmKG4uc3BsaWNlKGEsMSksdGhpcy5fdXBkYXRlQWN0aXZhdGVkU3VydmV5cyhuKSl9fWVsc2UgdGhpcy5ldmVudFRvU3VydmV5cy5oYXMoZSkmJnRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMobi5jb25jYXQodGhpcy5ldmVudFRvU3VydmV5cy5nZXQoZSl8fFtdKSl9b25BY3Rpb24oZSl7dmFyIHQsaSxyPShudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wcm9wc1tNZV0pfHxbXTt0aGlzLmFjdGlvblRvU3VydmV5cy5oYXMoZSkmJnRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMoci5jb25jYXQodGhpcy5hY3Rpb25Ub1N1cnZleXMuZ2V0KGUpfHxbXSkpfV91cGRhdGVBY3RpdmF0ZWRTdXJ2ZXlzKGUpe3ZhciB0LGk7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tNZV06Wy4uLm5ldyBTZXQoZSldfSl9Z2V0U3VydmV5cygpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1tNZV07cmV0dXJuIGl8fFtdfWdldEV2ZW50VG9TdXJ2ZXlzKCl7cmV0dXJuIHRoaXMuZXZlbnRUb1N1cnZleXN9X2dldEFjdGlvbk1hdGNoZXIoKXtyZXR1cm4gdGhpcy5hY3Rpb25NYXRjaGVyfX1XKHBvLFwiU1VSVkVZX1NIT1dOX0VWRU5UX05BTUVcIixcInN1cnZleSBzaG93blwiKTt2YXIgX289QihcIltTdXJ2ZXlzXVwiKSx2bz17aWNvbnRhaW5zOihlLHQpPT5lLnNvbWUoKGU9PnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRvTG93ZXJDYXNlKCkpKSksbm90X2ljb250YWluczooZSx0KT0+ZS5ldmVyeSgoZT0+IXQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRvTG93ZXJDYXNlKCkpKSkscmVnZXg6KGUsdCk9PmUuc29tZSgoZT0+dW8odCxlKSkpLG5vdF9yZWdleDooZSx0KT0+ZS5ldmVyeSgoZT0+IXVvKHQsZSkpKSxleGFjdDooZSx0KT0+ZS5zb21lKChlPT50PT09ZSkpLGlzX25vdDooZSx0KT0+ZS5ldmVyeSgoZT0+dCE9PWUpKX07ZnVuY3Rpb24gZ28oZSl7cmV0dXJuIG51bGwhPWU/ZTpcImljb250YWluc1wifWNsYXNzIGZve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl9pc0ZldGNoaW5nU3VydmV5c1wiLCExKSxXKHRoaXMsXCJfaXNJbml0aWFsaXppbmdTdXJ2ZXlzXCIsITEpLFcodGhpcyxcIl9zdXJ2ZXlDYWxsYmFja3NcIixbXSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bnVsbH1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD1lLnN1cnZleXM7aWYoTyh0KSlyZXR1cm4gX28ud2FybihcIkRlY2lkZSBub3QgbG9hZGVkIHlldC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7dmFyIGk9eCh0KTt0aGlzLl9oYXNTdXJ2ZXlzPWk/dC5sZW5ndGg+MDp0LF9vLmluZm8oXCJkZWNpZGUgcmVzcG9uc2UgcmVjZWl2ZWQsIGhhc1N1cnZleXM6IFwiLmNvbmNhdCh0aGlzLl9oYXNTdXJ2ZXlzKSksdGhpcy5faGFzU3VydmV5cyYmdGhpcy5sb2FkSWZFbmFibGVkKCl9cmVzZXQoKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxhc3RTZWVuU3VydmV5RGF0ZVwiKTt2YXIgZT0oKCk9Pntmb3IodmFyIGU9W10sdD0wO3Q8bG9jYWxTdG9yYWdlLmxlbmd0aDt0Kyspe3ZhciBpPWxvY2FsU3RvcmFnZS5rZXkodCk7bnVsbCE9aSYmaS5zdGFydHNXaXRoKFwic2VlblN1cnZleV9cIikmJmUucHVzaChpKX1yZXR1cm4gZX0pKCk7ZS5mb3JFYWNoKChlPT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKSkpfWxvYWRJZkVuYWJsZWQoKXtpZighdGhpcy5fc3VydmV5TWFuYWdlcilpZih0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXMpX28uaW5mbyhcIkFscmVhZHkgaW5pdGlhbGl6aW5nIHN1cnZleXMsIHNraXBwaW5nLi4uXCIpO2Vsc2UgaWYodGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKV9vLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7ZWxzZXt2YXIgZT1udWxsPT1wP3ZvaWQgMDpwLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXztpZihlKWlmKHRoaXMuX2hhc1N1cnZleXMpe3RoaXMuX2lzSW5pdGlhbGl6aW5nU3VydmV5cz0hMDt0cnl7dmFyIHQ9ZS5nZW5lcmF0ZVN1cnZleXM7aWYodCl0aGlzLl9zdXJ2ZXlNYW5hZ2VyPXQodGhpcy5pbnN0YW5jZSksdGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzPSExLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bmV3IHBvKHRoaXMuaW5zdGFuY2UpLF9vLmluZm8oXCJTdXJ2ZXlzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIiksdGhpcy5fbm90aWZ5U3VydmV5Q2FsbGJhY2tzKHtpc0xvYWRlZDohMH0pO2Vsc2V7dmFyIGk9ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5O2lmKGkpaSh0aGlzLmluc3RhbmNlLFwic3VydmV5c1wiLCh0PT57aWYodHx8IWUuZ2VuZXJhdGVTdXJ2ZXlzKXJldHVybiBfby5lcnJvcihcIkNvdWxkIG5vdCBsb2FkIHN1cnZleXMgc2NyaXB0XCIsdCksdm9pZCh0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXM9ITEpO3RoaXMuX3N1cnZleU1hbmFnZXI9ZS5nZW5lcmF0ZVN1cnZleXModGhpcy5pbnN0YW5jZSksdGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzPSExLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bmV3IHBvKHRoaXMuaW5zdGFuY2UpLF9vLmluZm8oXCJTdXJ2ZXlzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIiksdGhpcy5fbm90aWZ5U3VydmV5Q2FsbGJhY2tzKHtpc0xvYWRlZDohMH0pfSkpO2Vsc2V7dmFyIHI9XCJQb3N0SG9nIGxvYWRFeHRlcm5hbERlcGVuZGVuY3kgZXh0ZW5zaW9uIG5vdCBmb3VuZC4gQ2Fubm90IGxvYWQgcmVtb3RlIGNvbmZpZy5cIjtfby5lcnJvcihyKSx0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXM9ITEsdGhpcy5fbm90aWZ5U3VydmV5Q2FsbGJhY2tzKHtpc0xvYWRlZDohMSxlcnJvcjpyfSl9fX1jYXRjaChlKXt0aHJvdyBfby5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBzdXJ2ZXlzXCIsZSksdGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzPSExLHRoaXMuX25vdGlmeVN1cnZleUNhbGxiYWNrcyh7aXNMb2FkZWQ6ITEsZXJyb3I6XCJFcnJvciBpbml0aWFsaXppbmcgc3VydmV5c1wifSksZX19ZWxzZSBfby5pbmZvKFwiTm8gc3VydmV5cyB0byBsb2FkLlwiKTtlbHNlIF9vLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC5cIil9fW9uU3VydmV5c0xvYWRlZChlKXtyZXR1cm4gdGhpcy5fc3VydmV5Q2FsbGJhY2tzLnB1c2goZSksdGhpcy5fc3VydmV5TWFuYWdlciYmdGhpcy5fbm90aWZ5U3VydmV5Q2FsbGJhY2tzKHtpc0xvYWRlZDohMH0pLCgpPT57dGhpcy5fc3VydmV5Q2FsbGJhY2tzPXRoaXMuX3N1cnZleUNhbGxiYWNrcy5maWx0ZXIoKHQ9PnQhPT1lKSl9fWdldFN1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpcmV0dXJuIF9vLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIiksZShbXSk7dmFyIGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoT2UpO2lmKGkmJiF0KXJldHVybiBlKGkse2lzTG9hZGVkOiEwfSk7aWYodGhpcy5faXNGZXRjaGluZ1N1cnZleXMpcmV0dXJuIGUoW10se2lzTG9hZGVkOiExLGVycm9yOlwiU3VydmV5cyBhcmUgYWxyZWFkeSBiZWluZyBsb2FkZWRcIn0pO3RyeXt0aGlzLl9pc0ZldGNoaW5nU3VydmV5cz0hMCx0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvc3VydmV5cy8/dG9rZW49XCIuY29uY2F0KHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuKSksbWV0aG9kOlwiR0VUXCIsdGltZW91dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5zdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazp0PT57dmFyIGk7dGhpcy5faXNGZXRjaGluZ1N1cnZleXM9ITE7dmFyIHI9dC5zdGF0dXNDb2RlO2lmKDIwMCE9PXJ8fCF0Lmpzb24pe3ZhciBuPVwiU3VydmV5cyBBUEkgY291bGQgbm90IGJlIGxvYWRlZCwgc3RhdHVzOiBcIi5jb25jYXQocik7cmV0dXJuIF9vLmVycm9yKG4pLGUoW10se2lzTG9hZGVkOiExLGVycm9yOm59KX12YXIgcyxvPXQuanNvbi5zdXJ2ZXlzfHxbXSxhPW8uZmlsdGVyKChlPT57dmFyIHQsaSxyLG4scyxvLGEsbCx1LGMsZCxoO3JldHVybihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ldmVudHMpJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmV2ZW50cyl8fHZvaWQgMD09PXI/dm9pZCAwOnIudmFsdWVzKSYmKG51bGw9PT0obj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1ufHxudWxsPT09KHM9bi5ldmVudHMpfHx2b2lkIDA9PT1zfHxudWxsPT09KG89cy52YWx1ZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk+MHx8KG51bGw9PT0oYT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmFjdGlvbnMpJiYobnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0odT1sLmFjdGlvbnMpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnZhbHVlcykmJihudWxsPT09KGM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09Y3x8bnVsbD09PShkPWMuYWN0aW9ucyl8fHZvaWQgMD09PWR8fG51bGw9PT0oaD1kLnZhbHVlcyl8fHZvaWQgMD09PWg/dm9pZCAwOmgubGVuZ3RoKT4wfSkpO2EubGVuZ3RoPjAmJihudWxsPT09KHM9dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fHZvaWQgMD09PXN8fHMucmVnaXN0ZXIoYSkpO3JldHVybiBudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tPZV06b30pLGUobyx7aXNMb2FkZWQ6ITB9KX19KX1jYXRjaChlKXt0aHJvdyB0aGlzLl9pc0ZldGNoaW5nU3VydmV5cz0hMSxlfX1fbm90aWZ5U3VydmV5Q2FsbGJhY2tzKGUpe2Zvcih2YXIgdCBvZiB0aGlzLl9zdXJ2ZXlDYWxsYmFja3MpdHJ5e2UuaXNMb2FkZWQ/dGhpcy5nZXRTdXJ2ZXlzKHQpOnQoW10sZSl9Y2F0Y2goZSl7X28uZXJyb3IoXCJFcnJvciBpbiBzdXJ2ZXkgY2FsbGJhY2tcIixlKX19aXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZSl7cmV0dXJuIWV8fHRoaXMuaW5zdGFuY2UuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQoZSl9Z2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07dGhpcy5nZXRTdXJ2ZXlzKChpPT57dmFyIHIsbj1pLmZpbHRlcigoZT0+ISghZS5zdGFydF9kYXRlfHxlLmVuZF9kYXRlKSkpLmZpbHRlcigoZT0+e3ZhciBpO2lmKCFlLmNvbmRpdGlvbnMpcmV0dXJuITA7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIGkscixuO2lmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHwhaS51cmwpcmV0dXJuITA7dmFyIHM9bnVsbD09dHx8bnVsbD09PShyPXQubG9jYXRpb24pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmhyZWY7aWYoIXMpcmV0dXJuITE7dmFyIG89W2UuY29uZGl0aW9ucy51cmxdO3JldHVybiB2b1tnbyhudWxsPT09KG49ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi51cmxNYXRjaFR5cGUpXShvLHMpfShlKSxuPW51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHwhaS5zZWxlY3Rvcnx8KG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvcihlLmNvbmRpdGlvbnMuc2VsZWN0b3IpKSxzPWZ1bmN0aW9uKGUpe3ZhciB0LGkscjtpZihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dHx8IXQuZGV2aWNlVHlwZXN8fDA9PT0obnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZGV2aWNlVHlwZXMubGVuZ3RoKSlyZXR1cm4hMDtpZighaClyZXR1cm4hMTt2YXIgbj1ocy5kZXZpY2VUeXBlKGgpO3JldHVybiB2b1tnbyhudWxsPT09KHI9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cj92b2lkIDA6ci5kZXZpY2VUeXBlc01hdGNoVHlwZSldKGUuY29uZGl0aW9ucy5kZXZpY2VUeXBlcyxuKX0oZSk7cmV0dXJuIHImJm4mJnN9KSkscz1udWxsPT09KHI9dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0U3VydmV5cygpLG89bi5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIsbixvLGEsbCx1LGM7aWYoIShlLmxpbmtlZF9mbGFnX2tleXx8ZS50YXJnZXRpbmdfZmxhZ19rZXl8fGUuaW50ZXJuYWxfdGFyZ2V0aW5nX2ZsYWdfa2V5fHxudWxsIT09KHQ9ZS5mZWF0dXJlX2ZsYWdfa2V5cykmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKSlyZXR1cm4hMDt2YXIgZD10aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUubGlua2VkX2ZsYWdfa2V5KSxoPXRoaXMuaXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZS50YXJnZXRpbmdfZmxhZ19rZXkpLHA9KG51bGwhPT0oaT1udWxsPT09KHI9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cnx8bnVsbD09PShuPXIuZXZlbnRzKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4udmFsdWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpJiZ2b2lkIDAhPT1pP2k6MCk+MCxfPShudWxsIT09KGE9bnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0odT1sLmFjdGlvbnMpfHx2b2lkIDA9PT11fHxudWxsPT09KGM9dS52YWx1ZXMpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKT4wLHY9IXAmJiFffHwobnVsbD09cz92b2lkIDA6cy5pbmNsdWRlcyhlLmlkKSksZz10aGlzLl9jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl8fHRoaXMuaXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZS5pbnRlcm5hbF90YXJnZXRpbmdfZmxhZ19rZXkpLGY9dGhpcy5jaGVja0ZsYWdzKGUpO3JldHVybiBkJiZoJiZnJiZ2JiZmfSkpO3JldHVybiBlKG8pfSksaSl9Y2hlY2tGbGFncyhlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PWUuZmVhdHVyZV9mbGFnX2tleXMpfHx2b2lkIDA9PT10fHwhdC5sZW5ndGh8fGUuZmVhdHVyZV9mbGFnX2tleXMuZXZlcnkoKGU9Pnt2YXJ7a2V5OnQsdmFsdWU6aX09ZTtyZXR1cm4hdHx8IWl8fHRoaXMuaW5zdGFuY2UuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQoaSl9KSl9X2NhbkFjdGl2YXRlUmVwZWF0ZWRseShlKXt2YXIgdDtyZXR1cm4gTyhudWxsPT09KHQ9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbkFjdGl2YXRlUmVwZWF0ZWRseSk/KF9vLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLCExKTpwLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl9Y2FuUmVuZGVyU3VydmV5KGUpe08odGhpcy5fc3VydmV5TWFuYWdlcik/X28ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik6dGhpcy5nZXRTdXJ2ZXlzKCh0PT57dmFyIGk9dC5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSlbMF07dGhpcy5fc3VydmV5TWFuYWdlci5jYW5SZW5kZXJTdXJ2ZXkoaSl9KSl9cmVuZGVyU3VydmV5KGUsdCl7Tyh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT9fby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTp0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcj1pLmZpbHRlcigodD0+dC5pZD09PWUpKVswXTt0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShyLG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3Rvcih0KSl9KSl9fXZhciBtbz1CKFwiW1JhdGVMaW1pdGVyXVwiKTtjbGFzcyB5b3tjb25zdHJ1Y3RvcihlKXt2YXIgdCxpO1codGhpcyxcInNlcnZlckxpbWl0c1wiLHt9KSxXKHRoaXMsXCJsYXN0RXZlbnRSYXRlTGltaXRlZFwiLCExKSxXKHRoaXMsXCJjaGVja0ZvckxpbWl0aW5nXCIsKGU9Pnt2YXIgdD1lLnRleHQ7aWYodCYmdC5sZW5ndGgpdHJ5eyhKU09OLnBhcnNlKHQpLnF1b3RhX2xpbWl0ZWR8fFtdKS5mb3JFYWNoKChlPT57bW8uaW5mbyhcIlwiLmNvbmNhdChlfHxcImV2ZW50c1wiLFwiIGlzIHF1b3RhIGxpbWl0ZWQuXCIpKSx0aGlzLnNlcnZlckxpbWl0c1tlXT0obmV3IERhdGUpLmdldFRpbWUoKSs2ZTR9KSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbW8ud2FybignY291bGQgbm90IHJhdGUgbGltaXQgLSBjb250aW51aW5nLiBFcnJvcjogXCInLmNvbmNhdChudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UsJ1wiJykse3RleHQ6dH0pfX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kPShudWxsPT09KHQ9ZS5jb25maWcucmF0ZV9saW1pdGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzX3Blcl9zZWNvbmQpfHwxMCx0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0PU1hdGgubWF4KChudWxsPT09KGk9ZS5jb25maWcucmF0ZV9saW1pdGluZyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZXZlbnRzX2J1cnN0X2xpbWl0KXx8MTAqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD10aGlzLmNsaWVudFJhdGVMaW1pdENvbnRleHQoITApLmlzUmF0ZUxpbWl0ZWR9Y2xpZW50UmF0ZUxpbWl0Q29udGV4dCgpe3ZhciBlLHQsaSxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sbj0obmV3IERhdGUpLmdldFRpbWUoKSxzPW51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KHFlKSkmJnZvaWQgMCE9PWU/ZTp7dG9rZW5zOnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQsbGFzdDpufTtzLnRva2Vucys9KG4tcy5sYXN0KS8xZTMqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHMubGFzdD1uLHMudG9rZW5zPnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQmJihzLnRva2Vucz10aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0KTt2YXIgbz1zLnRva2VuczwxO3JldHVybiBvfHxyfHwocy50b2tlbnM9TWF0aC5tYXgoMCxzLnRva2Vucy0xKSksIW98fHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWR8fHJ8fHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIseyQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nX21lc3NhZ2U6XCJwb3N0aG9nLWpzIGNsaWVudCByYXRlIGxpbWl0ZWQuIENvbmZpZyBpcyBzZXQgdG8gXCIuY29uY2F0KHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxcIiBldmVudHMgcGVyIHNlY29uZCBhbmQgXCIpLmNvbmNhdCh0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LFwiIGV2ZW50cyBidXJzdCBsaW1pdC5cIil9LHtza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD1vLG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5zZXRfcHJvcGVydHkocWUscykse2lzUmF0ZUxpbWl0ZWQ6byxyZW1haW5pbmdUb2tlbnM6cy50b2tlbnN9fWlzU2VydmVyUmF0ZUxpbWl0ZWQoZSl7dmFyIHQ9dGhpcy5zZXJ2ZXJMaW1pdHNbZXx8XCJldmVudHNcIl18fCExO3JldHVybiExIT09dCYmKG5ldyBEYXRlKS5nZXRUaW1lKCk8dH19dmFyIGJvPUIoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyB3b3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9Z2V0IHJlbW90ZUNvbmZpZygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1wLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbmZpZ31fbG9hZFJlbW90ZUNvbmZpZ0pzKGUpe3ZhciB0LGkscjtudWxsIT09KHQ9cC5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k/bnVsbD09PShpPXAuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJyZW1vdGUtY29uZmlnXCIsKCgpPT5lKHRoaXMucmVtb3RlQ29uZmlnKSkpOihiby5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpLGUoKSl9X2xvYWRSZW1vdGVDb25maWdKU09OKGUpe3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbixcIi9jb25maWdcIikpLGNhbGxiYWNrOnQ9PntlKHQuanNvbil9fSl9bG9hZCgpe3RyeXtpZih0aGlzLnJlbW90ZUNvbmZpZylyZXR1cm4gYm8uaW5mbyhcIlVzaW5nIHByZWxvYWRlZCByZW1vdGUgY29uZmlnXCIsdGhpcy5yZW1vdGVDb25maWcpLHZvaWQgdGhpcy5vblJlbW90ZUNvbmZpZyh0aGlzLnJlbW90ZUNvbmZpZyk7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpcmV0dXJuIHZvaWQgYm8ud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuX2xvYWRSZW1vdGVDb25maWdKcygoZT0+e2lmKCFlKXJldHVybiBiby5pbmZvKFwiTm8gY29uZmlnIGZvdW5kIGFmdGVyIGxvYWRpbmcgcmVtb3RlIEpTIGNvbmZpZy4gRmFsbGluZyBiYWNrIHRvIEpTT04uXCIpLHZvaWQgdGhpcy5fbG9hZFJlbW90ZUNvbmZpZ0pTT04oKGU9Pnt0aGlzLm9uUmVtb3RlQ29uZmlnKGUpfSkpO3RoaXMub25SZW1vdGVDb25maWcoZSl9KSl9Y2F0Y2goZSl7Ym8uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIixlKX19b25SZW1vdGVDb25maWcoZSl7ZT90aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZz8odGhpcy5pbnN0YW5jZS5fb25SZW1vdGVDb25maWcoZSksITEhPT1lLmhhc0ZlYXR1cmVGbGFncyYmdGhpcy5pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuZW5zdXJlRmxhZ3NMb2FkZWQoKSk6Ym8uaW5mbyhcIl9fcHJldmlld19yZW1vdGVfY29uZmlnIGlzIGRpc2FibGVkLiBMb2dnaW5nIGNvbmZpZyBpbnN0ZWFkXCIsZSk6Ym8uZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcmVtb3RlIGNvbmZpZyBmcm9tIFBvc3RIb2cuXCIpfX12YXIgU289ZnVuY3Rpb24oZSl7dmFyIHQsaSxyLG4scz1cIlwiO2Zvcih0PWk9MCxyPShlPShlK1wiXCIpLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpKS5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBvPWUuY2hhckNvZGVBdChuKSxhPW51bGw7bzwxMjg/aSsrOmE9bz4xMjcmJm88MjA0OD9TdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjZ8MTkyLDYzJm98MTI4KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjEyfDIyNCxvPj42JjYzfDEyOCw2MyZvfDEyOCksJChhKXx8KGk+dCYmKHMrPWUuc3Vic3RyaW5nKHQsaSkpLHMrPWEsdD1pPW4rMSl9cmV0dXJuIGk+dCYmKHMrPWUuc3Vic3RyaW5nKHQsZS5sZW5ndGgpKSxzfSxrbz0hIWN8fCEhdSxFbz1cInRleHQvcGxhaW5cIix4bz0oZSx0KT0+e3ZhcltpLHJdPWUuc3BsaXQoXCI/XCIpLG49eih7fSx0KTtudWxsPT1yfHxyLnNwbGl0KFwiJlwiKS5mb3JFYWNoKChlPT57dmFyW3RdPWUuc3BsaXQoXCI9XCIpO2RlbGV0ZSBuW3RdfSkpO3ZhciBzPWt0KG4pO3JldHVybiBzPXM/KHI/citcIiZcIjpcIlwiKStzOnIsXCJcIi5jb25jYXQoaSxcIj9cIikuY29uY2F0KHMpfSxJbz0oZSx0KT0+SlNPTi5zdHJpbmdpZnkoZSwoKGUsdCk9PlwiYmlnaW50XCI9PXR5cGVvZiB0P3QudG9TdHJpbmcoKTp0KSx0KSxDbz10PT57dmFye2RhdGE6aSxjb21wcmVzc2lvbjpyfT10O2lmKGkpe2lmKHI9PT1lLkdaaXBKUyl7dmFyIG49JHIoT3IoSW8oaSkpLHttdGltZTowfSkscz1uZXcgQmxvYihbbl0se3R5cGU6RW99KTtyZXR1cm57Y29udGVudFR5cGU6RW8sYm9keTpzLGVzdGltYXRlZFNpemU6cy5zaXplfX1pZihyPT09ZS5CYXNlNjQpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0LGkscixuLHMsbz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYT0wLGw9MCx1PVwiXCIsYz1bXTtpZighZSlyZXR1cm4gZTtlPVNvKGUpO2Rve3Q9KHM9ZS5jaGFyQ29kZUF0KGErKyk8PDE2fGUuY2hhckNvZGVBdChhKyspPDw4fGUuY2hhckNvZGVBdChhKyspKT4+MTgmNjMsaT1zPj4xMiY2MyxyPXM+PjYmNjMsbj02MyZzLGNbbCsrXT1vLmNoYXJBdCh0KStvLmNoYXJBdChpKStvLmNoYXJBdChyKStvLmNoYXJBdChuKX13aGlsZShhPGUubGVuZ3RoKTtzd2l0Y2godT1jLmpvaW4oXCJcIiksZS5sZW5ndGglMyl7Y2FzZSAxOnU9dS5zbGljZSgwLC0yKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9dS5zbGljZSgwLC0xKStcIj1cIn1yZXR1cm4gdX0oSW8oaSkpLGE9KGU9PlwiZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpJbyhlKSkpKG8pO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGJvZHk6YSxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFthXSkuc2l6ZX19dmFyIGw9SW8oaSk7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLGJvZHk6bCxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFtsXSkuc2l6ZX19fSxQbz1bXTt1JiZQby5wdXNoKHt0cmFuc3BvcnQ6XCJmZXRjaFwiLG1ldGhvZDplPT57dmFyIHQsaSx7Y29udGVudFR5cGU6cixib2R5Om4sZXN0aW1hdGVkU2l6ZTpzfT1udWxsIT09KHQ9Q28oZSkpJiZ2b2lkIDAhPT10P3Q6e30sbz1uZXcgSGVhZGVycztZKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtvLmFwcGVuZCh0LGUpfSkpLHImJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscik7dmFyIGE9ZS51cmwsbD1udWxsO2lmKGQpe3ZhciBjPW5ldyBkO2w9e3NpZ25hbDpjLnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT5jLmFib3J0KCkpLGUudGltZW91dCl9fXUoYSx6KHttZXRob2Q6KG51bGw9PWU/dm9pZCAwOmUubWV0aG9kKXx8XCJHRVRcIixoZWFkZXJzOm8sa2VlcGFsaXZlOlwiUE9TVFwiPT09ZS5tZXRob2QmJihzfHwwKTw1MjQyOC44LGJvZHk6bixzaWduYWw6bnVsbD09PShpPWwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNpZ25hbH0sZS5mZXRjaE9wdGlvbnMpKS50aGVuKCh0PT50LnRleHQoKS50aGVuKChpPT57dmFyIHIsbj17c3RhdHVzQ29kZTp0LnN0YXR1cyx0ZXh0Oml9O2lmKDIwMD09PXQuc3RhdHVzKXRyeXtuLmpzb249SlNPTi5wYXJzZShpKX1jYXRjaChlKXtOLmVycm9yKGUpfW51bGw9PT0ocj1lLmNhbGxiYWNrKXx8dm9pZCAwPT09cnx8ci5jYWxsKGUsbil9KSkpKS5jYXRjaCgodD0+e3ZhciBpO04uZXJyb3IodCksbnVsbD09PShpPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1pfHxpLmNhbGwoZSx7c3RhdHVzQ29kZTowLHRleHQ6dH0pfSkpLmZpbmFsbHkoKCgpPT5sP2NsZWFyVGltZW91dChsLnRpbWVvdXQpOm51bGwpKX19KSxjJiZQby5wdXNoKHt0cmFuc3BvcnQ6XCJYSFJcIixtZXRob2Q6ZT0+e3ZhciB0LGk9bmV3IGM7aS5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKTt2YXJ7Y29udGVudFR5cGU6cixib2R5Om59PW51bGwhPT0odD1DbyhlKSkmJnZvaWQgMCE9PXQ/dDp7fTtZKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxyJiZpLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSxlLnRpbWVvdXQmJihpLnRpbWVvdXQ9ZS50aW1lb3V0KSxpLndpdGhDcmVkZW50aWFscz0hMCxpLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1pLnJlYWR5U3RhdGUpe3ZhciB0LHI9e3N0YXR1c0NvZGU6aS5zdGF0dXMsdGV4dDppLnJlc3BvbnNlVGV4dH07aWYoMjAwPT09aS5zdGF0dXMpdHJ5e3IuanNvbj1KU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KX1jYXRjaChlKXt9bnVsbD09PSh0PWUuY2FsbGJhY2spfHx2b2lkIDA9PT10fHx0LmNhbGwoZSxyKX19LGkuc2VuZChuKX19KSxudWxsIT1vJiZvLnNlbmRCZWFjb24mJlBvLnB1c2goe3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIixtZXRob2Q6ZT0+e3ZhciB0PXhvKGUudXJsLHtiZWFjb246XCIxXCJ9KTt0cnl7dmFyIGkse2NvbnRlbnRUeXBlOnIsYm9keTpufT1udWxsIT09KGk9Q28oZSkpJiZ2b2lkIDAhPT1pP2k6e30scz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uZXcgQmxvYihbbl0se3R5cGU6cn0pOm47by5zZW5kQmVhY29uKHQscyl9Y2F0Y2goZSl7fX19KTt2YXIgRm89M2UzO2NsYXNzIFRve2NvbnN0cnVjdG9yKGUsdCl7Vyh0aGlzLFwiaXNQYXVzZWRcIiwhMCksVyh0aGlzLFwicXVldWVcIixbXSksdGhpcy5mbHVzaFRpbWVvdXRNcz1KaSgobnVsbD09dD92b2lkIDA6dC5mbHVzaF9pbnRlcnZhbF9tcyl8fEZvLDI1MCw1ZTMsXCJmbHVzaCBpbnRlcnZhbFwiLEZvKSx0aGlzLnNlbmRSZXF1ZXN0PWV9ZW5xdWV1ZShlKXt0aGlzLnF1ZXVlLnB1c2goZSksdGhpcy5mbHVzaFRpbWVvdXR8fHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9dW5sb2FkKCl7dGhpcy5jbGVhckZsdXNoVGltZW91dCgpO3ZhciBlPXRoaXMucXVldWUubGVuZ3RoPjA/dGhpcy5mb3JtYXRRdWV1ZSgpOnt9LHQ9T2JqZWN0LnZhbHVlcyhlKSxpPVsuLi50LmZpbHRlcigoZT0+MD09PWUudXJsLmluZGV4T2YoXCIvZVwiKSkpLC4uLnQuZmlsdGVyKChlPT4wIT09ZS51cmwuaW5kZXhPZihcIi9lXCIpKSldO2kubWFwKChlPT57dGhpcy5zZW5kUmVxdWVzdCh6KHooe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX0pKX1lbmFibGUoKXt0aGlzLmlzUGF1c2VkPSExLHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9c2V0Rmx1c2hUaW1lb3V0KCl7dmFyIGU9dGhpczt0aGlzLmlzUGF1c2VkfHwodGhpcy5mbHVzaFRpbWVvdXQ9c2V0VGltZW91dCgoKCk9PntpZih0aGlzLmNsZWFyRmx1c2hUaW1lb3V0KCksdGhpcy5xdWV1ZS5sZW5ndGg+MCl7dmFyIHQ9dGhpcy5mb3JtYXRRdWV1ZSgpLGk9ZnVuY3Rpb24oaSl7dmFyIHI9dFtpXSxuPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3IuZGF0YSYmeChyLmRhdGEpJiZZKHIuZGF0YSwoZT0+e2Uub2Zmc2V0PU1hdGguYWJzKGUudGltZXN0YW1wLW4pLGRlbGV0ZSBlLnRpbWVzdGFtcH0pKSxlLnNlbmRSZXF1ZXN0KHIpfTtmb3IodmFyIHIgaW4gdClpKHIpfX0pLHRoaXMuZmx1c2hUaW1lb3V0TXMpKX1jbGVhckZsdXNoVGltZW91dCgpe2NsZWFyVGltZW91dCh0aGlzLmZsdXNoVGltZW91dCksdGhpcy5mbHVzaFRpbWVvdXQ9dm9pZCAwfWZvcm1hdFF1ZXVlKCl7dmFyIGU9e307cmV0dXJuIFkodGhpcy5xdWV1ZSwodD0+e3ZhciBpLHI9dCxuPShyP3IuYmF0Y2hLZXk6bnVsbCl8fHIudXJsO0YoZVtuXSkmJihlW25dPXooeih7fSxyKSx7fSx7ZGF0YTpbXX0pKSxudWxsPT09KGk9ZVtuXS5kYXRhKXx8dm9pZCAwPT09aXx8aS5wdXNoKHIuZGF0YSl9KSksdGhpcy5xdWV1ZT1bXSxlfX12YXIgUm89W1wicmV0cmllc1BlcmZvcm1lZFNvRmFyXCJdO2NsYXNzICRve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcImlzUG9sbGluZ1wiLCExKSxXKHRoaXMsXCJwb2xsSW50ZXJ2YWxNc1wiLDNlMyksVyh0aGlzLFwicXVldWVcIixbXSksdGhpcy5pbnN0YW5jZT1lLHRoaXMucXVldWU9W10sdGhpcy5hcmVXZU9ubGluZT0hMCwhRih0KSYmXCJvbkxpbmVcImluIHQubmF2aWdhdG9yJiYodGhpcy5hcmVXZU9ubGluZT10Lm5hdmlnYXRvci5vbkxpbmUsb2UodCxcIm9ubGluZVwiLCgoKT0+e3RoaXMuYXJlV2VPbmxpbmU9ITAsdGhpcy5mbHVzaCgpfSkpLG9lKHQsXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5hcmVXZU9ubGluZT0hMX0pKSl9cmV0cmlhYmxlUmVxdWVzdChlKXt2YXJ7cmV0cmllc1BlcmZvcm1lZFNvRmFyOnR9PWUsaT1WKGUsUm8pO00odCkmJnQ+MCYmKGkudXJsPXhvKGkudXJsLHtyZXRyeV9jb3VudDp0fSkpLHRoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh6KHooe30saSkse30se2NhbGxiYWNrOmU9Pnt2YXIgcjsyMDAhPT1lLnN0YXR1c0NvZGUmJihlLnN0YXR1c0NvZGU8NDAwfHxlLnN0YXR1c0NvZGU+PTUwMCkmJihudWxsIT10P3Q6MCk8MTA/dGhpcy5lbnF1ZXVlKHooe3JldHJpZXNQZXJmb3JtZWRTb0Zhcjp0fSxpKSk6bnVsbD09PShyPWkuY2FsbGJhY2spfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSxlKX19KSl9ZW5xdWV1ZShlKXt2YXIgdD1lLnJldHJpZXNQZXJmb3JtZWRTb0Zhcnx8MDtlLnJldHJpZXNQZXJmb3JtZWRTb0Zhcj10KzE7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9M2UzKk1hdGgucG93KDIsZSksaT10LzIscj1NYXRoLm1pbigxOGU1LHQpLG49KE1hdGgucmFuZG9tKCktLjUpKihyLWkpO3JldHVybiBNYXRoLmNlaWwocituKX0odCkscj1EYXRlLm5vdygpK2k7dGhpcy5xdWV1ZS5wdXNoKHtyZXRyeUF0OnIscmVxdWVzdE9wdGlvbnM6ZX0pO3ZhciBuPVwiRW5xdWV1ZWQgZmFpbGVkIHJlcXVlc3QgZm9yIHJldHJ5IGluIFwiLmNvbmNhdChpKTtuYXZpZ2F0b3Iub25MaW5lfHwobis9XCIgKEJyb3dzZXIgaXMgb2ZmbGluZSlcIiksTi53YXJuKG4pLHRoaXMuaXNQb2xsaW5nfHwodGhpcy5pc1BvbGxpbmc9ITAsdGhpcy5wb2xsKCkpfXBvbGwoKXt0aGlzLnBvbGxlciYmY2xlYXJUaW1lb3V0KHRoaXMucG9sbGVyKSx0aGlzLnBvbGxlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuYXJlV2VPbmxpbmUmJnRoaXMucXVldWUubGVuZ3RoPjAmJnRoaXMuZmx1c2goKSx0aGlzLnBvbGwoKX0pLHRoaXMucG9sbEludGVydmFsTXMpfWZsdXNoKCl7dmFyIGU9RGF0ZS5ub3coKSx0PVtdLGk9dGhpcy5xdWV1ZS5maWx0ZXIoKGk9PmkucmV0cnlBdDxlfHwodC5wdXNoKGkpLCExKSkpO2lmKHRoaXMucXVldWU9dCxpLmxlbmd0aD4wKWZvcih2YXJ7cmVxdWVzdE9wdGlvbnM6cn1vZiBpKXRoaXMucmV0cmlhYmxlUmVxdWVzdChyKX11bmxvYWQoKXtmb3IodmFye3JlcXVlc3RPcHRpb25zOmV9b2YodGhpcy5wb2xsZXImJihjbGVhclRpbWVvdXQodGhpcy5wb2xsZXIpLHRoaXMucG9sbGVyPXZvaWQgMCksdGhpcy5xdWV1ZSkpdHJ5e3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh6KHooe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaChlKXtOLmVycm9yKGUpfXRoaXMucXVldWU9W119fWNsYXNzIE9ve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl91cGRhdGVTY3JvbGxEYXRhXCIsKCgpPT57dmFyIGUsdCxpLHI7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PXt9KTt2YXIgbj10aGlzLnNjcm9sbEVsZW1lbnQoKSxzPXRoaXMuc2Nyb2xsWSgpLG89bj9NYXRoLm1heCgwLG4uc2Nyb2xsSGVpZ2h0LW4uY2xpZW50SGVpZ2h0KTowLGE9cysoKG51bGw9PW4/dm9pZCAwOm4uY2xpZW50SGVpZ2h0KXx8MCksbD0obnVsbD09bj92b2lkIDA6bi5zY3JvbGxIZWlnaHQpfHwwO3RoaXMuY29udGV4dC5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwocyksdGhpcy5jb250ZXh0Lm1heFNjcm9sbFk9TWF0aC5tYXgocyxudWxsIT09KGU9dGhpcy5jb250ZXh0Lm1heFNjcm9sbFkpJiZ2b2lkIDAhPT1lP2U6MCksdGhpcy5jb250ZXh0Lm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0odD10aGlzLmNvbnRleHQubWF4U2Nyb2xsSGVpZ2h0KSYmdm9pZCAwIT09dD90OjApLHRoaXMuY29udGV4dC5sYXN0Q29udGVudFk9YSx0aGlzLmNvbnRleHQubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGk9dGhpcy5jb250ZXh0Lm1heENvbnRlbnRZKSYmdm9pZCAwIT09aT9pOjApLHRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0PU1hdGgubWF4KGwsbnVsbCE9PShyPXRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cj9yOjApfSkpLHRoaXMuaW5zdGFuY2U9ZX1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuY29udGV4dH1yZXNldENvbnRleHQoKXt2YXIgZT10aGlzLmNvbnRleHQ7cmV0dXJuIHNldFRpbWVvdXQodGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSwwKSxlfXN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKXtvZSh0LFwic2Nyb2xsXCIsdGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSx7Y2FwdHVyZTohMH0pLG9lKHQsXCJzY3JvbGxlbmRcIix0aGlzLl91cGRhdGVTY3JvbGxEYXRhLHtjYXB0dXJlOiEwfSksb2UodCxcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZVNjcm9sbERhdGEpfXNjcm9sbEVsZW1lbnQoKXtpZighdGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpcmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBlPXgodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yOlt0aGlzLmluc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcl07Zm9yKHZhciBpIG9mIGUpe3ZhciByPW51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpKTtpZihyKXJldHVybiByfX1zY3JvbGxZKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbExlZnR8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFh8fHQucGFnZVhPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpfHwwfX12YXIgTW89ZT0+aHMucGVyc29uSW5mbyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6bnVsbD09ZT92b2lkIDA6ZS5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczpudWxsPT1lP3ZvaWQgMDplLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7Y2xhc3MgQW97Y29uc3RydWN0b3IoZSx0LGkscil7Vyh0aGlzLFwiX29uU2Vzc2lvbklkQ2FsbGJhY2tcIiwoZT0+e3ZhciB0PXRoaXMuX2dldFN0b3JlZCgpO2lmKCF0fHx0LnNlc3Npb25JZCE9PWUpe3ZhciBpPXtzZXNzaW9uSWQ6ZSxwcm9wczp0aGlzLl9zZXNzaW9uU291cmNlUGFyYW1HZW5lcmF0b3IodGhpcy5pbnN0YW5jZSl9O3RoaXMuX3BlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbRGVdOml9KX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX3Nlc3Npb25JZE1hbmFnZXI9dCx0aGlzLl9wZXJzaXN0ZW5jZT1pLHRoaXMuX3Nlc3Npb25Tb3VyY2VQYXJhbUdlbmVyYXRvcj1yfHxNbyx0aGlzLl9zZXNzaW9uSWRNYW5hZ2VyLm9uU2Vzc2lvbklkKHRoaXMuX29uU2Vzc2lvbklkQ2FsbGJhY2spfV9nZXRTdG9yZWQoKXtyZXR1cm4gdGhpcy5fcGVyc2lzdGVuY2UucHJvcHNbRGVdfWdldFNldE9uY2VQcm9wcygpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuX2dldFN0b3JlZCgpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9wcztyZXR1cm4gdD9cInJcImluIHQ/aHMucGVyc29uUHJvcHNGcm9tSW5mbyh0KTp7JHJlZmVycmluZ19kb21haW46dC5yZWZlcnJpbmdEb21haW4sJHBhdGhuYW1lOnQuaW5pdGlhbFBhdGhOYW1lLHV0bV9zb3VyY2U6dC51dG1fc291cmNlLHV0bV9jYW1wYWlnbjp0LnV0bV9jYW1wYWlnbix1dG1fbWVkaXVtOnQudXRtX21lZGl1bSx1dG1fY29udGVudDp0LnV0bV9jb250ZW50LHV0bV90ZXJtOnQudXRtX3Rlcm19Ont9fWdldFNlc3Npb25Qcm9wcygpe3ZhciBlPXt9O3JldHVybiBZKHRlKHRoaXMuZ2V0U2V0T25jZVByb3BzKCkpLCgodCxpKT0+e1wiJGN1cnJlbnRfdXJsXCI9PT1pJiYoaT1cInVybFwiKSxlW1wiJHNlc3Npb25fZW50cnlfXCIuY29uY2F0KGIoaSkpXT10fSkpLGV9fXZhciBMbz1CKFwiW1Nlc3Npb25JZF1cIik7Y2xhc3MgRG97Y29uc3RydWN0b3IoZSx0LGkpe3ZhciByO2lmKFcodGhpcyxcIl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnNcIixbXSksIWUucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihlLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uSWRNYW5hZ2VyIGNhbm5vdCBiZSB1c2VkIHdpdGggX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dGhpcy5jb25maWc9ZS5jb25maWcsdGhpcy5wZXJzaXN0ZW5jZT1lLnBlcnNpc3RlbmNlLHRoaXMuX3dpbmRvd0lkPXZvaWQgMCx0aGlzLl9zZXNzaW9uSWQ9dm9pZCAwLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25JZEdlbmVyYXRvcj10fHxOdCx0aGlzLl93aW5kb3dJZEdlbmVyYXRvcj1pfHxOdDt2YXIgbj10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZV9uYW1lfHx0aGlzLmNvbmZpZy50b2tlbixzPXRoaXMuY29uZmlnLnNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHN8fDE4MDA7aWYodGhpcy5fc2Vzc2lvblRpbWVvdXRNcz0xZTMqSmkocyw2MCwzNmUzLFwic2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc1wiLDE4MDApLGUucmVnaXN0ZXIoeyRjb25maWd1cmVkX3Nlc3Npb25fdGltZW91dF9tczp0aGlzLl9zZXNzaW9uVGltZW91dE1zfSksdGhpcy5yZXNldElkbGVUaW1lcigpLHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleT1cInBoX1wiK24rXCJfd2luZG93X2lkXCIsdGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5PVwicGhfXCIrbitcIl9wcmltYXJ5X3dpbmRvd19leGlzdHNcIix0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpKXt2YXIgbz1laS5wYXJzZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGE9ZWkucGFyc2UodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KTtvJiYhYT90aGlzLl93aW5kb3dJZD1vOmVpLnJlbW92ZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGVpLnNldCh0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXksITApfWlmKG51bGwhPT0ocj10aGlzLmNvbmZpZy5ib290c3RyYXApJiZ2b2lkIDAhPT1yJiZyLnNlc3Npb25JRCl0cnl7dmFyIGw9KGU9Pnt2YXIgdD1lLnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT10WzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KHQuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuY29uZmlnLmJvb3RzdHJhcC5zZXNzaW9uSUQpO3RoaXMuX3NldFNlc3Npb25JZCh0aGlzLmNvbmZpZy5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKGUpe0xvLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsZSl9dGhpcy5fbGlzdGVuVG9SZWxvYWRXaW5kb3coKX1nZXQgc2Vzc2lvblRpbWVvdXRNcygpe3JldHVybiB0aGlzLl9zZXNzaW9uVGltZW91dE1zfW9uU2Vzc2lvbklkKGUpe3JldHVybiBGKHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycykmJih0aGlzLl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnM9W10pLHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5wdXNoKGUpLHRoaXMuX3Nlc3Npb25JZCYmZSh0aGlzLl9zZXNzaW9uSWQsdGhpcy5fd2luZG93SWQpLCgpPT57dGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzPXRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5maWx0ZXIoKHQ9PnQhPT1lKSl9fV9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpe3JldHVyblwibWVtb3J5XCIhPT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZSYmIXRoaXMucGVyc2lzdGVuY2UuZGlzYWJsZWQmJmVpLmlzX3N1cHBvcnRlZCgpfV9zZXRXaW5kb3dJZChlKXtlIT09dGhpcy5fd2luZG93SWQmJih0aGlzLl93aW5kb3dJZD1lLHRoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCkmJmVpLnNldCh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXksZSkpfV9nZXRXaW5kb3dJZCgpe3JldHVybiB0aGlzLl93aW5kb3dJZD90aGlzLl93aW5kb3dJZDp0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpP2VpLnBhcnNlKHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSk6bnVsbH1fc2V0U2Vzc2lvbklkKGUsdCxpKXtlPT09dGhpcy5fc2Vzc2lvbklkJiZ0PT09dGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZpPT09dGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wfHwodGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPWksdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPXQsdGhpcy5fc2Vzc2lvbklkPWUsdGhpcy5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0VlXTpbdCxlLGldfSkpfV9nZXRTZXNzaW9uSWQoKXtpZih0aGlzLl9zZXNzaW9uSWQmJnRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wKXJldHVyblt0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAsdGhpcy5fc2Vzc2lvbklkLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIGU9dGhpcy5wZXJzaXN0ZW5jZS5wcm9wc1tFZV07cmV0dXJuIHgoZSkmJjI9PT1lLmxlbmd0aCYmZS5wdXNoKGVbMF0pLGV8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLl9zZXRTZXNzaW9uSWQobnVsbCxudWxsLG51bGwpfV9saXN0ZW5Ub1JlbG9hZFdpbmRvdygpe29lKHQsXCJiZWZvcmV1bmxvYWRcIiwoKCk9Pnt0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpJiZlaS5yZW1vdmUodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KX0pLHtjYXB0dXJlOiExfSl9Y2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7aWYodGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKFwiY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dmFyIGk9dHx8KG5ldyBEYXRlKS5nZXRUaW1lKCksW3IsbixzXT10aGlzLl9nZXRTZXNzaW9uSWQoKSxvPXRoaXMuX2dldFdpbmRvd0lkKCksYT1NKHMpJiZzPjAmJk1hdGguYWJzKGktcyk+ODY0ZTUsbD0hMSx1PSFuLGM9IWUmJk1hdGguYWJzKGktcik+dGhpcy5zZXNzaW9uVGltZW91dE1zO3V8fGN8fGE/KG49dGhpcy5fc2Vzc2lvbklkR2VuZXJhdG9yKCksbz10aGlzLl93aW5kb3dJZEdlbmVyYXRvcigpLExvLmluZm8oXCJuZXcgc2Vzc2lvbiBJRCBnZW5lcmF0ZWRcIix7c2Vzc2lvbklkOm4sd2luZG93SWQ6byxjaGFuZ2VSZWFzb246e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0OmMsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9fSkscz1pLGw9ITApOm98fChvPXRoaXMuX3dpbmRvd0lkR2VuZXJhdG9yKCksbD0hMCk7dmFyIGQ9MD09PXJ8fCFlfHxhP2k6cixoPTA9PT1zPyhuZXcgRGF0ZSkuZ2V0VGltZSgpOnM7cmV0dXJuIHRoaXMuX3NldFdpbmRvd0lkKG8pLHRoaXMuX3NldFNlc3Npb25JZChuLGQsaCksZXx8dGhpcy5yZXNldElkbGVUaW1lcigpLGwmJnRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5mb3JFYWNoKChlPT5lKG4sbyxsP3tub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpjLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDApKSkse3Nlc3Npb25JZDpuLHdpbmRvd0lkOm8sc2Vzc2lvblN0YXJ0VGltZXN0YW1wOmgsY2hhbmdlUmVhc29uOmw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0OmMsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6cn19cmVzZXRJZGxlVGltZXIoKXtjbGVhclRpbWVvdXQodGhpcy5fZW5mb3JjZUlkbGVUaW1lb3V0KSx0aGlzLl9lbmZvcmNlSWRsZVRpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnJlc2V0U2Vzc2lvbklkKCl9KSwxLjEqdGhpcy5zZXNzaW9uVGltZW91dE1zKX19dmFyIHFvPVtcIiRzZXRfb25jZVwiLFwiJHNldFwiXSxObz1CKFwiW1NpdGVBcHBzXVwiKTtjbGFzcyBCb3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuYXBwcz17fX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5vcHRfaW5fc2l0ZV9hcHBzfWV2ZW50Q29sbGVjdG9yKGUsdCl7aWYodCl7dmFyIGk9dGhpcy5nbG9iYWxzRm9yRXZlbnQodCk7dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnB1c2goaSksdGhpcy5idWZmZXJlZEludm9jYXRpb25zLmxlbmd0aD4xZTMmJih0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnM9dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1wLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5fYWRkQ2FwdHVyZUhvb2sodGhpcy5ldmVudENvbGxlY3Rvci5iaW5kKHRoaXMpKTt0aGlzLnN0b3BCdWZmZXJpbmc9KCk9PntlKCksdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuc3RvcEJ1ZmZlcmluZz12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQoZSl7dmFyIHQsaSxyLG4scyxvLGE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSx1PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8W10sYz10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiKXx8e307Zm9yKHZhcltkLGhdb2YgT2JqZWN0LmVudHJpZXMoYykpbFtkXT17aWQ6dVtkXSx0eXBlOmQscHJvcGVydGllczpofTt2YXJ7JHNldF9vbmNlOnAsJHNldDpffT1lO3JldHVybntldmVudDp6KHooe30sVihlLHFvKSkse30se3Byb3BlcnRpZXM6eih6KHooe30sZS5wcm9wZXJ0aWVzKSxfP3skc2V0Onooeih7fSxudWxsIT09KHQ9bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJHNldCkmJnZvaWQgMCE9PXQ/dDp7fSksXyl9Ont9KSxwP3skc2V0X29uY2U6eih6KHt9LG51bGwhPT0ocj1udWxsPT09KG49ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kc2V0X29uY2UpJiZ2b2lkIDAhPT1yP3I6e30pLHApfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShzPW51bGw9PT0obz1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLiRlbGVtZW50c19jaGFpbikmJnZvaWQgMCE9PXM/czpcIlwiLGRpc3RpbmN0X2lkOm51bGw9PT0oYT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRpc3RpbmN0X2lkfSkscGVyc29uOntwcm9wZXJ0aWVzOnRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiKX0sZ3JvdXBzOmx9fXNldHVwU2l0ZUFwcChlKXt2YXIgdD10aGlzLmFwcHNbZS5pZF0saT0oKT0+e3ZhciBpOyghdC5lcnJvcmVkJiZ0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMubGVuZ3RoJiYoTm8uaW5mbyhcIlByb2Nlc3NpbmcgXCIuY29uY2F0KHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5sZW5ndGgsXCIgZXZlbnRzIGZvciBzaXRlIGFwcCB3aXRoIGlkIFwiKS5jb25jYXQoZS5pZCkpLHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5mb3JFYWNoKChlPT57dmFyIGk7cmV0dXJuIG51bGw9PT0oaT10LnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LGUpfSkpLHQucHJvY2Vzc2VkQnVmZmVyPSEwKSxPYmplY3QudmFsdWVzKHRoaXMuYXBwcykuZXZlcnkoKGU9PmUucHJvY2Vzc2VkQnVmZmVyfHxlLmVycm9yZWQpKSkmJihudWxsPT09KGk9dGhpcy5zdG9wQnVmZmVyaW5nKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMpKX0scj0hMSxuPW49Pnt0LmVycm9yZWQ9IW4sdC5sb2FkZWQ9ITAsTm8uaW5mbyhcIlNpdGUgYXBwIHdpdGggaWQgXCIuY29uY2F0KGUuaWQsXCIgXCIpLmNvbmNhdChuP1wibG9hZGVkXCI6XCJlcnJvcmVkXCIpKSxyJiZpKCl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50OnN9PWUuaW5pdCh7cG9zdGhvZzp0aGlzLmluc3RhbmNlLGNhbGxiYWNrOmU9PntuKGUpfX0pO3MmJih0LnByb2Nlc3NFdmVudD1zKSxyPSEwfWNhdGNoKHQpe05vLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiLmNvbmNhdChlLmlkKSx0KSxuKCExKX1pZihyJiZ0LmxvYWRlZCl0cnl7aSgpfWNhdGNoKGkpe05vLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBidWZmZXJlZCBldmVudHMgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUuaWQpLGkpLHQuZXJyb3JlZD0hMH19c2V0dXBTaXRlQXBwcygpe3ZhciBlPXRoaXMuc2l0ZUFwcExvYWRlcnN8fFtdO2Zvcih2YXIgdCBvZiBlKXRoaXMuYXBwc1t0LmlkXT17aWQ6dC5pZCxsb2FkZWQ6ITEsZXJyb3JlZDohMSxwcm9jZXNzZWRCdWZmZXI6ITF9O2Zvcih2YXIgaSBvZiBlKXRoaXMuc2V0dXBTaXRlQXBwKGkpfW9uQ2FwdHVyZWRFdmVudChlKXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciB0PXRoaXMuZ2xvYmFsc0ZvckV2ZW50KGUpO2Zvcih2YXIgaSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e3ZhciByO251bGw9PT0ocj1pLnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHQpfWNhdGNoKHQpe05vLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBldmVudCBcIi5jb25jYXQoZS5ldmVudCxcIiBmb3Igc2l0ZSBhcHAgXCIpLmNvbmNhdChpLmlkKSx0KX19fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0LGkscixuPXRoaXM7aWYobnVsbCE9PSh0PXRoaXMuc2l0ZUFwcExvYWRlcnMpJiZ2b2lkIDAhPT10JiZ0Lmxlbmd0aClyZXR1cm4gdGhpcy5pc0VuYWJsZWQ/KHRoaXMuc2V0dXBTaXRlQXBwcygpLHZvaWQgdGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5vbkNhcHR1cmVkRXZlbnQoZSkpKSk6dm9pZCBOby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2lmKG51bGw9PT0oaT10aGlzLnN0b3BCdWZmZXJpbmcpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksbnVsbCE9PShyPWUuc2l0ZUFwcHMpJiZ2b2lkIDAhPT1yJiZyLmxlbmd0aClpZih0aGlzLmlzRW5hYmxlZCl7dmFyIHM9ZnVuY3Rpb24oZSx0KXt2YXIgaSxyO3BbXCJfXyQkcGhfc2l0ZV9hcHBfXCIuY29uY2F0KGUpXT1uLmluc3RhbmNlLG51bGw9PT0oaT1wLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmxvYWRTaXRlQXBwKXx8dm9pZCAwPT09cnx8ci5jYWxsKGksbi5pbnN0YW5jZSx0LCh0PT57aWYodClyZXR1cm4gTm8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUpLHQpfSkpfTtmb3IodmFye2lkOm8sdXJsOmF9b2YgZS5zaXRlQXBwcylzKG8sYSl9ZWxzZSBOby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpfX12YXIgSG8sam89W1wiYW1hem9uYm90XCIsXCJhbWF6b25wcm9kdWN0Ym90XCIsXCJhcHAuaHlwZWZhY3RvcnMuY29tXCIsXCJhcHBsZWJvdFwiLFwiYXJjaGl2ZS5vcmdfYm90XCIsXCJhd2FyaW9ib3RcIixcImJhY2tsaW5rc2V4dGVuZGVkYm90XCIsXCJiYWlkdXNwaWRlclwiLFwiYmluZ2JvdFwiLFwiYmluZ3ByZXZpZXdcIixcImNocm9tZS1saWdodGhvdXNlXCIsXCJkYXRhZm9yc2VvYm90XCIsXCJkZWVwc2NhblwiLFwiZHVja2R1Y2tib3RcIixcImZhY2Vib29rZXh0ZXJuYWxcIixcImZhY2Vib29rY2F0YWxvZ1wiLFwiaHR0cDovL3lhbmRleC5jb20vYm90c1wiLFwiaHVic3BvdFwiLFwiaWFfYXJjaGl2ZXJcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsYm90XCIsXCJ5YWhvbyEgc2x1cnBcIixcInlhbmRleGJvdFwiLFwiem9vbWJvdFwiLFwiYm90Lmh0bVwiLFwiYm90LnBocFwiLFwiKGJvdDtcIixcImJvdC9cIixcImNyYXdsZXJcIixcImFocmVmc2JvdFwiLFwiYWhyZWZzc2l0ZWF1ZGl0XCIsXCJzZW1ydXNoYm90XCIsXCJzaXRlYXVkaXRib3RcIixcInNwbGl0c2lnbmFsYm90XCIsXCJncHRib3RcIixcIm9haS1zZWFyY2hib3RcIixcImNoYXRncHQtdXNlclwiLFwicGVycGxleGl0eWJvdFwiLFwiYmV0dGVyIHVwdGltZSBib3RcIixcInNlbnRyeXVwdGltZWJvdFwiLFwidXB0aW1lcm9ib3RcIixcImhlYWRsZXNzY2hyb21lXCIsXCJjeXByZXNzXCIsXCJnb29nbGUtaG90ZWxhZHN2ZXJpZmllclwiLFwiYWRzYm90LWdvb2dsZVwiLFwiYXBpcy1nb29nbGVcIixcImR1cGxleHdlYi1nb29nbGVcIixcImZlZWRmZXRjaGVyLWdvb2dsZVwiLFwiZ29vZ2xlIGZhdmljb25cIixcImdvb2dsZSB3ZWIgcHJldmlld1wiLFwiZ29vZ2xlLXJlYWQtYWxvdWRcIixcImdvb2dsZWJvdFwiLFwiZ29vZ2xld2VibGlnaHRcIixcIm1lZGlhcGFydG5lcnMtZ29vZ2xlXCIsXCJzdG9yZWJvdC1nb29nbGVcIixcImJ5dGVzcGlkZXJcIl0sVW89ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGpvLmNvbmNhdCh0fHxbXSkuc29tZSgoZT0+e3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWkuaW5kZXhPZih0KX0pKX0sem89ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnVzZXJBZ2VudDtpZihpJiZVbyhpLHQpKXJldHVybiEwO3RyeXt2YXIgcj1udWxsPT1lP3ZvaWQgMDplLnVzZXJBZ2VudERhdGE7aWYobnVsbCE9ciYmci5icmFuZHMmJnIuYnJhbmRzLnNvbWUoKGU9PlVvKG51bGw9PWU/dm9pZCAwOmUuYnJhbmQsdCkpKSlyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuISFlLndlYmRyaXZlcn07ZnVuY3Rpb24gV28oZSx0LGkpe3JldHVybiBJbyh7ZGlzdGluY3RfaWQ6ZSx1c2VyUHJvcGVydGllc1RvU2V0OnQsdXNlclByb3BlcnRpZXNUb1NldE9uY2U6aX0pfSFmdW5jdGlvbihlKXtlLlVTPVwidXNcIixlLkVVPVwiZXVcIixlLkNVU1RPTT1cImN1c3RvbVwifShIb3x8KEhvPXt9KSk7dmFyIFZvPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzIEdve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl9yZWdpb25DYWNoZVwiLHt9KSx0aGlzLmluc3RhbmNlPWV9Z2V0IGFwaUhvc3QoKXt2YXIgZT10aGlzLmluc3RhbmNlLmNvbmZpZy5hcGlfaG9zdC50cmltKCkucmVwbGFjZSgvXFwvJC8sXCJcIik7cmV0dXJuXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09ZT9cImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiOmV9Z2V0IHVpSG9zdCgpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLnVpX2hvc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVybiB0fHwodD10aGlzLmFwaUhvc3QucmVwbGFjZShcIi5cIi5jb25jYXQoVm8pLFwiLnBvc3Rob2cuY29tXCIpKSxcImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT10P1wiaHR0cHM6Ly91cy5wb3N0aG9nLmNvbVwiOnR9Z2V0IHJlZ2lvbigpe3JldHVybiB0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdfHwoL2h0dHBzOlxcL1xcLyhhcHB8dXN8dXMtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF09SG8uVVM6L2h0dHBzOlxcL1xcLyhldXxldS1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XT1Iby5FVTp0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdPUhvLkNVU1RPTSksdGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XX1lbmRwb2ludEZvcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIjtpZih0JiYodD1cIi9cIj09PXRbMF0/dDpcIi9cIi5jb25jYXQodCkpLFwidWlcIj09PWUpcmV0dXJuIHRoaXMudWlIb3N0K3Q7aWYodGhpcy5yZWdpb249PT1Iby5DVVNUT00pcmV0dXJuIHRoaXMuYXBpSG9zdCt0O3ZhciBpPVZvK3Q7c3dpdGNoKGUpe2Nhc2VcImFzc2V0c1wiOnJldHVyblwiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5yZWdpb24sXCItYXNzZXRzLlwiKS5jb25jYXQoaSk7Y2FzZVwiYXBpXCI6cmV0dXJuXCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnJlZ2lvbixcIi5cIikuY29uY2F0KGkpfX19dmFyIEpvPXtpY29udGFpbnM6KGUsaSk9PiEhdCYmaS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGUsaSk9PiEhdCYmLTE9PT1pLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSkscmVnZXg6KGUsaSk9PiEhdCYmdW8oaS5ocmVmLGUpLG5vdF9yZWdleDooZSxpKT0+ISF0JiYhdW8oaS5ocmVmLGUpLGV4YWN0OihlLHQpPT50LmhyZWY9PT1lLGlzX25vdDooZSx0KT0+dC5ocmVmIT09ZX07Y2xhc3MgWW97Y29uc3RydWN0b3IoZSl7dmFyIHQ9dGhpcztXKHRoaXMsXCJnZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljXCIsKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0LmdldFdlYkV4cGVyaW1lbnRzKChlPT57WW8ubG9nSW5mbyhcInJldHJpZXZlZCB3ZWIgZXhwZXJpbWVudHMgZnJvbSB0aGUgc2VydmVyXCIpLHQuX2ZsYWdUb0V4cGVyaW1lbnRzPW5ldyBNYXAsZS5mb3JFYWNoKChlPT57aWYoZS5mZWF0dXJlX2ZsYWdfa2V5KXt2YXIgaTtpZih0Ll9mbGFnVG9FeHBlcmltZW50cylZby5sb2dJbmZvKFwic2V0dGluZyBmbGFnIGtleSBcIixlLmZlYXR1cmVfZmxhZ19rZXksXCIgdG8gd2ViIGV4cGVyaW1lbnQgXCIsZSksbnVsbD09PShpPXQuX2ZsYWdUb0V4cGVyaW1lbnRzKXx8dm9pZCAwPT09aXx8aS5zZXQoZS5mZWF0dXJlX2ZsYWdfa2V5LGUpO3ZhciByPXQuaW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcoZS5mZWF0dXJlX2ZsYWdfa2V5KTtUKHIpJiZlLnZhcmlhbnRzW3JdJiZ0LmFwcGx5VHJhbnNmb3JtcyhlLm5hbWUscixlLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfWVsc2UgaWYoZS52YXJpYW50cylmb3IodmFyIG4gaW4gZS52YXJpYW50cyl7dmFyIHM9ZS52YXJpYW50c1tuXTtZby5tYXRjaGVzVGVzdFZhcmlhbnQocykmJnQuYXBwbHlUcmFuc2Zvcm1zKGUubmFtZSxuLHMudHJhbnNmb3Jtcyl9fSkpfSksZSl9KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuaW5zdGFuY2Uub25GZWF0dXJlRmxhZ3MoKGU9Pnt0aGlzLm9uRmVhdHVyZUZsYWdzKGUpfSkpfW9uRmVhdHVyZUZsYWdzKGUpe2lmKHRoaXMuX2lzX2JvdCgpKVlvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik7ZWxzZSBpZighdGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMpe2lmKE8odGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpKXJldHVybiB0aGlzLl9mbGFnVG9FeHBlcmltZW50cz1uZXcgTWFwLHRoaXMubG9hZElmRW5hYmxlZCgpLHZvaWQgdGhpcy5wcmV2aWV3V2ViRXhwZXJpbWVudCgpO1lvLmxvZ0luZm8oXCJhcHBseWluZyBmZWF0dXJlIGZsYWdzXCIsZSksZS5mb3JFYWNoKChlPT57dmFyIHQ7aWYodGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMmJm51bGwhPT0odD10aGlzLl9mbGFnVG9FeHBlcmltZW50cykmJnZvaWQgMCE9PXQmJnQuaGFzKGUpKXt2YXIgaSxyPXRoaXMuaW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcoZSksbj1udWxsPT09KGk9dGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChlKTtyJiZudWxsIT1uJiZuLnZhcmlhbnRzW3JdJiZ0aGlzLmFwcGx5VHJhbnNmb3JtcyhuLm5hbWUscixuLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfX0pKX19cHJldmlld1dlYkV4cGVyaW1lbnQoKXt2YXIgZT1Zby5nZXRXaW5kb3dMb2NhdGlvbigpO2lmKG51bGwhPWUmJmUuc2VhcmNoKXt2YXIgdD1FdChudWxsPT1lP3ZvaWQgMDplLnNlYXJjaCxcIl9fZXhwZXJpbWVudF9pZFwiKSxpPUV0KG51bGw9PWU/dm9pZCAwOmUuc2VhcmNoLFwiX19leHBlcmltZW50X3ZhcmlhbnRcIik7dCYmaSYmKFlvLmxvZ0luZm8oXCJwcmV2aWV3aW5nIHdlYiBleHBlcmltZW50cyBcIi5jb25jYXQodCxcIiAmJiBcIikuY29uY2F0KGkpKSx0aGlzLmdldFdlYkV4cGVyaW1lbnRzKChlPT57dGhpcy5zaG93UHJldmlld1dlYkV4cGVyaW1lbnQocGFyc2VJbnQodCksaSxlKX0pLCExLCEwKSl9fWxvYWRJZkVuYWJsZWQoKXt0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50c3x8dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljKCl9Z2V0V2ViRXhwZXJpbWVudHMoZSx0LGkpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzJiYhaSlyZXR1cm4gZShbXSk7dmFyIHI9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkd2ViX2V4cGVyaW1lbnRzXCIpO2lmKHImJiF0KXJldHVybiBlKHIpO3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7dXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS93ZWJfZXhwZXJpbWVudHMvP3Rva2VuPVwiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbikpLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOnQ9PntpZigyMDAhPT10LnN0YXR1c0NvZGV8fCF0Lmpzb24pcmV0dXJuIGUoW10pO3ZhciBpPXQuanNvbi5leHBlcmltZW50c3x8W107cmV0dXJuIGUoaSl9fSl9c2hvd1ByZXZpZXdXZWJFeHBlcmltZW50KGUsdCxpKXt2YXIgcj1pLmZpbHRlcigodD0+dC5pZD09PWUpKTtyJiZyLmxlbmd0aD4wJiYoWW8ubG9nSW5mbyhcIlByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnQgW1wiLmNvbmNhdChyWzBdLm5hbWUsXCJdIHdpdGggdmFyaWFudCBbXCIpLmNvbmNhdCh0LFwiXVwiKSksdGhpcy5hcHBseVRyYW5zZm9ybXMoclswXS5uYW1lLHQsclswXS52YXJpYW50c1t0XS50cmFuc2Zvcm1zKSl9c3RhdGljIG1hdGNoZXNUZXN0VmFyaWFudChlKXtyZXR1cm4hTyhlLmNvbmRpdGlvbnMpJiYoWW8ubWF0Y2hVcmxDb25kaXRpb25zKGUpJiZZby5tYXRjaFVUTUNvbmRpdGlvbnMoZSkpfXN0YXRpYyBtYXRjaFVybENvbmRpdGlvbnMoZSl7dmFyIHQ7aWYoTyhlLmNvbmRpdGlvbnMpfHxPKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVybCkpcmV0dXJuITA7dmFyIGkscixuLHM9WW8uZ2V0V2luZG93TG9jYXRpb24oKTtyZXR1cm4hIXMmJihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkudXJsfHxKb1tudWxsIT09KHI9bnVsbD09PShuPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udXJsTWF0Y2hUeXBlKSYmdm9pZCAwIT09cj9yOlwiaWNvbnRhaW5zXCJdKGUuY29uZGl0aW9ucy51cmwscykpfXN0YXRpYyBnZXRXaW5kb3dMb2NhdGlvbigpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9ufXN0YXRpYyBtYXRjaFVUTUNvbmRpdGlvbnMoZSl7dmFyIHQ7aWYoTyhlLmNvbmRpdGlvbnMpfHxPKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnV0bSkpcmV0dXJuITA7dmFyIGk9aHMuY2FtcGFpZ25QYXJhbXMoKTtpZihpLnV0bV9zb3VyY2Upe3ZhciByLG4scyxvLGEsbCx1LGMsZCxoLHAsXyx2LGcsZixtLHk9bnVsbD09PShyPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXJ8fG51bGw9PT0obj1yLnV0bSl8fHZvaWQgMD09PW58fCFuLnV0bV9jYW1wYWlnbnx8KG51bGw9PT0ocz1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1zfHxudWxsPT09KG89cy51dG0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnV0bV9jYW1wYWlnbik9PWkudXRtX2NhbXBhaWduLGI9bnVsbD09PShhPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWF8fG51bGw9PT0obD1hLnV0bSl8fHZvaWQgMD09PWx8fCFsLnV0bV9zb3VyY2V8fChudWxsPT09KHU9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dXx8bnVsbD09PShjPXUudXRtKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy51dG1fc291cmNlKT09aS51dG1fc291cmNlLHc9bnVsbD09PShkPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWR8fG51bGw9PT0oaD1kLnV0bSl8fHZvaWQgMD09PWh8fCFoLnV0bV9tZWRpdW18fChudWxsPT09KHA9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cHx8bnVsbD09PShfPXAudXRtKXx8dm9pZCAwPT09Xz92b2lkIDA6Xy51dG1fbWVkaXVtKT09aS51dG1fbWVkaXVtLFM9bnVsbD09PSh2PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXZ8fG51bGw9PT0oZz12LnV0bSl8fHZvaWQgMD09PWd8fCFnLnV0bV90ZXJtfHwobnVsbD09PShmPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWZ8fG51bGw9PT0obT1mLnV0bSl8fHZvaWQgMD09PW0/dm9pZCAwOm0udXRtX3Rlcm0pPT1pLnV0bV90ZXJtO3JldHVybiB5JiZ3JiZTJiZifXJldHVybiExfXN0YXRpYyBsb2dJbmZvKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtOLmluZm8oXCJbV2ViRXhwZXJpbWVudHNdIFwiLmNvbmNhdChlKSxpKX1hcHBseVRyYW5zZm9ybXMoZSx0LGkpe3RoaXMuX2lzX2JvdCgpP1lvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT10P2kuZm9yRWFjaCgoaT0+e2lmKGkuc2VsZWN0b3Ipe3ZhciByO1lvLmxvZ0luZm8oXCJhcHBseWluZyB0cmFuc2Zvcm0gb2YgdmFyaWFudCBcIi5jb25jYXQodCxcIiBmb3IgZXhwZXJpbWVudCBcIikuY29uY2F0KGUsXCIgXCIpLGkpO3ZhciBuPW51bGw9PT0ocj1kb2N1bWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvckFsbChpLnNlbGVjdG9yKTtudWxsPT1ufHxuLmZvckVhY2goKGU9Pnt2YXIgdD1lO2kuaHRtbCYmKHQuaW5uZXJIVE1MPWkuaHRtbCksaS5jc3MmJnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixpLmNzcyl9KSl9fSkpOllvLmxvZ0luZm8oXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbyYmdGhpcy5pbnN0YW5jZT96byhvLHRoaXMuaW5zdGFuY2UuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH19dmFyIEtvPXt9LFhvPSgpPT57fSxRbz1cInBvc3Rob2dcIixabz0ha28mJi0xPT09KG51bGw9PWg/dm9pZCAwOmguaW5kZXhPZihcIk1TSUVcIikpJiYtMT09PShudWxsPT1oP3ZvaWQgMDpoLmluZGV4T2YoXCJNb3ppbGxhXCIpKSxlYT0oKT0+e3ZhciBlO3JldHVybnthcGlfaG9zdDpcImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiLHVpX2hvc3Q6bnVsbCx0b2tlbjpcIlwiLGF1dG9jYXB0dXJlOiEwLHJhZ2VjbGljazohMCxjcm9zc19zdWJkb21haW5fY29va2llOm5lKG51bGw9PWE/dm9pZCAwOmEubG9jYXRpb24pLHBlcnNpc3RlbmNlOlwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiLHBlcnNpc3RlbmNlX25hbWU6XCJcIixsb2FkZWQ6WG8sc2F2ZV9jYW1wYWlnbl9wYXJhbXM6ITAsY3VzdG9tX2NhbXBhaWduX3BhcmFtczpbXSxjdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzOltdLHNhdmVfcmVmZXJyZXI6ITAsY2FwdHVyZV9wYWdldmlldzohMCxjYXB0dXJlX3BhZ2VsZWF2ZTpcImlmX2NhcHR1cmVfcGFnZXZpZXdcIixkZWJ1ZzpsJiZUKG51bGw9PWw/dm9pZCAwOmwuc2VhcmNoKSYmLTEhPT1sLnNlYXJjaC5pbmRleE9mKFwiX19wb3N0aG9nX2RlYnVnPXRydWVcIil8fCExLGNvb2tpZV9leHBpcmF0aW9uOjM2NSx1cGdyYWRlOiExLGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITEsZGlzYWJsZV9wZXJzaXN0ZW5jZTohMSxkaXNhYmxlX3dlYl9leHBlcmltZW50czohMCxkaXNhYmxlX3N1cnZleXM6ITEsZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmc6ITEsZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZzp2b2lkIDAsc2VjdXJlX2Nvb2tpZTpcImh0dHBzOlwiPT09KG51bGw9PXR8fG51bGw9PT0oZT10LmxvY2F0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm90b2NvbCksaXA6ITAsb3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQ6ITEsb3B0X291dF91c2VyYWdlbnRfZmlsdGVyOiExLG9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU6XCJsb2NhbFN0b3JhZ2VcIixvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4Om51bGwsb3B0X2luX3NpdGVfYXBwczohMSxwcm9wZXJ0eV9kZW55bGlzdDpbXSxyZXNwZWN0X2RudDohMSxzYW5pdGl6ZV9wcm9wZXJ0aWVzOm51bGwscmVxdWVzdF9oZWFkZXJzOnt9LHJlcXVlc3RfYmF0Y2hpbmc6ITAscHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aDo2NTUzNSxzZXNzaW9uX3JlY29yZGluZzp7fSxtYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXM6ITEsbWFza19hbGxfdGV4dDohMSxtYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczohMSxjdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOltdLGFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZDohMSxhZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljczohMSxmZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zOjNlMyxzdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tczoxZTQsb25fcmVxdWVzdF9lcnJvcjplPT57dmFyIHQ9XCJCYWQgSFRUUCBzdGF0dXM6IFwiK2Uuc3RhdHVzQ29kZStcIiBcIitlLnRleHQ7Ti5lcnJvcih0KX0sZ2V0X2RldmljZV9pZDplPT5lLGNhcHR1cmVfcGVyZm9ybWFuY2U6dm9pZCAwLG5hbWU6XCJwb3N0aG9nXCIsYm9vdHN0cmFwOnt9LGRpc2FibGVfY29tcHJlc3Npb246ITEsc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kczoxODAwLHBlcnNvbl9wcm9maWxlczpcImlkZW50aWZpZWRfb25seVwiLGJlZm9yZV9zZW5kOnZvaWQgMCxyZXF1ZXN0X3F1ZXVlX2NvbmZpZzp7Zmx1c2hfaW50ZXJ2YWxfbXM6Rm99LF9vbkNhcHR1cmU6WG99fSx0YT1lPT57dmFyIHQ9e307RihlLnByb2Nlc3NfcGVyc29uKXx8KHQucGVyc29uX3Byb2ZpbGVzPWUucHJvY2Vzc19wZXJzb24pLEYoZS54aHJfaGVhZGVycyl8fCh0LnJlcXVlc3RfaGVhZGVycz1lLnhocl9oZWFkZXJzKSxGKGUuY29va2llX25hbWUpfHwodC5wZXJzaXN0ZW5jZV9uYW1lPWUuY29va2llX25hbWUpLEYoZS5kaXNhYmxlX2Nvb2tpZSl8fCh0LmRpc2FibGVfcGVyc2lzdGVuY2U9ZS5kaXNhYmxlX2Nvb2tpZSksRihlLnN0b3JlX2dvb2dsZSl8fCh0LnNhdmVfY2FtcGFpZ25fcGFyYW1zPWUuc3RvcmVfZ29vZ2xlKSxGKGUudmVyYm9zZSl8fCh0LmRlYnVnPWUudmVyYm9zZSk7dmFyIGk9Syh7fSx0LGUpO3JldHVybiB4KGUucHJvcGVydHlfYmxhY2tsaXN0KSYmKEYoZS5wcm9wZXJ0eV9kZW55bGlzdCk/aS5wcm9wZXJ0eV9kZW55bGlzdD1lLnByb3BlcnR5X2JsYWNrbGlzdDp4KGUucHJvcGVydHlfZGVueWxpc3QpP2kucHJvcGVydHlfZGVueWxpc3Q9Wy4uLmUucHJvcGVydHlfYmxhY2tsaXN0LC4uLmUucHJvcGVydHlfZGVueWxpc3RdOk4uZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK2UucHJvcGVydHlfZGVueWxpc3QpKSxpfTtjbGFzcyBpYXtjb25zdHJ1Y3Rvcigpe1codGhpcyxcIl9fZm9yY2VBbGxvd0xvY2FsaG9zdFwiLCExKX1nZXQgX2ZvcmNlQWxsb3dMb2NhbGhvc3QoKXtyZXR1cm4gdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3R9c2V0IF9mb3JjZUFsbG93TG9jYWxob3N0KGUpe04uZXJyb3IoXCJXZWJQZXJmb3JtYW5jZU9ic2VydmVyIGlzIGRlcHJlY2F0ZWQgYW5kIGhhcyBubyBpbXBhY3Qgb24gbmV0d29yayBjYXB0dXJlLiBVc2UgYF9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmVgIG9uIGBwb3N0aG9nLnNlc3Npb25SZWNvcmRpbmdgXCIpLHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0PWV9fWNsYXNzIHJhe2dldCBkZWNpZGVFbmRwb2ludFdhc0hpdCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09ZSYmZX1jb25zdHJ1Y3Rvcigpe1codGhpcyxcIndlYlBlcmZvcm1hbmNlXCIsbmV3IGlhKSxXKHRoaXMsXCJfcGVyc29uUHJvY2Vzc2luZ1NldE9uY2VQcm9wZXJ0aWVzU2VudFwiLCExKSxXKHRoaXMsXCJ2ZXJzaW9uXCIsXy5MSUJfVkVSU0lPTiksVyh0aGlzLFwiX2ludGVybmFsRXZlbnRFbWl0dGVyXCIsbmV3IGNvKSx0aGlzLmNvbmZpZz1lYSgpLHRoaXMuU2VudHJ5SW50ZWdyYXRpb249WXIsdGhpcy5zZW50cnlJbnRlZ3JhdGlvbj1lPT5mdW5jdGlvbihlLHQpe3ZhciBpPUpyKGUsdCk7cmV0dXJue25hbWU6R3IscHJvY2Vzc0V2ZW50OmU9PmkoZSl9fSh0aGlzLGUpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX19sb2FkZWQ9ITEsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9XCIvZS9cIix0aGlzLl9pbml0aWFsUGFnZXZpZXdDYXB0dXJlZD0hMSx0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc9bnVsbCx0aGlzLl9jYWNoZWRJZGVudGlmeT1udWxsLHRoaXMuZmVhdHVyZUZsYWdzPW5ldyB3cyh0aGlzKSx0aGlzLnRvb2xiYXI9bmV3IGVuKHRoaXMpLHRoaXMuc2Nyb2xsTWFuYWdlcj1uZXcgT28odGhpcyksdGhpcy5wYWdlVmlld01hbmFnZXI9bmV3IGNuKHRoaXMpLHRoaXMuc3VydmV5cz1uZXcgZm8odGhpcyksdGhpcy5leHBlcmltZW50cz1uZXcgWW8odGhpcyksdGhpcy5leGNlcHRpb25zPW5ldyBkbih0aGlzKSx0aGlzLnJhdGVMaW1pdGVyPW5ldyB5byh0aGlzKSx0aGlzLnJlcXVlc3RSb3V0ZXI9bmV3IEdvKHRoaXMpLHRoaXMuY29uc2VudD1uZXcgdGkodGhpcyksdGhpcy5wZW9wbGU9e3NldDooZSx0LGkpPT57dmFyIHI9VChlKT97W2VdOnR9OmU7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHIpLG51bGw9PWl8fGkoe30pfSxzZXRfb25jZTooZSx0LGkpPT57dmFyIHI9VChlKT97W2VdOnR9OmU7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHZvaWQgMCxyKSxudWxsPT1pfHxpKHt9KX19LHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGU9Pk4uaW5mbygnc2VuZCBcIicuY29uY2F0KG51bGw9PWU/dm9pZCAwOmUuZXZlbnQsJ1wiJyksZSkpKX1pbml0KGUsdCxpKXtpZihpJiZpIT09UW8pe3ZhciByLG49bnVsbCE9PShyPUtvW2ldKSYmdm9pZCAwIT09cj9yOm5ldyByYTtyZXR1cm4gbi5faW5pdChlLHQsaSksS29baV09bixLb1tRb11baV09bixufXJldHVybiB0aGlzLl9pbml0KGUsdCxpKX1faW5pdChpKXt2YXIgcixuLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG89YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoRihpKXx8UihpKSlyZXR1cm4gTi5jcml0aWNhbChcIlBvc3RIb2cgd2FzIGluaXRpYWxpemVkIHdpdGhvdXQgYSB0b2tlbi4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgbWlzY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gcG9zdGhvZy5pbml0KClcIiksdGhpcztpZih0aGlzLl9fbG9hZGVkKXJldHVybiBOLndhcm4oXCJZb3UgaGF2ZSBhbHJlYWR5IGluaXRpYWxpemVkIFBvc3RIb2chIFJlLWluaXRpYWxpemluZyBpcyBhIG5vLW9wXCIpLHRoaXM7dGhpcy5fX2xvYWRlZD0hMCx0aGlzLmNvbmZpZz17fSx0aGlzLl90cmlnZ2VyZWRfbm90aWZzPVtdLHMucGVyc29uX3Byb2ZpbGVzJiYodGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnPXMucGVyc29uX3Byb2ZpbGVzKSx0aGlzLnNldF9jb25maWcoSyh7fSxlYSgpLHRhKHMpLHtuYW1lOm8sdG9rZW46aX0pKSx0aGlzLmNvbmZpZy5vbl94aHJfZXJyb3ImJk4uZXJyb3IoXCJvbl94aHJfZXJyb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG9uX3JlcXVlc3RfZXJyb3IgaW5zdGVhZFwiKSx0aGlzLmNvbXByZXNzaW9uPXMuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5HWmlwSlMsdGhpcy5wZXJzaXN0ZW5jZT1uZXcga3ModGhpcy5jb25maWcpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcga3Moeih6KHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpO3ZhciBhPXooe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wcyksbD16KHt9LHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BzKTtpZih0aGlzLl9yZXF1ZXN0UXVldWU9bmV3IFRvKChlPT50aGlzLl9zZW5kX3JldHJpYWJsZV9yZXF1ZXN0KGUpKSx0aGlzLmNvbmZpZy5yZXF1ZXN0X3F1ZXVlX2NvbmZpZyksdGhpcy5fcmV0cnlRdWV1ZT1uZXcgJG8odGhpcyksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGV8fCh0aGlzLnNlc3Npb25NYW5hZ2VyPW5ldyBEbyh0aGlzKSx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9bmV3IEFvKHRoaXMsdGhpcy5zZXNzaW9uTWFuYWdlcix0aGlzLnBlcnNpc3RlbmNlKSksbmV3IHJuKHRoaXMpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksdGhpcy5zaXRlQXBwcz1uZXcgQm8odGhpcyksbnVsbD09PShyPXRoaXMuc2l0ZUFwcHMpfHx2b2lkIDA9PT1yfHxyLmluaXQoKSx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZXx8KHRoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgenIodGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCkpLHRoaXMuY29uZmlnLmRpc2FibGVfc2Nyb2xsX3Byb3BlcnRpZXN8fHRoaXMuc2Nyb2xsTWFuYWdlci5zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCksdGhpcy5hdXRvY2FwdHVyZT1uZXcgJHQodGhpcyksdGhpcy5hdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksdGhpcy5oZWF0bWFwcz1uZXcgdW4odGhpcyksdGhpcy5oZWF0bWFwcy5zdGFydElmRW5hYmxlZCgpLHRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmU9bmV3IG9uKHRoaXMpLHRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXI9bmV3IGFpKHRoaXMpLHRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZT1uZXcgc2kodGhpcyxuaSksdGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSxfLkRFQlVHPV8uREVCVUd8fHRoaXMuY29uZmlnLmRlYnVnLF8uREVCVUcmJk4uaW5mbyhcIlN0YXJ0aW5nIGluIGRlYnVnIG1vZGVcIix7dGhpczp0aGlzLGNvbmZpZzpzLHRoaXNDOnooe30sdGhpcy5jb25maWcpLHA6YSxzOmx9KSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpLHZvaWQgMCE9PShudWxsPT09KG49cy5ib290c3RyYXApfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRpc3RpbmN0SUQpKXt2YXIgdSxjLGQ9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChOdCgpKSxoPW51bGwhPT0odT1zLmJvb3RzdHJhcCkmJnZvaWQgMCE9PXUmJnUuaXNJZGVudGlmaWVkSUQ/ZDpzLmJvb3RzdHJhcC5kaXN0aW5jdElEO3RoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KExlLG51bGwhPT0oYz1zLmJvb3RzdHJhcCkmJnZvaWQgMCE9PWMmJmMuaXNJZGVudGlmaWVkSUQ/XCJpZGVudGlmaWVkXCI6XCJhbm9ueW1vdXNcIiksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6cy5ib290c3RyYXAuZGlzdGluY3RJRCwkZGV2aWNlX2lkOmh9KX1pZih0aGlzLl9oYXNCb290c3RyYXBwZWRGZWF0dXJlRmxhZ3MoKSl7dmFyIHAsdixnPU9iamVjdC5rZXlzKChudWxsPT09KHA9cy5ib290c3RyYXApfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLmZlYXR1cmVGbGFncyl8fHt9KS5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiEobnVsbD09PSh0PXMuYm9vdHN0cmFwKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZmVhdHVyZUZsYWdzKXx8dm9pZCAwPT09aXx8IWlbZV0pfSkpLnJlZHVjZSgoKGUsdCk9Pnt2YXIgaSxyO3JldHVybiBlW3RdPShudWxsPT09KGk9cy5ib290c3RyYXApfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyW3RdKXx8ITEsZX0pLHt9KSxmPU9iamVjdC5rZXlzKChudWxsPT09KHY9cy5ib290c3RyYXApfHx2b2lkIDA9PT12P3ZvaWQgMDp2LmZlYXR1cmVGbGFnUGF5bG9hZHMpfHx7fSkuZmlsdGVyKChlPT5nW2VdKSkucmVkdWNlKCgoZSx0KT0+e3ZhciBpLHIsbixvO251bGwhPT0oaT1zLmJvb3RzdHJhcCkmJnZvaWQgMCE9PWkmJm51bGwhPT0ocj1pLmZlYXR1cmVGbGFnUGF5bG9hZHMpJiZ2b2lkIDAhPT1yJiZyW3RdJiYoZVt0XT1udWxsPT09KG49cy5ib290c3RyYXApfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8dm9pZCAwPT09bz92b2lkIDA6b1t0XSk7cmV0dXJuIGV9KSx7fSk7dGhpcy5mZWF0dXJlRmxhZ3MucmVjZWl2ZWRGZWF0dXJlRmxhZ3Moe2ZlYXR1cmVGbGFnczpnLGZlYXR1cmVGbGFnUGF5bG9hZHM6Zn0pfWlmKHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6emUsJGRldmljZV9pZDpudWxsfSxcIlwiKTtlbHNlIGlmKCF0aGlzLmdldF9kaXN0aW5jdF9pZCgpKXt2YXIgbT10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKE50KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bSwkZGV2aWNlX2lkOm19LFwiXCIpLHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KExlLFwiYW5vbnltb3VzXCIpfXJldHVybiBvZSh0LFwib25wYWdlaGlkZVwiaW4gc2VsZj9cInBhZ2VoaWRlXCI6XCJ1bmxvYWRcIix0aGlzLl9oYW5kbGVfdW5sb2FkLmJpbmQodGhpcykse3Bhc3NpdmU6ITF9KSx0aGlzLnRvb2xiYXIubWF5YmVMb2FkVG9vbGJhcigpLHMuc2VnbWVudD9Wcih0aGlzLCgoKT0+dGhpcy5fbG9hZGVkKCkpKTp0aGlzLl9sb2FkZWQoKSxJKHRoaXMuY29uZmlnLl9vbkNhcHR1cmUpJiZ0aGlzLmNvbmZpZy5fb25DYXB0dXJlIT09WG8mJihOLndhcm4oXCJvbkNhcHR1cmUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgYmVmb3JlX3NlbmRgIGluc3RlYWRcIiksdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5jb25maWcuX29uQ2FwdHVyZShlLmV2ZW50LGUpKSkpLHRoaXN9X29uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLHIsbixzLG8sbCx1LGM7aWYoIWF8fCFhLmJvZHkpcmV0dXJuIE4uaW5mbyhcImRvY3VtZW50IG5vdCByZWFkeSB5ZXQsIHRyeWluZyBhZ2FpbiBpbiA1MDAgbWlsbGlzZWNvbmRzLi4uXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLl9vblJlbW90ZUNvbmZpZyh0KX0pLDUwMCk7dGhpcy5jb21wcmVzc2lvbj12b2lkIDAsdC5zdXBwb3J0ZWRDb21wcmVzc2lvbiYmIXRoaXMuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24mJih0aGlzLmNvbXByZXNzaW9uPW0odC5zdXBwb3J0ZWRDb21wcmVzc2lvbixlLkdaaXBKUyk/ZS5HWmlwSlM6bSh0LnN1cHBvcnRlZENvbXByZXNzaW9uLGUuQmFzZTY0KT9lLkJhc2U2NDp2b2lkIDApLG51bGwhPT0oaT10LmFuYWx5dGljcykmJnZvaWQgMCE9PWkmJmkuZW5kcG9pbnQmJih0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD10LmFuYWx5dGljcy5lbmRwb2ludCksdGhpcy5zZXRfY29uZmlnKHtwZXJzb25fcHJvZmlsZXM6dGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnP3RoaXMuX2luaXRpYWxQZXJzb25Qcm9maWxlc0NvbmZpZzpcImlkZW50aWZpZWRfb25seVwifSksbnVsbD09PShyPXRoaXMuc2l0ZUFwcHMpfHx2b2lkIDA9PT1yfHxyLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0obj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1ufHxuLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0ocz10aGlzLmF1dG9jYXB0dXJlKXx8dm9pZCAwPT09c3x8cy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KG89dGhpcy5oZWF0bWFwcyl8fHZvaWQgMD09PW98fG8ub25SZW1vdGVDb25maWcodCksdGhpcy5zdXJ2ZXlzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0obD10aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlKXx8dm9pZCAwPT09bHx8bC5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KHU9dGhpcy5leGNlcHRpb25PYnNlcnZlcil8fHZvaWQgMD09PXV8fHUub25SZW1vdGVDb25maWcodCksbnVsbD09PShjPXRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlKXx8dm9pZCAwPT09Y3x8Yy5vblJlbW90ZUNvbmZpZyh0KX1fbG9hZGVkKCl7dHJ5e3RoaXMuY29uZmlnLmxvYWRlZCh0aGlzKX1jYXRjaChlKXtOLmNyaXRpY2FsKFwiYGxvYWRlZGAgZnVuY3Rpb24gZmFpbGVkXCIsZSl9dGhpcy5fc3RhcnRfcXVldWVfaWZfb3B0ZWRfaW4oKSx0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZzZXRUaW1lb3V0KCgoKT0+e3RoaXMuY29uc2VudC5pc09wdGVkSW4oKSYmdGhpcy5fY2FwdHVyZUluaXRpYWxQYWdldmlldygpfSksMSksbmV3IHdvKHRoaXMpLmxvYWQoKSx0aGlzLmZlYXR1cmVGbGFncy5kZWNpZGUoKX1fc3RhcnRfcXVldWVfaWZfb3B0ZWRfaW4oKXt2YXIgZTt0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl8fHRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmcmJihudWxsPT09KGU9dGhpcy5fcmVxdWVzdFF1ZXVlKXx8dm9pZCAwPT09ZXx8ZS5lbmFibGUoKSl9X2RvbV9sb2FkZWQoKXt0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl8fEoodGhpcy5fX3JlcXVlc3RfcXVldWUsKGU9PnRoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSkpKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLl9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpfV9oYW5kbGVfdW5sb2FkKCl7dmFyIGUsdDt0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nPyh0aGlzLl9zaG91bGRDYXB0dXJlUGFnZWxlYXZlKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIiksbnVsbD09PShlPXRoaXMuX3JlcXVlc3RRdWV1ZSl8fHZvaWQgMD09PWV8fGUudW5sb2FkKCksbnVsbD09PSh0PXRoaXMuX3JldHJ5UXVldWUpfHx2b2lkIDA9PT10fHx0LnVubG9hZCgpKTp0aGlzLl9zaG91bGRDYXB0dXJlUGFnZWxlYXZlKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIixudWxsLHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KX1fc2VuZF9yZXF1ZXN0KGUpe3RoaXMuX19sb2FkZWQmJihabz90aGlzLl9fcmVxdWVzdF9xdWV1ZS5wdXNoKGUpOnRoaXMucmF0ZUxpbWl0ZXIuaXNTZXJ2ZXJSYXRlTGltaXRlZChlLmJhdGNoS2V5KXx8KGUudHJhbnNwb3J0PWUudHJhbnNwb3J0fHx0aGlzLmNvbmZpZy5hcGlfdHJhbnNwb3J0LGUudXJsPXhvKGUudXJsLHtpcDp0aGlzLmNvbmZpZy5pcD8xOjB9KSxlLmhlYWRlcnM9eih7fSx0aGlzLmNvbmZpZy5yZXF1ZXN0X2hlYWRlcnMpLGUuY29tcHJlc3Npb249XCJiZXN0LWF2YWlsYWJsZVwiPT09ZS5jb21wcmVzc2lvbj90aGlzLmNvbXByZXNzaW9uOmUuY29tcHJlc3Npb24sZS5mZXRjaE9wdGlvbnM9ZS5mZXRjaE9wdGlvbnN8fHRoaXMuY29uZmlnLmZldGNoX29wdGlvbnMsKGU9Pnt2YXIgdCxpLHIsbj16KHt9LGUpO24udGltZW91dD1uLnRpbWVvdXR8fDZlNCxuLnVybD14byhuLnVybCx7XzoobmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpLHZlcjpfLkxJQl9WRVJTSU9OLGNvbXByZXNzaW9uOm4uY29tcHJlc3Npb259KTt2YXIgcz1udWxsIT09KHQ9bi50cmFuc3BvcnQpJiZ2b2lkIDAhPT10P3Q6XCJmZXRjaFwiLG89bnVsbCE9PShpPW51bGw9PT0ocj1zZShQbywoZT0+ZS50cmFuc3BvcnQ9PT1zKSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1ldGhvZCkmJnZvaWQgMCE9PWk/aTpQb1swXS5tZXRob2Q7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiTm8gYXZhaWxhYmxlIHRyYW5zcG9ydCBtZXRob2RcIik7byhuKX0pKHooeih7fSxlKSx7fSx7Y2FsbGJhY2s6dD0+e3ZhciBpLHIsbjsodGhpcy5yYXRlTGltaXRlci5jaGVja0ZvckxpbWl0aW5nKHQpLHQuc3RhdHVzQ29kZT49NDAwKSYmKG51bGw9PT0ocj0obj10aGlzLmNvbmZpZykub25fcmVxdWVzdF9lcnJvcil8fHZvaWQgMD09PXJ8fHIuY2FsbChuLHQpKTtudWxsPT09KGk9ZS5jYWxsYmFjayl8fHZvaWQgMD09PWl8fGkuY2FsbChlLHQpfX0pKSkpfV9zZW5kX3JldHJpYWJsZV9yZXF1ZXN0KGUpe3RoaXMuX3JldHJ5UXVldWU/dGhpcy5fcmV0cnlRdWV1ZS5yZXRyaWFibGVSZXF1ZXN0KGUpOnRoaXMuX3NlbmRfcmVxdWVzdChlKX1fZXhlY3V0ZV9hcnJheShlKXt2YXIgdCxpPVtdLHI9W10sbj1bXTtKKGUsKGU9PntlJiYodD1lWzBdLHgodCk/bi5wdXNoKGUpOkkoZSk/ZS5jYWxsKHRoaXMpOngoZSkmJlwiYWxpYXNcIj09PXQ/aS5wdXNoKGUpOngoZSkmJi0xIT09dC5pbmRleE9mKFwiY2FwdHVyZVwiKSYmSSh0aGlzW3RdKT9uLnB1c2goZSk6ci5wdXNoKGUpKX0pKTt2YXIgcz1mdW5jdGlvbihlLHQpe0ooZSwoZnVuY3Rpb24oZSl7aWYoeChlWzBdKSl7dmFyIGk9dDtZKGUsKGZ1bmN0aW9uKGUpe2k9aVtlWzBdXS5hcHBseShpLGUuc2xpY2UoMSkpfSkpfWVsc2UgdGhpc1tlWzBdXS5hcHBseSh0aGlzLGUuc2xpY2UoMSkpfSksdCl9O3MoaSx0aGlzKSxzKHIsdGhpcykscyhuLHRoaXMpfV9oYXNCb290c3RyYXBwZWRGZWF0dXJlRmxhZ3MoKXt2YXIgZSx0O3JldHVybihudWxsPT09KGU9dGhpcy5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5mZWF0dXJlRmxhZ3MpJiZPYmplY3Qua2V5cyhudWxsPT09KHQ9dGhpcy5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mZWF0dXJlRmxhZ3MpLmxlbmd0aD4wfHwhMX1wdXNoKGUpe3RoaXMuX2V4ZWN1dGVfYXJyYXkoW2VdKX1jYXB0dXJlKGUsdCxpKXt2YXIgcjtpZih0aGlzLl9fbG9hZGVkJiZ0aGlzLnBlcnNpc3RlbmNlJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSYmdGhpcy5fcmVxdWVzdFF1ZXVlKXtpZighdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKSlpZighRihlKSYmVChlKSl7aWYodGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyfHwhdGhpcy5faXNfYm90KCkpe3ZhciBuPW51bGwhPWkmJmkuc2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZz92b2lkIDA6dGhpcy5yYXRlTGltaXRlci5jbGllbnRSYXRlTGltaXRDb250ZXh0KCk7aWYobnVsbD09bnx8IW4uaXNSYXRlTGltaXRlZCl7bnVsbCE9dCYmdC4kY3VycmVudF91cmwmJiFUKG51bGw9PXQ/dm9pZCAwOnQuJGN1cnJlbnRfdXJsKSYmKE4uZXJyb3IoXCJJbnZhbGlkIGAkY3VycmVudF91cmxgIHByb3BlcnR5IHByb3ZpZGVkIHRvIGBwb3N0aG9nLmNhcHR1cmVgLiBJbnB1dCBtdXN0IGJlIGEgc3RyaW5nLiBJZ25vcmluZyBwcm92aWRlZCB2YWx1ZS5cIiksbnVsbD09dHx8ZGVsZXRlIHQuJGN1cnJlbnRfdXJsKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfc2VhcmNoX2tleXdvcmQoKSx0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtcyYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX2NhbXBhaWduX3BhcmFtcygpLHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXImJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9yZWZlcnJlcl9pbmZvKCksKHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zfHx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyKSYmdGhpcy5wZXJzaXN0ZW5jZS5zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpO3ZhciBzPW5ldyBEYXRlLG89KG51bGw9PWk/dm9pZCAwOmkudGltZXN0YW1wKXx8cyxhPU50KCksbD17dXVpZDphLGV2ZW50OmUscHJvcGVydGllczp0aGlzLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcyhlLHR8fHt9LG8sYSl9O24mJihsLnByb3BlcnRpZXMuJGxpYl9yYXRlX2xpbWl0X3JlbWFpbmluZ190b2tlbnM9bi5yZW1haW5pbmdUb2tlbnMpLChudWxsPT1pP3ZvaWQgMDppLiRzZXQpJiYobC4kc2V0PW51bGw9PWk/dm9pZCAwOmkuJHNldCk7dmFyIHU9dGhpcy5fY2FsY3VsYXRlX3NldF9vbmNlX3Byb3BlcnRpZXMobnVsbD09aT92b2lkIDA6aS4kc2V0X29uY2UpO3UmJihsLiRzZXRfb25jZT11KSwobD1pZShsLG51bGwhPWkmJmkuX25vVHJ1bmNhdGU/bnVsbDp0aGlzLmNvbmZpZy5wcm9wZXJ0aWVzX3N0cmluZ19tYXhfbGVuZ3RoKSkudGltZXN0YW1wPW8sRihudWxsPT1pP3ZvaWQgMDppLnRpbWVzdGFtcCl8fChsLnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfcHJvdmlkZWQ9ITAsbC5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3N5c3RlbV90aW1lPXMpO3ZhciBjPXooeih7fSxsLnByb3BlcnRpZXMuJHNldCksbC4kc2V0KTtpZihQKGMpfHx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhjKSwhTyh0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCkpe3ZhciBkPXRoaXMuX3J1bkJlZm9yZVNlbmQobCk7aWYoIWQpcmV0dXJuO2w9ZH10aGlzLl9pbnRlcm5hbEV2ZW50RW1pdHRlci5lbWl0KFwiZXZlbnRDYXB0dXJlZFwiLGwpO3ZhciBoPXttZXRob2Q6XCJQT1NUXCIsdXJsOm51bGwhPT0ocj1udWxsPT1pP3ZvaWQgMDppLl91cmwpJiZ2b2lkIDAhPT1yP3I6dGhpcy5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQpLGRhdGE6bCxjb21wcmVzc2lvbjpcImJlc3QtYXZhaWxhYmxlXCIsYmF0Y2hLZXk6bnVsbD09aT92b2lkIDA6aS5fYmF0Y2hLZXl9O3JldHVybiF0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nfHxpJiYobnVsbD09aXx8IWkuX2JhdGNoS2V5KXx8bnVsbCE9aSYmaS5zZW5kX2luc3RhbnRseT90aGlzLl9zZW5kX3JldHJpYWJsZV9yZXF1ZXN0KGgpOnRoaXMuX3JlcXVlc3RRdWV1ZS5lbnF1ZXVlKGgpLGx9Ti5jcml0aWNhbChcIlRoaXMgY2FwdHVyZSBjYWxsIGlzIGlnbm9yZWQgZHVlIHRvIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiKX19ZWxzZSBOLmVycm9yKFwiTm8gZXZlbnQgbmFtZSBwcm92aWRlZCB0byBwb3N0aG9nLmNhcHR1cmVcIil9ZWxzZSBOLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5jYXB0dXJlXCIpfV9hZGRDYXB0dXJlSG9vayhlKXtyZXR1cm4gdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+ZSh0LmV2ZW50LHQpKSl9X2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzKGUsdCxpLHIpe2lmKGk9aXx8bmV3IERhdGUsIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSlyZXR1cm4gdDt2YXIgbj10aGlzLnBlcnNpc3RlbmNlLnJlbW92ZV9ldmVudF90aW1lcihlKSxzPXooe30sdCk7aWYocy50b2tlbj10aGlzLmNvbmZpZy50b2tlbix0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSYmKHMuJGNvb2tpZWxlc3NfbW9kZT0hMCksXCIkc25hcHNob3RcIj09PWUpe3ZhciBvPXooeih7fSx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcGVydGllcygpKTtyZXR1cm4gcy5kaXN0aW5jdF9pZD1vLmRpc3RpbmN0X2lkLCghVChzLmRpc3RpbmN0X2lkKSYmIU0ocy5kaXN0aW5jdF9pZCl8fFIocy5kaXN0aW5jdF9pZCkpJiZOLmVycm9yKFwiSW52YWxpZCBkaXN0aW5jdF9pZCBmb3IgcmVwbGF5IGV2ZW50LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiB5b3VyIGltcGxlbWVudGF0aW9uXCIpLHN9dmFyIGwsdT1ocy5wcm9wZXJ0aWVzKHttYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOnRoaXMuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXN9KTtpZih0aGlzLnNlc3Npb25NYW5hZ2VyKXt2YXJ7c2Vzc2lvbklkOmMsd2luZG93SWQ6ZH09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpO3MuJHNlc3Npb25faWQ9YyxzLiR3aW5kb3dfaWQ9ZH10aGlzLnNlc3Npb25Qcm9wc01hbmFnZXImJksocyx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXIuZ2V0U2Vzc2lvblByb3BzKCkpO3RyeXt2YXIgcCxfO3RoaXMuc2Vzc2lvblJlY29yZGluZyYmKHMuJHJlY29yZGluZ19zdGF0dXM9dGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXR1cyxzLiRzZGtfZGVidWdfcmVwbGF5X2ludGVybmFsX2J1ZmZlcl9sZW5ndGg9dGhpcy5zZXNzaW9uUmVjb3JkaW5nLmJ1ZmZlci5kYXRhLmxlbmd0aCxzLiRzZGtfZGVidWdfcmVwbGF5X2ludGVybmFsX2J1ZmZlcl9zaXplPXRoaXMuc2Vzc2lvblJlY29yZGluZy5idWZmZXIuc2l6ZSkscy4kc2RrX2RlYnVnX3JldHJ5X3F1ZXVlX3NpemU9bnVsbD09PShwPXRoaXMuX3JldHJ5UXVldWUpfHx2b2lkIDA9PT1wfHxudWxsPT09KF89cC5xdWV1ZSl8fHZvaWQgMD09PV8/dm9pZCAwOl8ubGVuZ3RofWNhdGNoKGUpe3MuJHNka19kZWJ1Z19lcnJvcl9jYXB0dXJpbmdfcHJvcGVydGllcz1TdHJpbmcoZSl9aWYodGhpcy5yZXF1ZXN0Um91dGVyLnJlZ2lvbj09PUhvLkNVU1RPTSYmKHMuJGxpYl9jdXN0b21fYXBpX2hvc3Q9dGhpcy5jb25maWcuYXBpX2hvc3QpLGw9XCIkcGFnZXZpZXdcIj09PWU/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlVmlldyhpLHIpOlwiJHBhZ2VsZWF2ZVwiPT09ZT90aGlzLnBhZ2VWaWV3TWFuYWdlci5kb1BhZ2VMZWF2ZShpKTp0aGlzLnBhZ2VWaWV3TWFuYWdlci5kb0V2ZW50KCkscz1LKHMsbCksXCIkcGFnZXZpZXdcIj09PWUmJmEmJihzLnRpdGxlPWEudGl0bGUpLCFGKG4pKXt2YXIgdj1pLmdldFRpbWUoKS1uO3MuJGR1cmF0aW9uPXBhcnNlRmxvYXQoKHYvMWUzKS50b0ZpeGVkKDMpKX1oJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJihzLiRicm93c2VyX3R5cGU9dGhpcy5faXNfYm90KCk/XCJib3RcIjpcImJyb3dzZXJcIiksKHM9Syh7fSx1LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSxzKSkuJGlzX2lkZW50aWZpZWQ9dGhpcy5faXNJZGVudGlmaWVkKCkseCh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCk/WSh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCwoZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV19KSk6Ti5lcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHByb3BlcnR5X2RlbnlsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QrXCIgb3IgcHJvcGVydHlfYmxhY2tsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfYmxhY2tsaXN0KTt2YXIgZz10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO2cmJihOLmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxzPWcocyxlKSk7dmFyIGY9dGhpcy5faGFzUGVyc29uUHJvY2Vzc2luZygpO3JldHVybiBzLiRwcm9jZXNzX3BlcnNvbl9wcm9maWxlPWYsZiYmdGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJfY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXNcIiksc31fY2FsY3VsYXRlX3NldF9vbmNlX3Byb3BlcnRpZXMoZSl7dmFyIHQ7aWYoIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCkpcmV0dXJuIGU7aWYodGhpcy5fcGVyc29uUHJvY2Vzc2luZ1NldE9uY2VQcm9wZXJ0aWVzU2VudClyZXR1cm4gZTt2YXIgaT10aGlzLnBlcnNpc3RlbmNlLmdldF9pbml0aWFsX3Byb3BzKCkscj1udWxsPT09KHQ9dGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRTZXRPbmNlUHJvcHMoKSxuPUsoe30saSxyfHx7fSxlfHx7fSkscz10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO3JldHVybiBzJiYoTi5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIiksbj1zKG4sXCIkc2V0X29uY2VcIikpLHRoaXMuX3BlcnNvblByb2Nlc3NpbmdTZXRPbmNlUHJvcGVydGllc1NlbnQ9ITAsUChuKT92b2lkIDA6bn1yZWdpc3RlcihlLHQpe3ZhciBpO251bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3RlcihlLHQpfXJlZ2lzdGVyX29uY2UoZSx0LGkpe3ZhciByO251bGw9PT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cnx8ci5yZWdpc3Rlcl9vbmNlKGUsdCxpKX1yZWdpc3Rlcl9mb3Jfc2Vzc2lvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnJlZ2lzdGVyKGUpfXVucmVnaXN0ZXIoZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnVucmVnaXN0ZXIoZSl9dW5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnVucmVnaXN0ZXIoZSl9X3JlZ2lzdGVyX3NpbmdsZShlLHQpe3RoaXMucmVnaXN0ZXIoe1tlXTp0fSl9Z2V0RmVhdHVyZUZsYWcoZSx0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWcoZSx0KX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl7dmFyIHQ9dGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGUpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm4gdH19aXNGZWF0dXJlRW5hYmxlZChlLHQpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGUsdCl9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVsb2FkRmVhdHVyZUZsYWdzKCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudChlLHQpe3RoaXMuZmVhdHVyZUZsYWdzLnVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQoZSx0KX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0saT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlLHQsaSl9b24oZSx0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxFdmVudEVtaXR0ZXIub24oZSx0KX1vbkZlYXR1cmVGbGFncyhlKXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3Mub25GZWF0dXJlRmxhZ3MoZSl9b25TdXJ2ZXlzTG9hZGVkKGUpe3JldHVybiB0aGlzLnN1cnZleXMub25TdXJ2ZXlzTG9hZGVkKGUpfW9uU2Vzc2lvbklkKGUpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkub25TZXNzaW9uSWQoZSkpJiZ2b2lkIDAhPT10P3Q6KCk9Pnt9fWdldFN1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyhlLHQpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuc3VydmV5cy5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXMoZSx0KX1yZW5kZXJTdXJ2ZXkoZSx0KXt0aGlzLnN1cnZleXMucmVuZGVyU3VydmV5KGUsdCl9Y2FuUmVuZGVyU3VydmV5KGUpe3RoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXkoZSl9aWRlbnRpZnkoZSx0LGkpe2lmKCF0aGlzLl9fbG9hZGVkfHwhdGhpcy5wZXJzaXN0ZW5jZSlyZXR1cm4gTi51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuaWRlbnRpZnlcIik7aWYoTShlKSYmKGU9ZS50b1N0cmluZygpLE4ud2FybihcIlRoZSBmaXJzdCBhcmd1bWVudCB0byBwb3N0aG9nLmlkZW50aWZ5IHdhcyBhIG51bWJlciwgYnV0IGl0IHNob3VsZCBiZSBhIHN0cmluZy4gSXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgc3RyaW5nLlwiKSksZSl7aWYoW1wiZGlzdGluY3RfaWRcIixcImRpc3RpbmN0aWRcIl0uaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSlOLmNyaXRpY2FsKCdUaGUgc3RyaW5nIFwiJy5jb25jYXQoZSwnXCIgd2FzIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5IHdoaWNoIGluZGljYXRlcyBhbiBlcnJvci4gVGhpcyBJRCBzaG91bGQgYmUgdW5pcXVlIHRvIHRoZSB1c2VyIGFuZCBub3QgYSBoYXJkY29kZWQgc3RyaW5nLicpKTtlbHNlIGlmKHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5pZGVudGlmeVwiKSl7dmFyIHI9dGhpcy5nZXRfZGlzdGluY3RfaWQoKTtpZih0aGlzLnJlZ2lzdGVyKHskdXNlcl9pZDplfSksIXRoaXMuZ2V0X3Byb3BlcnR5KFwiJGRldmljZV9pZFwiKSl7dmFyIG49cjt0aGlzLnJlZ2lzdGVyX29uY2UoeyRoYWRfcGVyc2lzdGVkX2Rpc3RpbmN0X2lkOiEwLCRkZXZpY2VfaWQ6bn0sXCJcIil9ZSE9PXImJmUhPT10aGlzLmdldF9wcm9wZXJ0eShsZSkmJih0aGlzLnVucmVnaXN0ZXIobGUpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmV9KSk7dmFyIHM9XCJhbm9ueW1vdXNcIj09PSh0aGlzLnBlcnNpc3RlbmNlLmdldF9wcm9wZXJ0eShMZSl8fFwiYW5vbnltb3VzXCIpO2UhPT1yJiZzPyh0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShMZSxcImlkZW50aWZpZWRcIiksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3Moeih6KHt9LGl8fHt9KSx0fHx7fSksITEpLHRoaXMuY2FwdHVyZShcIiRpZGVudGlmeVwiLHtkaXN0aW5jdF9pZDplLCRhbm9uX2Rpc3RpbmN0X2lkOnJ9LHskc2V0OnR8fHt9LCRzZXRfb25jZTppfHx7fX0pLHRoaXMuZmVhdHVyZUZsYWdzLnNldEFub255bW91c0Rpc3RpbmN0SWQociksdGhpcy5fY2FjaGVkSWRlbnRpZnk9V28oZSx0LGkpKToodHx8aSkmJih0aGlzLl9jYWNoZWRJZGVudGlmeSE9PVdvKGUsdCxpKT8odGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHQsaSksdGhpcy5fY2FjaGVkSWRlbnRpZnk9V28oZSx0LGkpKTpOLmluZm8oXCJBIGR1cGxpY2F0ZSBwb3N0aG9nLmlkZW50aWZ5IGNhbGwgd2FzIG1hZGUgd2l0aCB0aGUgc2FtZSBwcm9wZXJ0aWVzLiBJdCBoYXMgYmVlbiBpZ25vcmVkLlwiKSksZSE9PXImJih0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpLHRoaXMudW5yZWdpc3RlcihBZSkpfX1lbHNlIE4uZXJyb3IoXCJVbmlxdWUgdXNlciBpZCBoYXMgbm90IGJlZW4gc2V0IGluIHBvc3Rob2cuaWRlbnRpZnlcIil9c2V0UGVyc29uUHJvcGVydGllcyhlLHQpeyhlfHx0KSYmdGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLnNldFBlcnNvblByb3BlcnRpZXNcIikmJih0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyh6KHooe30sdHx8e30pLGV8fHt9KSksdGhpcy5jYXB0dXJlKFwiJHNldFwiLHskc2V0OmV8fHt9LCRzZXRfb25jZTp0fHx7fX0pKX1ncm91cChlLHQsaSl7aWYoZSYmdCl7aWYodGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmdyb3VwXCIpKXt2YXIgcj10aGlzLmdldEdyb3VwcygpO3JbZV0hPT10JiZ0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSksdGhpcy5yZWdpc3Rlcih7JGdyb3Vwczp6KHooe30scikse30se1tlXTp0fSl9KSxpJiYodGhpcy5jYXB0dXJlKFwiJGdyb3VwaWRlbnRpZnlcIix7JGdyb3VwX3R5cGU6ZSwkZ3JvdXBfa2V5OnQsJGdyb3VwX3NldDppfSksdGhpcy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh7W2VdOml9KSkscltlXT09PXR8fGl8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9fWVsc2UgTi5lcnJvcihcInBvc3Rob2cuZ3JvdXAgcmVxdWlyZXMgYSBncm91cCB0eXBlIGFuZCBncm91cCBrZXlcIil9cmVzZXRHcm91cHMoKXt0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOnt9fSksdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKCksdGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTt0aGlzLmZlYXR1cmVGbGFncy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZSx0KX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTt0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3NcIikmJnRoaXMuZmVhdHVyZUZsYWdzLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUsdCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpfXJlc2V0KGUpe3ZhciB0LGkscixuO2lmKE4uaW5mbyhcInJlc2V0XCIpLCF0aGlzLl9fbG9hZGVkKXJldHVybiBOLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5yZXNldFwiKTt2YXIgcz10aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIik7aWYodGhpcy5jb25zZW50LnJlc2V0KCksbnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LmNsZWFyKCksbnVsbD09PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5jbGVhcigpLHRoaXMuc3VydmV5cy5yZXNldCgpLG51bGw9PT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cnx8ci5zZXRfcHJvcGVydHkoTGUsXCJhbm9ueW1vdXNcIiksbnVsbD09PShuPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT1ufHxuLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5fY2FjaGVkSWRlbnRpZnk9bnVsbCx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOnplLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZXt2YXIgbz10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKE50KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bywkZGV2aWNlX2lkOmU/bzpzfSxcIlwiKX10aGlzLnJlZ2lzdGVyKHskbGFzdF9wb3N0aG9nX3Jlc2V0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0sMSl9Z2V0X2Rpc3RpbmN0X2lkKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiZGlzdGluY3RfaWRcIil9Z2V0R3JvdXBzKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8e319Z2V0X3Nlc3Npb25faWQoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKS5zZXNzaW9uSWQpJiZ2b2lkIDAhPT1lP2U6XCJcIn1nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKGUpe2lmKCF0aGlzLnNlc3Npb25NYW5hZ2VyKXJldHVyblwiXCI7dmFye3Nlc3Npb25JZDp0LHNlc3Npb25TdGFydFRpbWVzdGFtcDppfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKSxyPXRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIi5jb25jYXQodGhpcy5jb25maWcudG9rZW4sXCIvcmVwbGF5L1wiKS5jb25jYXQodCkpO2lmKG51bGwhPWUmJmUud2l0aFRpbWVzdGFtcCYmaSl7dmFyIG4scz1udWxsIT09KG49ZS50aW1lc3RhbXBMb29rQmFjaykmJnZvaWQgMCE9PW4/bjoxMDtpZighaSlyZXR1cm4gcjt2YXIgbz1NYXRoLm1heChNYXRoLmZsb29yKCgobmV3IERhdGUpLmdldFRpbWUoKS1pKS8xZTMpLXMsMCk7cis9XCI/dD1cIi5jb25jYXQobyl9cmV0dXJuIHJ9YWxpYXMoZSx0KXtyZXR1cm4gZT09PXRoaXMuZ2V0X3Byb3BlcnR5KGFlKT8oTi5jcml0aWNhbChcIkF0dGVtcHRpbmcgdG8gY3JlYXRlIGFsaWFzIGZvciBleGlzdGluZyBQZW9wbGUgdXNlciAtIGFib3J0aW5nLlwiKSwtMik6dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmFsaWFzXCIpPyhGKHQpJiYodD10aGlzLmdldF9kaXN0aW5jdF9pZCgpKSxlIT09dD8odGhpcy5fcmVnaXN0ZXJfc2luZ2xlKGxlLGUpLHRoaXMuY2FwdHVyZShcIiRjcmVhdGVfYWxpYXNcIix7YWxpYXM6ZSxkaXN0aW5jdF9pZDp0fSkpOihOLndhcm4oXCJhbGlhcyBtYXRjaGVzIGN1cnJlbnQgZGlzdGluY3RfaWQgLSBza2lwcGluZyBhcGkgY2FsbC5cIiksdGhpcy5pZGVudGlmeShlKSwtMSkpOnZvaWQgMH1zZXRfY29uZmlnKGUpe3ZhciB0LGkscixuLHM9eih7fSx0aGlzLmNvbmZpZyk7QyhlKSYmKEsodGhpcy5jb25maWcsdGEoZSkpLG51bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC51cGRhdGVfY29uZmlnKHRoaXMuY29uZmlnLHMpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcga3Moeih6KHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpLEp0LmlzX3N1cHBvcnRlZCgpJiZcInRydWVcIj09PUp0LmdldChcInBoX2RlYnVnXCIpJiYodGhpcy5jb25maWcuZGVidWc9ITApLHRoaXMuY29uZmlnLmRlYnVnJiYoXy5ERUJVRz0hMCxOLmluZm8oXCJzZXRfY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkoe2NvbmZpZzplLG9sZENvbmZpZzpzLG5ld0NvbmZpZzp6KHt9LHRoaXMuY29uZmlnKX0sbnVsbCwyKSkpLG51bGw9PT0oaT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1pfHxpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksbnVsbD09PShyPXRoaXMuYXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1yfHxyLnN0YXJ0SWZFbmFibGVkKCksbnVsbD09PShuPXRoaXMuaGVhdG1hcHMpfHx2b2lkIDA9PT1ufHxuLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpKX1zdGFydFNlc3Npb25SZWNvcmRpbmcoZSl7dmFyIHQ9ITA9PT1lLGk9e3NhbXBsaW5nOnR8fCEobnVsbD09ZXx8IWUuc2FtcGxpbmcpLGxpbmtlZF9mbGFnOnR8fCEobnVsbD09ZXx8IWUubGlua2VkX2ZsYWcpLHVybF90cmlnZ2VyOnR8fCEobnVsbD09ZXx8IWUudXJsX3RyaWdnZXIpLGV2ZW50X3RyaWdnZXI6dHx8IShudWxsPT1lfHwhZS5ldmVudF90cmlnZ2VyKX07aWYoT2JqZWN0LnZhbHVlcyhpKS5zb21lKEJvb2xlYW4pKXt2YXIgcixuLHMsbyxhO2lmKG51bGw9PT0ocj10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09cnx8ci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLGkuc2FtcGxpbmcpbnVsbD09PShuPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW58fG4ub3ZlcnJpZGVTYW1wbGluZygpO2lmKGkubGlua2VkX2ZsYWcpbnVsbD09PShzPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXN8fHMub3ZlcnJpZGVMaW5rZWRGbGFnKCk7aWYoaS51cmxfdHJpZ2dlciludWxsPT09KG89dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09b3x8by5vdmVycmlkZVRyaWdnZXIoXCJ1cmxcIik7aWYoaS5ldmVudF90cmlnZ2VyKW51bGw9PT0oYT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1hfHxhLm92ZXJyaWRlVHJpZ2dlcihcImV2ZW50XCIpfXRoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMX0pfXN0b3BTZXNzaW9uUmVjb3JkaW5nKCl7dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiEwfSl9c2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKXt2YXIgZTtyZXR1cm4hKG51bGw9PT0oZT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1lfHwhZS5zdGFydGVkKX1jYXB0dXJlRXhjZXB0aW9uKGUsdCl7dmFyIGk9bmV3IEVycm9yKFwiUG9zdEhvZyBzeW50aGV0aWNFeGNlcHRpb25cIik7dGhpcy5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudCh6KHooe30sTWkoKGU9PmUgaW5zdGFuY2VvZiBFcnJvcikoZSk/e2Vycm9yOmUsZXZlbnQ6ZS5tZXNzYWdlfTp7ZXZlbnQ6ZX0se3N5bnRoZXRpY0V4Y2VwdGlvbjppfSkpLHQpKX1sb2FkVG9vbGJhcihlKXtyZXR1cm4gdGhpcy50b29sYmFyLmxvYWRUb29sYmFyKGUpfWdldF9wcm9wZXJ0eShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW2VdfWdldFNlc3Npb25Qcm9wZXJ0eShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1tlXX10b1N0cmluZygpe3ZhciBlLHQ9bnVsbCE9PShlPXRoaXMuY29uZmlnLm5hbWUpJiZ2b2lkIDAhPT1lP2U6UW87cmV0dXJuIHQhPT1RbyYmKHQ9UW8rXCIuXCIrdCksdH1faXNJZGVudGlmaWVkKCl7dmFyIGUsdDtyZXR1cm5cImlkZW50aWZpZWRcIj09PShudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0X3Byb3BlcnR5KExlKSl8fFwiaWRlbnRpZmllZFwiPT09KG51bGw9PT0odD10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KExlKSl9X2hhc1BlcnNvblByb2Nlc3NpbmcoKXt2YXIgZSx0LGkscjtyZXR1cm4hKFwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlc3x8XCJpZGVudGlmaWVkX29ubHlcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcyYmIXRoaXMuX2lzSWRlbnRpZmllZCgpJiZQKHRoaXMuZ2V0R3JvdXBzKCkpJiYobnVsbD09PShlPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5wcm9wcyl8fHZvaWQgMD09PXR8fCF0W2xlXSkmJihudWxsPT09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLnByb3BzKXx8dm9pZCAwPT09cnx8IXJbamVdKSl9X3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKXtyZXR1cm4hMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlfHxcImlmX2NhcHR1cmVfcGFnZXZpZXdcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlJiZ0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fWNyZWF0ZVBlcnNvblByb2ZpbGUoKXt0aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCl8fHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5jcmVhdGVQZXJzb25Qcm9maWxlXCIpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoe30se30pfV9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhlKXtyZXR1cm5cIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXM/KE4uZXJyb3IoZSsnIHdhcyBjYWxsZWQsIGJ1dCBwcm9jZXNzX3BlcnNvbiBpcyBzZXQgdG8gXCJuZXZlclwiLiBUaGlzIGNhbGwgd2lsbCBiZSBpZ25vcmVkLicpLCExKToodGhpcy5fcmVnaXN0ZXJfc2luZ2xlKGplLCEwKSwhMCl9X3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl7dmFyIGUsdCxpLHIsbj10aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpLHM9dGhpcy5jb25maWcub3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0LG89dGhpcy5jb25maWcuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8biYmISFzOyhudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZGlzYWJsZWQpIT09byYmKG51bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5zZXRfZGlzYWJsZWQobykpOyhudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRpc2FibGVkKSE9PW8mJihudWxsPT09KHI9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1yfHxyLnNldF9kaXNhYmxlZChvKSl9b3B0X2luX2NhcHR1cmluZyhlKXt2YXIgdDsodGhpcy5jb25zZW50Lm9wdEluT3V0KCEwKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpLEYobnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlRXZlbnROYW1lKXx8bnVsbCE9ZSYmZS5jYXB0dXJlRXZlbnROYW1lKSYmdGhpcy5jYXB0dXJlKG51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVFdmVudE5hbWUpJiZ2b2lkIDAhPT10P3Q6XCIkb3B0X2luXCIsbnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlUHJvcGVydGllcyx7c2VuZF9pbnN0YW50bHk6ITB9KTt0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0aGlzLl9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl9b3B0X291dF9jYXB0dXJpbmcoKXt0aGlzLmNvbnNlbnQub3B0SW5PdXQoITEpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl9aGFzX29wdGVkX2luX2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl9aGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKX1jbGVhcl9vcHRfaW5fb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5yZXNldCgpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl9X2lzX2JvdCgpe3JldHVybiBvP3pvKG8sdGhpcy5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfV9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl7YSYmIXRoaXMuX2luaXRpYWxQYWdldmlld0NhcHR1cmVkJiYodGhpcy5faW5pdGlhbFBhZ2V2aWV3Q2FwdHVyZWQ9ITAsdGhpcy5jYXB0dXJlKFwiJHBhZ2V2aWV3XCIse3RpdGxlOmEudGl0bGV9LHtzZW5kX2luc3RhbnRseTohMH0pKX1kZWJ1ZyhlKXshMT09PWU/KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UndmUgZGlzYWJsZWQgZGVidWcgbW9kZS5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInBoX2RlYnVnXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITF9KSk6KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UncmUgbm93IGluIGRlYnVnIG1vZGUuIEFsbCBjYWxscyB0byBQb3N0SG9nIHdpbGwgYmUgbG9nZ2VkIGluIHlvdXIgY29uc29sZS5cXG5Zb3UgY2FuIGRpc2FibGUgdGhpcyB3aXRoIGBwb3N0aG9nLmRlYnVnKGZhbHNlKWAuXCIpLGxvY2FsU3RvcmFnZSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaF9kZWJ1Z1wiLFwidHJ1ZVwiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiEwfSkpfV9ydW5CZWZvcmVTZW5kKGUpe2lmKE8odGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXJldHVybiBlO3ZhciB0PXgodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpP3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kOlt0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZF0saT1lO2Zvcih2YXIgciBvZiB0KXtpZihpPXIoaSksTyhpKSl7dmFyIG49XCJFdmVudCAnXCIuY29uY2F0KGUuZXZlbnQsXCInIHdhcyByZWplY3RlZCBpbiBiZWZvcmVTZW5kIGZ1bmN0aW9uXCIpO3JldHVybiBEKGUuZXZlbnQpP04ud2FybihcIlwiLmNvbmNhdChuLFwiLiBUaGlzIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLlwiKSk6Ti5pbmZvKG4pLG51bGx9aS5wcm9wZXJ0aWVzJiYhUChpLnByb3BlcnRpZXMpfHxOLndhcm4oXCJFdmVudCAnXCIuY29uY2F0KGUuZXZlbnQsXCInIGhhcyBubyBwcm9wZXJ0aWVzIGFmdGVyIGJlZm9yZVNlbmQgZnVuY3Rpb24sIHRoaXMgaXMgbGlrZWx5IGFuIGVycm9yLlwiKSl9cmV0dXJuIGl9Z2V0UGFnZVZpZXdJZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5wYWdlVmlld01hbmFnZXIuX2N1cnJlbnRQYWdldmlldyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucGFnZVZpZXdJZH1jYXB0dXJlVHJhY2VGZWVkYmFjayhlLHQpe3RoaXMuY2FwdHVyZShcIiRhaV9mZWVkYmFja1wiLHskYWlfdHJhY2VfaWQ6U3RyaW5nKGUpLCRhaV9mZWVkYmFja190ZXh0OnR9KX1jYXB0dXJlVHJhY2VNZXRyaWMoZSx0LGkpe3RoaXMuY2FwdHVyZShcIiRhaV9tZXRyaWNcIix7JGFpX3RyYWNlX2lkOlN0cmluZyhlKSwkYWlfbWV0cmljX25hbWU6dCwkYWlfbWV0cmljX3ZhbHVlOlN0cmluZyhpKX0pfX0hZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyllLnByb3RvdHlwZVt0W2ldXT1lZShlLnByb3RvdHlwZVt0W2ldXSl9KHJhLFtcImlkZW50aWZ5XCJdKTt2YXIgbmEsc2E9KG5hPUtvW1FvXT1uZXcgcmEsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7ZS5kb25lfHwoZS5kb25lPSEwLFpvPSExLFkoS28sKGZ1bmN0aW9uKGUpe2UuX2RvbV9sb2FkZWQoKX0pKSl9bnVsbCE9YSYmYS5hZGRFdmVudExpc3RlbmVyP1wiY29tcGxldGVcIj09PWEucmVhZHlTdGF0ZT9lKCk6b2UoYSxcIkRPTUNvbnRlbnRMb2FkZWRcIixlLHtjYXB0dXJlOiExfSk6dCYmTi5lcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyYCBzbyBQb3N0SG9nIGNvdWxkbid0IGJlIGluaXRpYWxpemVkXCIpfSgpLG5hKTtleHBvcnR7diBhcyBDT1BZX0FVVE9DQVBUVVJFX0VWRU5ULGUgYXMgQ29tcHJlc3Npb24scmEgYXMgUG9zdEhvZyxNcyBhcyBTdXJ2ZXlRdWVzdGlvbkJyYW5jaGluZ1R5cGUsT3MgYXMgU3VydmV5UXVlc3Rpb25UeXBlLEFzIGFzIFN1cnZleVNjaGVkdWxlLCRzIGFzIFN1cnZleVR5cGUsc2EgYXMgZGVmYXVsdCxnIGFzIGtub3duVW5zYWZlRWRpdGFibGVFdmVudCxzYSBhcyBwb3N0aG9nLGYgYXMgc2V2ZXJpdHlMZXZlbHN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/react/dist/esm/index.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/react/dist/esm/index.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\r\n    if (visited === void 0) { visited = new WeakMap(); }\r\n    if (obj1 === obj2) {\r\n        return true;\r\n    }\r\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\r\n        return true;\r\n    }\r\n    visited.set(obj1, obj2);\r\n    var keys1 = Object.keys(obj1);\r\n    var keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\r\n        var key = keys1_1[_i];\r\n        if (!keys2.includes(key)) {\r\n            return false;\r\n        }\r\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nfunction PostHogProvider(_a) {\r\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\r\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), alreadyInitialized = _b[0], setAlreadyInitialized = _b[1];\r\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\r\n        if (client) {\r\n            if (apiKey) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\r\n            }\r\n            if (options) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\r\n            }\r\n            return client;\r\n        }\r\n        if (apiKey) {\r\n            if (alreadyInitialized !== false) {\r\n                if (apiKey !== alreadyInitialized.previousAPIKey) {\r\n                    console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\r\n                }\r\n                if (options && !isDeepEqual(options, alreadyInitialized.previousOptions)) {\r\n                    posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\r\n                }\r\n                setAlreadyInitialized({\r\n                    previousAPIKey: apiKey,\r\n                    previousOptions: options !== null && options !== void 0 ? options : {},\r\n                });\r\n                return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n            }\r\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\r\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\r\n            setAlreadyInitialized({\r\n                previousAPIKey: apiKey,\r\n                previousOptions: options !== null && options !== void 0 ? options : {},\r\n            });\r\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        }\r\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\r\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n    }, [client, apiKey, JSON.stringify(options)]);\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\r\n}\n\nvar usePostHog = function () {\r\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\r\n    return client;\r\n};\n\nfunction useFeatureFlagEnabled(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureEnabled(client.isFeatureEnabled(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureEnabled;\r\n}\n\nfunction useFeatureFlagPayload(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagPayload;\r\n}\n\nfunction useActiveFeatureFlags() {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function (flags) {\r\n            setFeatureFlags(flags);\r\n        });\r\n    }, [client]);\r\n    return featureFlags;\r\n}\n\nfunction useFeatureFlagVariantKey(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\r\n        return client.getFeatureFlag(flag);\r\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagVariantKey;\r\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar isFunction = function (f) {\r\n    return typeof f === 'function';\r\n};\r\nvar isUndefined = function (x) {\r\n    return x === void 0;\r\n};\r\nvar isNull = function (x) {\r\n    return x === null;\r\n};\n\nfunction PostHogFeature(_a) {\r\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\r\n    var payload = useFeatureFlagPayload(flag);\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\r\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\r\n    if (isUndefined(match) || variant === match) {\r\n        var childNode = isFunction(children) ? children(payload) : children;\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\r\n}\r\nfunction captureFeatureInteraction(_a) {\r\n    var _b;\r\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\r\n    var properties = {\r\n        feature_flag: flag,\r\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\r\n    };\r\n    if (typeof flagVariant === 'string') {\r\n        properties.feature_flag_variant = flagVariant;\r\n    }\r\n    posthog.capture('$feature_interaction', properties);\r\n}\r\nfunction captureFeatureView(_a) {\r\n    var _b;\r\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\r\n    var properties = {\r\n        feature_flag: flag,\r\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\r\n    };\r\n    if (typeof flagVariant === 'string') {\r\n        properties.feature_flag_variant = flagVariant;\r\n    }\r\n    posthog.capture('$feature_view', properties);\r\n}\r\nfunction VisibilityAndClickTracker(_a) {\r\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\r\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n    var posthog = usePostHog();\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        if (isNull(ref.current) || !trackView)\r\n            return;\r\n        var observer = new IntersectionObserver(function (_a) {\r\n            var entry = _a[0];\r\n            return onIntersect(entry);\r\n        }, __assign({ threshold: 0.1 }, options));\r\n        observer.observe(ref.current);\r\n        return function () { return observer.disconnect(); };\r\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\r\n}\r\nfunction VisibilityAndClickTrackers(_a) {\r\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\r\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var posthog = usePostHog();\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n        if (!clickTrackedRef.current && trackInteraction) {\r\n            captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant });\r\n            clickTrackedRef.current = true;\r\n        }\r\n    }, [flag, posthog, trackInteraction, variant]);\r\n    var onIntersect = function (entry) {\r\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\r\n            captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant });\r\n            visibilityTrackedRef.current = true;\r\n        }\r\n    };\r\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\r\n    });\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcG9zdGhvZy1qc0AxLjIzNC4xL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ21GOztBQUV0SCxxQkFBcUIsb0RBQWEsR0FBRyxRQUFRLGtEQUFTLEVBQUU7O0FBRXhEO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxQkFBcUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVE7QUFDckIsa0JBQWtCLDhDQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQSwwRkFBMEY7QUFDMUYsaUJBQWlCO0FBQ2pCLHVCQUF1QixrREFBUztBQUNoQztBQUNBLGdCQUFnQixrREFBUztBQUN6QjtBQUNBO0FBQ0EsWUFBWSxrREFBUztBQUNyQjtBQUNBO0FBQ0Esc0ZBQXNGO0FBQ3RGLGFBQWE7QUFDYixtQkFBbUIsa0RBQVM7QUFDNUI7QUFDQTtBQUNBLGVBQWUsa0RBQVM7QUFDeEIsS0FBSztBQUNMLFdBQVcsMERBQW1CLDRCQUE0QixTQUFTLG1CQUFtQjtBQUN0Rjs7QUFFQTtBQUNBLGlCQUFpQixpREFBVTtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRLGVBQWUsdUNBQXVDO0FBQzNFLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRLGVBQWUsNENBQTRDO0FBQ2hGLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRLGVBQWUsd0NBQXdDO0FBQzVFLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRO0FBQ3JCO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQW1CLHdDQUF3QyxzSEFBc0g7QUFDak07QUFDQSxXQUFXLDBEQUFtQixDQUFDLHVEQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZDQUFNO0FBQ3BCO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGFBQWEsZ0JBQWdCO0FBQ3RDO0FBQ0EsNkJBQTZCO0FBQzdCLEtBQUs7QUFDTCxZQUFZLDBEQUFtQixtQkFBbUIsVUFBVSxXQUFXLGtCQUFrQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQU07QUFDaEMsK0JBQStCLDZDQUFNO0FBQ3JDO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQSx3Q0FBd0Msb0RBQW9EO0FBQzVGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlDQUFpQyxvREFBb0Q7QUFDckY7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJDQUFRO0FBQ2xDLGdCQUFnQiwwREFBbUIsdUNBQXVDLHNHQUFzRztBQUNoTCxLQUFLO0FBQ0wsV0FBVywwREFBbUIsQ0FBQyx1REFBYztBQUM3Qzs7QUFFc0siLCJzb3VyY2VzIjpbIi9Vc2Vycy9tdWl6emthcmFvbGUvRGVza3RvcC9naXRodWIvTG9jYWwgUmVwb3NpdG9yeS90d2VldC1yZXBseS9ub2RlX21vZHVsZXMvLnBucG0vcG9zdGhvZy1qc0AxLjIzNC4xL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwb3N0aG9nSnMgZnJvbSAncG9zdGhvZy1qcyc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbnZhciBQb3N0SG9nQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoeyBjbGllbnQ6IHBvc3Rob2dKcyB9KTtcblxuZnVuY3Rpb24gaXNEZWVwRXF1YWwob2JqMSwgb2JqMiwgdmlzaXRlZCkge1xyXG4gICAgaWYgKHZpc2l0ZWQgPT09IHZvaWQgMCkgeyB2aXNpdGVkID0gbmV3IFdlYWtNYXAoKTsgfVxyXG4gICAgaWYgKG9iajEgPT09IG9iajIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgb2JqMSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcgfHwgb2JqMiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2aXNpdGVkLmhhcyhvYmoxKSAmJiB2aXNpdGVkLmdldChvYmoxKSA9PT0gb2JqMikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmlzaXRlZC5zZXQob2JqMSwgb2JqMik7XHJcbiAgICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcclxuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xyXG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzMV8xID0ga2V5czE7IF9pIDwga2V5czFfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5czFfMVtfaV07XHJcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSwgdmlzaXRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XG5cbmZ1bmN0aW9uIFBvc3RIb2dQcm92aWRlcihfYSkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsaWVudCA9IF9hLmNsaWVudCwgYXBpS2V5ID0gX2EuYXBpS2V5LCBvcHRpb25zID0gX2Eub3B0aW9ucztcclxuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZhbHNlKSwgYWxyZWFkeUluaXRpYWxpemVkID0gX2JbMF0sIHNldEFscmVhZHlJbml0aWFsaXplZCA9IF9iWzFdO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgYXBpS2V5YCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgb3B0aW9uc2AgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBvcHRpb25zYCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgaWYgKGFscmVhZHlJbml0aWFsaXplZCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcGlLZXkgIT09IGFscmVhZHlJbml0aWFsaXplZC5wcmV2aW91c0FQSUtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBhIGRpZmZlcmVudCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYCB0aGFuIHRoZSBvbmUgdGhhdCB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IG91ciBwcm92aWRlciBhbmQgd2UnbGwga2VlcCB1c2luZyB0aGUgcHJldmlvdXMga2V5LiBJZiB5b3UgbmVlZCB0byB0b2dnbGUgYmV0d2VlbiBBUEkgS2V5cyB5b3UgbmVlZCB0byBjb250cm9sIHRoZSBgY2xpZW50YCB5b3Vyc2VsZiBhbmQgcGFzcyBpdCBpbiBhcyBhIHByb3AgcmF0aGVyIHRoYW4gYW4gYGFwaUtleWAgcHJvcC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAmJiAhaXNEZWVwRXF1YWwob3B0aW9ucywgYWxyZWFkeUluaXRpYWxpemVkLnByZXZpb3VzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3N0aG9nSnMuc2V0X2NvbmZpZyhvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNldEFscmVhZHlJbml0aWFsaXplZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNBUElLZXk6IGFwaUtleSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdGhvZ0pzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwb3N0aG9nSnMuX19sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIGBwb3N0aG9nYCB3YXMgYWxyZWFkeSBsb2FkZWQgZWxzZXdoZXJlLiBUaGlzIG1heSBjYXVzZSBpc3N1ZXMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9zdGhvZ0pzLmluaXQoYXBpS2V5LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgc2V0QWxyZWFkeUluaXRpYWxpemVkKHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzQVBJS2V5OiBhcGlLZXksXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c09wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gTm8gYGFwaUtleWAgb3IgYGNsaWVudGAgd2VyZSBwcm92aWRlZCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gVXNpbmcgZGVmYXVsdCBnbG9iYWwgYHdpbmRvdy5wb3N0aG9nYCBpbnN0YW5jZS4gWW91IG11c3QgaW5pdGlhbGl6ZSBpdCBtYW51YWxseS4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgYmVoYXZpb3IuJyk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBvc3RIb2dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsaWVudDogcG9zdGhvZyB9IH0sIGNoaWxkcmVuKTtcclxufVxuXG52YXIgdXNlUG9zdEhvZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KS5jbGllbnQ7XHJcbiAgICByZXR1cm4gY2xpZW50O1xyXG59O1xuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpOyB9KSwgZmVhdHVyZUVuYWJsZWQgPSBfYVswXSwgc2V0RmVhdHVyZUVuYWJsZWQgPSBfYVsxXTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVFbmFibGVkKGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcclxuICAgIHJldHVybiBmZWF0dXJlRW5hYmxlZDtcclxufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7IH0pLCBmZWF0dXJlRmxhZ1BheWxvYWQgPSBfYVswXSwgc2V0RmVhdHVyZUZsYWdQYXlsb2FkID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ1BheWxvYWQoY2xpZW50LmdldEZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdQYXlsb2FkO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUFjdGl2ZUZlYXR1cmVGbGFncygpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZmVhdHVyZUZsYWdzLmdldEZsYWdzKCk7IH0pLCBmZWF0dXJlRmxhZ3MgPSBfYVswXSwgc2V0RmVhdHVyZUZsYWdzID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKGZsYWdzKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFncyhmbGFncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50XSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdzO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZyk7XHJcbiAgICB9KSwgZmVhdHVyZUZsYWdWYXJpYW50S2V5ID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdWYXJpYW50S2V5KGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdWYXJpYW50S2V5O1xyXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbic7XHJcbn07XHJcbnZhciBpc1VuZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICByZXR1cm4geCA9PT0gdm9pZCAwO1xyXG59O1xyXG52YXIgaXNOdWxsID0gZnVuY3Rpb24gKHgpIHtcclxuICAgIHJldHVybiB4ID09PSBudWxsO1xyXG59O1xuXG5mdW5jdGlvbiBQb3N0SG9nRmVhdHVyZShfYSkge1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBtYXRjaCA9IF9hLm1hdGNoLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrLCB2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zID0gX2EudmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJtYXRjaFwiLCBcImNoaWxkcmVuXCIsIFwiZmFsbGJhY2tcIiwgXCJ2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiXSk7XHJcbiAgICB2YXIgcGF5bG9hZCA9IHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTtcclxuICAgIHZhciB2YXJpYW50ID0gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpO1xyXG4gICAgdmFyIHNob3VsZFRyYWNrSW50ZXJhY3Rpb24gPSB0cmFja0ludGVyYWN0aW9uICE9PSBudWxsICYmIHRyYWNrSW50ZXJhY3Rpb24gIT09IHZvaWQgMCA/IHRyYWNrSW50ZXJhY3Rpb24gOiB0cnVlO1xyXG4gICAgdmFyIHNob3VsZFRyYWNrVmlldyA9IHRyYWNrVmlldyAhPT0gbnVsbCAmJiB0cmFja1ZpZXcgIT09IHZvaWQgMCA/IHRyYWNrVmlldyA6IHRydWU7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQobWF0Y2gpIHx8IHZhcmlhbnQgPT09IG1hdGNoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4ocGF5bG9hZCkgOiBjaGlsZHJlbjtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb3B0aW9uczogdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbjogc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3OiBzaG91bGRUcmFja1ZpZXcgfSwgcHJvcHMpLCBjaGlsZE5vZGUpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBmYWxsYmFjayk7XHJcbn1cclxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbihfYSkge1xyXG4gICAgdmFyIF9iO1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcclxuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcclxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV9pbnRlcmFjdGlvbi9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxyXG4gICAgfTtcclxuICAgIGlmICh0eXBlb2YgZmxhZ1ZhcmlhbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xyXG4gICAgfVxyXG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV9pbnRlcmFjdGlvbicsIHByb3BlcnRpZXMpO1xyXG59XHJcbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlVmlldyhfYSkge1xyXG4gICAgdmFyIF9iO1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcclxuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcclxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV92aWV3L1wiLmNvbmNhdChmbGFnKV0gPSBmbGFnVmFyaWFudCAhPT0gbnVsbCAmJiBmbGFnVmFyaWFudCAhPT0gdm9pZCAwID8gZmxhZ1ZhcmlhbnQgOiB0cnVlLCBfYiksXHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGVvZiBmbGFnVmFyaWFudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBwcm9wZXJ0aWVzLmZlYXR1cmVfZmxhZ192YXJpYW50ID0gZmxhZ1ZhcmlhbnQ7XHJcbiAgICB9XHJcbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX3ZpZXcnLCBwcm9wZXJ0aWVzKTtcclxufVxyXG5mdW5jdGlvbiBWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyKF9hKSB7XHJcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG9uSW50ZXJzZWN0ID0gX2Eub25JbnRlcnNlY3QsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwib25JbnRlcnNlY3RcIiwgXCJvbkNsaWNrXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiXSk7XHJcbiAgICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpc051bGwocmVmLmN1cnJlbnQpIHx8ICF0cmFja1ZpZXcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gb25JbnRlcnNlY3QoZW50cnkpO1xyXG4gICAgICAgIH0sIF9fYXNzaWduKHsgdGhyZXNob2xkOiAwLjEgfSwgb3B0aW9ucykpO1xyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYnNlcnZlci5kaXNjb25uZWN0KCk7IH07XHJcbiAgICB9LCBbZmxhZywgb3B0aW9ucywgcG9zdGhvZywgcmVmLCB0cmFja1ZpZXcsIG9uSW50ZXJzZWN0XSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyByZWY6IHJlZiB9LCBwcm9wcywgeyBvbkNsaWNrOiBvbkNsaWNrIH0pLCBjaGlsZHJlbikpO1xyXG59XHJcbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzKF9hKSB7XHJcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIl0pO1xyXG4gICAgdmFyIGNsaWNrVHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgICB2YXIgdmlzaWJpbGl0eVRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgdmFyaWFudCA9IHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKTtcclxuICAgIHZhciBjYWNoZWRPbkNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgJiYgdHJhY2tJbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uKHsgZmxhZzogZmxhZywgcG9zdGhvZzogcG9zdGhvZywgZmxhZ1ZhcmlhbnQ6IHZhcmlhbnQgfSk7XHJcbiAgICAgICAgICAgIGNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbZmxhZywgcG9zdGhvZywgdHJhY2tJbnRlcmFjdGlvbiwgdmFyaWFudF0pO1xyXG4gICAgdmFyIG9uSW50ZXJzZWN0ID0gZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgaWYgKCF2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ICYmIGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgICAgIGNhcHR1cmVGZWF0dXJlVmlldyh7IGZsYWc6IGZsYWcsIHBvc3Rob2c6IHBvc3Rob2csIGZsYWdWYXJpYW50OiB2YXJpYW50IH0pO1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIHRyYWNrZWRDaGlsZHJlbiA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb25DbGljazogY2FjaGVkT25DbGljaywgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRyYWNrVmlldywgb3B0aW9uczogb3B0aW9ucyB9LCBwcm9wcyksIGNoaWxkKSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB0cmFja2VkQ2hpbGRyZW4pO1xyXG59XG5cbmV4cG9ydCB7IFBvc3RIb2dDb250ZXh0LCBQb3N0SG9nRmVhdHVyZSwgUG9zdEhvZ1Byb3ZpZGVyLCB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MsIHVzZUZlYXR1cmVGbGFnRW5hYmxlZCwgdXNlRmVhdHVyZUZsYWdQYXlsb2FkLCB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXksIHVzZVBvc3RIb2cgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/posthog-js@1.234.1/node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;